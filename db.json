{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/1571305205.jpg","path":"images/1571305205.jpg","modified":1,"renderable":0},{"_id":"source/images/1571305643.jpg","path":"images/1571305643.jpg","modified":1,"renderable":0},{"_id":"source/images/1571319042.jpg","path":"images/1571319042.jpg","modified":1,"renderable":0},{"_id":"source/images/20191012104426.png","path":"images/20191012104426.png","modified":1,"renderable":0},{"_id":"source/images/pasted-0.png","path":"images/pasted-0.png","modified":1,"renderable":0},{"_id":"source/images/pasted-1.png","path":"images/pasted-1.png","modified":1,"renderable":0},{"_id":"source/images/pasted-15.png","path":"images/pasted-15.png","modified":1,"renderable":0},{"_id":"source/images/pasted-16.png","path":"images/pasted-16.png","modified":1,"renderable":0},{"_id":"source/images/pasted-17.png","path":"images/pasted-17.png","modified":1,"renderable":0},{"_id":"source/images/pasted-18.png","path":"images/pasted-18.png","modified":1,"renderable":0},{"_id":"source/images/pasted-19.png","path":"images/pasted-19.png","modified":1,"renderable":0},{"_id":"source/images/pasted-2.png","path":"images/pasted-2.png","modified":1,"renderable":0},{"_id":"source/images/pasted-20.png","path":"images/pasted-20.png","modified":1,"renderable":0},{"_id":"source/images/pasted-22.png","path":"images/pasted-22.png","modified":1,"renderable":0},{"_id":"source/images/pasted-3.png","path":"images/pasted-3.png","modified":1,"renderable":0},{"_id":"source/images/pasted-4.png","path":"images/pasted-4.png","modified":1,"renderable":0},{"_id":"source/images/pasted-5.png","path":"images/pasted-5.png","modified":1,"renderable":0},{"_id":"source/images/user.jpg","path":"images/user.jpg","modified":1,"renderable":0},{"_id":"source/images/pasted-14.png","path":"images/pasted-14.png","modified":1,"renderable":0},{"_id":"source/images/pasted-21.png","path":"images/pasted-21.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/local-search.js","path":"js/local-search.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/anime.min.js","path":"lib/anime.min.js","modified":1,"renderable":1},{"_id":"source/images/pasted-10.png","path":"images/pasted-10.png","modified":1,"renderable":0},{"_id":"source/images/pasted-13.png","path":"images/pasted-13.png","modified":1,"renderable":0},{"_id":"source/images/pasted-7.png","path":"images/pasted-7.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"source/images/pasted-8.png","path":"images/pasted-8.png","modified":1,"renderable":0},{"_id":"source/images/pasted-12.png","path":"images/pasted-12.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"source/images/pasted-6.png","path":"images/pasted-6.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"source/images/pasted-11.png","path":"images/pasted-11.png","modified":1,"renderable":0},{"_id":"source/images/pasted-9.png","path":"images/pasted-9.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"source/images/hexo1.png","path":"images/hexo1.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1}],"Cache":[{"_id":"themes/hexo-theme-next/.editorconfig","hash":"731c650ddad6eb0fc7c3d4a91cad1698fe7ad311","modified":1570841714309},{"_id":"themes/hexo-theme-next/.all-contributorsrc","hash":"15690defb4a94247043007b66f571dd93f8e7296","modified":1570841714299},{"_id":"themes/hexo-theme-next/.eslintrc.json","hash":"d3c11de434171d55d70daadd3914bc33544b74b8","modified":1570841714319},{"_id":"themes/hexo-theme-next/.gitattributes","hash":"3e00e1fb043438cd820d94ee3dc9ffb6718996f3","modified":1570841715331},{"_id":"themes/hexo-theme-next/.gitignore","hash":"d9021ac0041b511356fc7044cb02c6e0e567d706","modified":1570841715534},{"_id":"themes/hexo-theme-next/.stylintrc","hash":"6259e2a0b65d46865ab89564b88fc67638668295","modified":1570841715544},{"_id":"themes/hexo-theme-next/.travis.yml","hash":"ab4876c2161fb12f022e8210b37515195396e1aa","modified":1570841715554},{"_id":"themes/hexo-theme-next/LICENSE.md","hash":"0a9c7399f102b4eb0a6950dd31264be421557c7d","modified":1570841717127},{"_id":"themes/hexo-theme-next/README.md","hash":"ae1cc6ecb42e95484104e819ced804fbc27d97c2","modified":1570841717150},{"_id":"themes/hexo-theme-next/_config.yml","hash":"1544ed06058a936be2db82f23fb1dc6bf9af7dd9","modified":1571729551788},{"_id":"themes/hexo-theme-next/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1570841715568},{"_id":"themes/hexo-theme-next/gulpfile.js","hash":"6e9e3bdd32f5a3495c7d1cb6916db314f4827f1a","modified":1570841715848},{"_id":"themes/hexo-theme-next/package.json","hash":"e67722130a48fe59d954dc20ff20db008084e95f","modified":1570841717139},{"_id":"source/about/index.md","hash":"8ebe5643f8bdef537ae033df83bc844a5f5f6557","modified":1572426164633},{"_id":"source/archives/index.md","hash":"0f297b750219c88da3683779d0ce7d64a3b9fe72","modified":1570841714161},{"_id":"source/categories/index.md","hash":"9bff4c125330f333747b4c120b6604c31622e38f","modified":1570841714178},{"_id":"source/images/1571305205.jpg","hash":"d40f779dc56a4269e1a761e3956892dec5404e0c","modified":1571311435887},{"_id":"source/images/1571305643.jpg","hash":"79b9d9cf14af8ec5217dcedb23d4d142a5748412","modified":1571311435887},{"_id":"source/images/1571319042.jpg","hash":"1cc804f0c9d07e0bfa7516783952dcaacc6868c7","modified":1571385922862},{"_id":"source/images/20191012104426.png","hash":"30fe3ff434c771afff584b11366c913ca1bf4119","modified":1571311435887},{"_id":"source/images/pasted-0.png","hash":"d3c8aa66b0aa9ed7d716d71c250fed81c9960369","modified":1570862847650},{"_id":"source/images/pasted-1.png","hash":"9abfddd838756bead575da6f4b56caee4fd69b5c","modified":1571034965939},{"_id":"source/images/pasted-15.png","hash":"9eef1a9acbb85979d6dfc45b0422ddf10ac5fd98","modified":1571385922878},{"_id":"source/images/pasted-16.png","hash":"e13fecb65c588a2c8c496d2bdbf98d0be40b3710","modified":1571730060375},{"_id":"source/images/pasted-17.png","hash":"d45c0f547787651f988e77d98665f4d7fcc323e2","modified":1571730175724},{"_id":"source/images/pasted-18.png","hash":"af770710b24994814e4c6e640f21ac0c38465eeb","modified":1571730231462},{"_id":"source/images/pasted-19.png","hash":"3a92f75fc69aaa5bc3f74561621e9e485393805c","modified":1571730280200},{"_id":"source/images/pasted-2.png","hash":"a891705a32943c6a73e8cc6bdfd49916cdbc7aed","modified":1571035468863},{"_id":"source/images/pasted-20.png","hash":"47ca9edb57c0ac300b1d0f75f1950175fcc49613","modified":1571730357428},{"_id":"source/images/pasted-22.png","hash":"281da8e2bf86e5d9fb885c99629361577ca8dc9d","modified":1571730497360},{"_id":"source/images/pasted-3.png","hash":"5cac17846eee5dcfc5a09b930f8df7363fb3b51f","modified":1571385922879},{"_id":"source/images/pasted-4.png","hash":"826ee6885ad5f99544af1c6144d9eadec511c531","modified":1571385922880},{"_id":"source/images/pasted-5.png","hash":"2517134e2dc566d9ab33cba9d1314a6c6cd5aae3","modified":1571385922881},{"_id":"source/images/user.jpg","hash":"2bd6ae23a04e5ee19a518a298330dd0b2811627e","modified":1570860362449},{"_id":"source/schedule/index.md","hash":"2331a9d628a82c0810d22c0c823afa6c7ba6d395","modified":1570841714197},{"_id":"source/tags/index.md","hash":"f3e4ea957ba400488de3f16ecc9026ecf495a8ca","modified":1570841714218},{"_id":"themes/hexo-theme-next/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1570841715584},{"_id":"themes/hexo-theme-next/docs/ALGOLIA-SEARCH.md","hash":"6a8d3d3f37d2212e52e1081115f33b55f0e71cf7","modified":1570841715595},{"_id":"themes/hexo-theme-next/docs/DATA-FILES.md","hash":"062b36699c78676a25e3da95bb197841adb600ba","modified":1570841715616},{"_id":"themes/hexo-theme-next/docs/INSTALLATION.md","hash":"07ea00bee149a1bdc9073e903ee6b411e9f2f818","modified":1570841715624},{"_id":"themes/hexo-theme-next/docs/AUTHORS.md","hash":"77c0745ec6a2837f80596f4dd4bced6cff79edaa","modified":1570841715605},{"_id":"themes/hexo-theme-next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"661deb61a2d225af4498769dba09561046a3d871","modified":1570841715634},{"_id":"themes/hexo-theme-next/docs/LICENSE.txt","hash":"ae5ad07e4f4106bad55535dba042221539e6c7f9","modified":1570841715648},{"_id":"themes/hexo-theme-next/docs/MATH.md","hash":"5b7ea122699e84214fc83ff26e046626e6be4efc","modified":1570841715657},{"_id":"themes/hexo-theme-next/docs/UPDATE-FROM-5.1.X.md","hash":"20e2223836233c812f268b4a7050762dd56cf2be","modified":1570841715719},{"_id":"themes/hexo-theme-next/languages/de.yml","hash":"c94ff69db40c22de61ce6446cdc9108177379074","modified":1570841715865},{"_id":"themes/hexo-theme-next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1570841715876},{"_id":"themes/hexo-theme-next/languages/en.yml","hash":"f6a8d95948762c978d2ed065c5f87d2061aa6fc1","modified":1570841715885},{"_id":"themes/hexo-theme-next/languages/es.yml","hash":"203084eace039610ac097e0e6ce6b5f4f8356217","modified":1570841715899},{"_id":"themes/hexo-theme-next/languages/fa.yml","hash":"856e19aec28767e1f91a8e805011f82c7601ec60","modified":1570841715913},{"_id":"themes/hexo-theme-next/languages/fr.yml","hash":"a9ac6ce36e97a06ad6ab3431eb652b8702b7a63e","modified":1570841715922},{"_id":"themes/hexo-theme-next/languages/hu.yml","hash":"313894fd5615e37c1935a235f8f702df7852345a","modified":1570841715931},{"_id":"themes/hexo-theme-next/languages/id.yml","hash":"1c321f62378dc029f7b795ad2fcb0f80277de52f","modified":1570841715942},{"_id":"themes/hexo-theme-next/languages/it.yml","hash":"08b2db3eece91edd2759ca4b26de74b2992c7dae","modified":1570841715955},{"_id":"themes/hexo-theme-next/languages/ja.yml","hash":"8341ccdd1b2fbf11e9d80c1aacd37a969c57ca9c","modified":1570841715967},{"_id":"themes/hexo-theme-next/languages/ko.yml","hash":"4f3a4165ceaaada238316fe8bd2438f775abebfc","modified":1570841715977},{"_id":"themes/hexo-theme-next/languages/nl.yml","hash":"387ea251057164f8dcd38553bac01a909cf11f0d","modified":1570841715988},{"_id":"themes/hexo-theme-next/languages/pt-BR.yml","hash":"075140b21edd6cb0ec1e9b3e79e1339d1e1a17e4","modified":1570841716002},{"_id":"themes/hexo-theme-next/languages/pt.yml","hash":"7d3f040065b0a04a23d3be42ddfcafc95f79854e","modified":1570841716015},{"_id":"themes/hexo-theme-next/languages/ru.yml","hash":"ca8f3c22fb10cf3e455890e0f1f2b29b8814a702","modified":1570841716027},{"_id":"themes/hexo-theme-next/languages/tr.yml","hash":"c99f21a9cb86957618428e488ece24df063222f3","modified":1570841716039},{"_id":"themes/hexo-theme-next/languages/uk.yml","hash":"aa90a1b6f12f5bae1ff6386ea99c63db901179a8","modified":1570841716050},{"_id":"themes/hexo-theme-next/languages/vi.yml","hash":"a5f60a2b3dc1b90b867e99dd3b108113a04f9ba5","modified":1570841716060},{"_id":"themes/hexo-theme-next/languages/zh-CN.yml","hash":"8c70af9442f12aa65e8737774ea032bb6420a715","modified":1570841716070},{"_id":"themes/hexo-theme-next/languages/zh-HK.yml","hash":"1c8b8ad49a15ea3491555a2ae1819b1ad405fab2","modified":1570841716080},{"_id":"themes/hexo-theme-next/languages/zh-TW.yml","hash":"7402f4b899dbeead3641417bfaf5f46f3a3934a5","modified":1570841716091},{"_id":"themes/hexo-theme-next/layout/_layout.swig","hash":"e985b773af50b877b5e59d0496bea7d9a04d4d8d","modified":1570841716171},{"_id":"themes/hexo-theme-next/layout/archive.swig","hash":"794f4f666994bd7b3a9131139fdbf2dfaf439973","modified":1570841716109},{"_id":"themes/hexo-theme-next/layout/category.swig","hash":"8e2ed5e086075d9371de44406513976f8a8e3157","modified":1570841716122},{"_id":"themes/hexo-theme-next/layout/index.swig","hash":"6f79d0463a822a36b4e3f50aaf0ce60524954ed2","modified":1570841716131},{"_id":"themes/hexo-theme-next/layout/page.swig","hash":"c7936778aa21e1bb881d43786d9ab0fa71c2b783","modified":1570841716141},{"_id":"themes/hexo-theme-next/layout/post.swig","hash":"16fe0b4da46347cfe7da9386070e3a2baf18dfe9","modified":1570841716149},{"_id":"themes/hexo-theme-next/layout/tag.swig","hash":"7aedfa953fd093edd473c987ca4d8df7a770eb14","modified":1570841716161},{"_id":"source/images/pasted-14.png","hash":"14af2d4b6d14653899b10c03ecc07207ad86395d","modified":1571385922877},{"_id":"source/images/pasted-21.png","hash":"31f87643d91327398ec50454d3fb4f0b343948a9","modified":1571730415853},{"_id":"source/_posts/git/git学习常用命令.md","hash":"3d1e48053e08ce03a2efa86caddb30c9c0c0c905","modified":1571313524804},{"_id":"source/_posts/hexo/Hexo-博客部署到腾讯云服务器全流程.md","hash":"f6f8ac0c21128ff7dd7f18cf2fbc99ca36d16001","modified":1571385922825},{"_id":"source/_posts/hexo/为Hexo添加评论-Valine.md","hash":"21fd085d79604c4043ee36ee7bf5adbac3617ef0","modified":1571730739817},{"_id":"source/_posts/hexo/使用hexo-github搭建免费个人博客.md","hash":"ecabc0309cb9a83611721d9f56c1860077434f1e","modified":1571385922826},{"_id":"source/_posts/linux/CentOS系统下各文件夹的作用.md","hash":"de1c67dcea6fddbd9724ba2ca8e72a09ebe69293","modified":1571730913270},{"_id":"source/_posts/linux/Centos7.4安装镜像源和repo源.md","hash":"7a2adf74388267d1e11f26b0a574d9b067efdf61","modified":1571731253382},{"_id":"source/_posts/linux/Centos下部署Nginx前端项目.md","hash":"f30544260e00e52a2a226c244643df6a7ec554f5","modified":1571303741141},{"_id":"source/_posts/linux/VMWare 下安装Centos网络设置（局域网配置）.md","hash":"132e760a207956dbe45222e5d07d829b1debec10","modified":1571385922858},{"_id":"source/_posts/linux/Linux命令中tail的用法.md","hash":"60c42df6934b35b255e37fc4b4665863752edc6d","modified":1571730743054},{"_id":"source/_posts/linux/centos7 Mysql安装.md","hash":"705792f5610519bb6fa8fb048660753b86f6eb88","modified":1571731486132},{"_id":"source/_posts/linux/centos 开放端口方法.md","hash":"ec1e538031eb1e9f7250bc8cbc4e4b0639d3ed04","modified":1571731383236},{"_id":"source/_posts/linux/centos安装git.md","hash":"e59163780c5fe0708e82ec4a343b838113bd43d7","modified":1571312003013},{"_id":"source/_posts/windows/20180406205647811.png","hash":"350517a82e8f8005a7bfd5fa9fdf3eb783e8bad6","modified":1571018944405},{"_id":"source/_posts/windows/Win10安装Mongodb，并配置成服务.md","hash":"1a0037c60f5416f2c2631c4d4aa30cfd4cd8c545","modified":1571034563284},{"_id":"source/_posts/开发工具/vscode 常用配置.md","hash":"a7a61cbc70cb2c7cb840eaccc6fafd1b3b8726c0","modified":1571304123448},{"_id":"source/_posts/终端/SSH 上传下载文件.md","hash":"e41bd8595b50b2aad14c21279dec619cfb383683","modified":1571304207073},{"_id":"source/_posts/终端/shell中curl 的用法.md","hash":"1b87b0be5f99aa37b74896d28af4a6b8c24411eb","modified":1571304197947},{"_id":"source/_posts/终端/vim基础教程.md","hash":"4e63a183237cf39de02b19132be9ee83cad2887e","modified":1571736231765},{"_id":"themes/hexo-theme-next/docs/ru/DATA-FILES.md","hash":"6db9eb0e2393a391a5e17b62a43b264fce5ed018","modified":1570841715673},{"_id":"themes/hexo-theme-next/docs/ru/README.md","hash":"f953803f0cd9a0b93798550a5c9c03b759f9fd91","modified":1570841715694},{"_id":"themes/hexo-theme-next/docs/ru/INSTALLATION.md","hash":"a9cfe5ac9ef727a8650b2b6584482751a26b1460","modified":1570841715683},{"_id":"themes/hexo-theme-next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"510cfd27e37e3a611649a3d1a84cc52fd4da5936","modified":1570841715706},{"_id":"themes/hexo-theme-next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"55e21e78c50faa27248c9337bf49c153dad34843","modified":1570841715747},{"_id":"themes/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7202fd76db39f8246a0f80aab68b720d89f48af1","modified":1570841715735},{"_id":"themes/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"337380ecee729ed569d39ab7a6e891e07a26627c","modified":1570841715756},{"_id":"themes/hexo-theme-next/docs/zh-CN/INSTALLATION.md","hash":"716111dd36d276f463c707dfcc9937fea2a1cf7a","modified":1570841715781},{"_id":"themes/hexo-theme-next/docs/zh-CN/DATA-FILES.md","hash":"a7de5ce2931290a67feebd149e41a9648de4bb83","modified":1570841715770},{"_id":"themes/hexo-theme-next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"3f3e889b5739c386dfa962d7e85d595b0feb726d","modified":1570841715791},{"_id":"themes/hexo-theme-next/docs/zh-CN/MATH.md","hash":"85756eb675967f49fdb47befa961da2c8d5e8d02","modified":1570841715803},{"_id":"themes/hexo-theme-next/docs/zh-CN/README.md","hash":"6e5295b994c3f3f8b4e209671dd4518ae8ff4430","modified":1570841715815},{"_id":"themes/hexo-theme-next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"e93a800008567dd48b6f388982ec72db91bb913a","modified":1570841715828},{"_id":"themes/hexo-theme-next/layout/_macro/post-collapse.swig","hash":"4a70bf0485ad404e30ca16bf55103b6161feeb4f","modified":1570841716188},{"_id":"themes/hexo-theme-next/layout/_macro/post.swig","hash":"bada79ab078f2485a644b2234ade72ac87a1e62a","modified":1570841716198},{"_id":"themes/hexo-theme-next/layout/_macro/sidebar.swig","hash":"fa65f8185bb63bf8e59c21eac74544e797e24557","modified":1571729102619},{"_id":"themes/hexo-theme-next/layout/_partials/comments.swig","hash":"33e7c276c58285fec3eae31d7eb3fe3faea8695f","modified":1570841716314},{"_id":"themes/hexo-theme-next/layout/_partials/footer.swig","hash":"8d5484dbadb63c8dc48e7f0656e88dab9d5af661","modified":1570841716324},{"_id":"themes/hexo-theme-next/layout/_partials/pagination.swig","hash":"29ce76e36011da76c50d482396e2558f72525fe0","modified":1570841716456},{"_id":"themes/hexo-theme-next/layout/_partials/post-edit.swig","hash":"9f416077d4e897bb5bb896bd798af897e6083d73","modified":1570841716532},{"_id":"themes/hexo-theme-next/layout/_partials/widgets.swig","hash":"5392dcbb504266f0f61d5b8219914068ef9cdc25","modified":1570841716606},{"_id":"themes/hexo-theme-next/layout/_scripts/index.swig","hash":"1822eaf55bbb4bec88871c324fc18ad95580ccb4","modified":1570841716625},{"_id":"themes/hexo-theme-next/layout/_scripts/noscript.swig","hash":"b819cc7752fd018b8971cfe61ee7569f49f9d56d","modified":1570841716639},{"_id":"themes/hexo-theme-next/layout/_scripts/pjax.swig","hash":"db87448a078f4a243c80710d707adc14248acf5e","modified":1570841716664},{"_id":"themes/hexo-theme-next/layout/_scripts/three.swig","hash":"d0744054af8f7e25e5a008cad6ffed888152997b","modified":1570841716724},{"_id":"themes/hexo-theme-next/layout/_scripts/vendors.swig","hash":"cfd9ad51cc191fd3af6773319f2cde8ef4dd3749","modified":1570841716734},{"_id":"themes/hexo-theme-next/layout/_third-party/baidu-push.swig","hash":"bd9ba0bf60cc3008ee14339fa395ee6af188e879","modified":1570841716817},{"_id":"themes/hexo-theme-next/layout/_third-party/facebook-sdk.swig","hash":"f9cda21dd7ad8ed013bdf1f6e97a7279caa9f5f0","modified":1570841716934},{"_id":"themes/hexo-theme-next/layout/_third-party/index.swig","hash":"838dc2cc1f520c5f7b43e3f464188060ae862bd6","modified":1570841716942},{"_id":"themes/hexo-theme-next/layout/_third-party/quicklink.swig","hash":"4a95b3f9b623304aa340c7e4cf3e0569b00954aa","modified":1570841716993},{"_id":"themes/hexo-theme-next/layout/_third-party/rating.swig","hash":"206644ff2c769226a58a9039eda9206302460626","modified":1570841717005},{"_id":"themes/hexo-theme-next/layout/_third-party/vkontakte-api.swig","hash":"7c918db6e1af16d47789d3958d9ad208ea0e86b2","modified":1570841717107},{"_id":"themes/hexo-theme-next/scripts/events/index.js","hash":"b075ef0d0bf28ca1b9ad7606f7eb89b33ab8ae97","modified":1570841717173},{"_id":"themes/hexo-theme-next/scripts/filters/default-injects.js","hash":"1a1abfb4a28fbcd9315666e268b0cc56f230a2a2","modified":1570841717352},{"_id":"themes/hexo-theme-next/scripts/filters/excerpt.js","hash":"a66d503e52fd6ee2b17d3ac17920d62ca06ebffe","modified":1570841717362},{"_id":"themes/hexo-theme-next/scripts/filters/exturl.js","hash":"4911d916f4ba635c9769af97ef885ab9efb5ad37","modified":1570841717375},{"_id":"themes/hexo-theme-next/scripts/filters/lazyload.js","hash":"3b68841eebde1e4ac0d19c3e82d6e2b5e7401619","modified":1570841717387},{"_id":"themes/hexo-theme-next/scripts/filters/minify.js","hash":"21196a48cb127bf476ce598f25f24e8a53ef50c2","modified":1570841717397},{"_id":"themes/hexo-theme-next/scripts/helpers/engine.js","hash":"e82d4f2263277f4c08d1f1e072090db0c52929bb","modified":1570841717416},{"_id":"themes/hexo-theme-next/scripts/helpers/font.js","hash":"872934a2e31a45284487ab37c61403c8f6d10890","modified":1570841717426},{"_id":"themes/hexo-theme-next/scripts/helpers/next-inject.js","hash":"bb61af8b505e0bbb6adf383a5fee04e6407aafbc","modified":1570841717438},{"_id":"themes/hexo-theme-next/scripts/helpers/next-js.js","hash":"5a9667e830fd1842c345645fe21eac3ec7363d8c","modified":1570841717447},{"_id":"themes/hexo-theme-next/scripts/helpers/next-url.js","hash":"b195e315c5977963235871ec8eb7ee96930634ec","modified":1570841717457},{"_id":"themes/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"8e1a32824d2245c72b5d3cc972c56843e4df01bc","modified":1570841717469},{"_id":"themes/hexo-theme-next/scripts/tags/button.js","hash":"39156bf735c1d1ebd0d418c411f14ff4f0acdd75","modified":1570841717484},{"_id":"themes/hexo-theme-next/scripts/tags/caniuse.js","hash":"6fbc5764dddca114667f1487120a9ed32519857b","modified":1570841717496},{"_id":"themes/hexo-theme-next/scripts/tags/center-quote.js","hash":"4519ab8e6898f2ee90d05cde060375462b937a7d","modified":1570841717507},{"_id":"themes/hexo-theme-next/scripts/tags/group-pictures.js","hash":"8e1befa08c07f822f9487978dbd27db60fb700c7","modified":1570841717519},{"_id":"themes/hexo-theme-next/scripts/tags/include-raw.js","hash":"9c6363b36bea3f5821656b916d08fcc1ed1eee51","modified":1570841717529},{"_id":"themes/hexo-theme-next/scripts/tags/label.js","hash":"fc83f4e1be2c34e81cb79938f4f99973eba1ea60","modified":1570841717540},{"_id":"themes/hexo-theme-next/scripts/tags/mermaid.js","hash":"81134494ff0134c0dae1b3815caf6606fccd4e46","modified":1570841717550},{"_id":"themes/hexo-theme-next/scripts/tags/note.js","hash":"1fdf4f95810fdb983bfd5ad4c4f13fedd4ea2f8d","modified":1570841717560},{"_id":"themes/hexo-theme-next/scripts/tags/pdf.js","hash":"ab995f0fc60d60f637220e2651111b775b8a06de","modified":1570841717569},{"_id":"themes/hexo-theme-next/scripts/tags/tabs.js","hash":"72a5adbd8f300bee1d0c289367598ca06b2bed17","modified":1570841717581},{"_id":"themes/hexo-theme-next/scripts/tags/video.js","hash":"944293fec96e568d9b09bc1280d5dbc9ee1bbd17","modified":1570841717591},{"_id":"themes/hexo-theme-next/source/css/main.styl","hash":"ee7c731c03d724827d9324d08be701c9d2f04c60","modified":1570841717612},{"_id":"themes/hexo-theme-next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1570841718866},{"_id":"themes/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1570841718878},{"_id":"themes/hexo-theme-next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1570841718892},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1570841718901},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1570841718911},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1570841718925},{"_id":"themes/hexo-theme-next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1570841718948},{"_id":"themes/hexo-theme-next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1570841718936},{"_id":"themes/hexo-theme-next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1570841718959},{"_id":"themes/hexo-theme-next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1570841718969},{"_id":"themes/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1570841718979},{"_id":"themes/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1570841718991},{"_id":"themes/hexo-theme-next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1570841719000},{"_id":"themes/hexo-theme-next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1570841719012},{"_id":"themes/hexo-theme-next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1570841719024},{"_id":"themes/hexo-theme-next/source/js/bookmark.js","hash":"6531c706f34c38d8b44afebfac60cc35171d36f3","modified":1570841719049},{"_id":"themes/hexo-theme-next/source/js/algolia-search.js","hash":"f632ff7a404ac4fb04313bc554815406ebcb2a0b","modified":1570841719039},{"_id":"themes/hexo-theme-next/source/js/local-search.js","hash":"a27683d572772459d17b68e6e9ed6f6b69942b20","modified":1570841719058},{"_id":"themes/hexo-theme-next/source/js/motion.js","hash":"5295f7afffcb10c4e6bc5ef172f50ecf1497aeb3","modified":1570841719068},{"_id":"themes/hexo-theme-next/source/js/next-boot.js","hash":"ed1cbdee2c363a71c9f09e66412d2f395a506e4b","modified":1570841719078},{"_id":"themes/hexo-theme-next/source/js/utils.js","hash":"6f7cd4b4418b8c7fa9f195d5c675b41e89bbbb71","modified":1570841719126},{"_id":"themes/hexo-theme-next/source/lib/anime.min.js","hash":"960be51132134acd65c2017cc8a5d69cb419a0cd","modified":1570841719144},{"_id":"source/_posts/linux/玩转Linux操作系统.md","hash":"4c9212d7462f22461c431a370530d3d359606e06","modified":1571385922861},{"_id":"themes/hexo-theme-next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1570841718501},{"_id":"themes/hexo-theme-next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1570841718509},{"_id":"source/images/pasted-10.png","hash":"86a525bec8c46954b7652fecbea50184bf766988","modified":1571385922864},{"_id":"source/images/pasted-13.png","hash":"8ad8f93ea7bda24e17ffcc6a3ea0a59f06843330","modified":1571385922876},{"_id":"source/images/pasted-7.png","hash":"03310fc8312e1b8a6efb842e9e949733b3cbcd2e","modified":1571385922886},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/busuanzi-counter.swig","hash":"5b5618c2f6ad1d7971e6db257222fce89aa56565","modified":1570841716235},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/cnzz-analytics.swig","hash":"53a0760c75d5aaabb3ce8e8aa8e003510d59807f","modified":1570841716245},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/firestore.swig","hash":"edeb02d4d56c11536eaed5a8b4705b717f357895","modified":1570841716256},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/index.swig","hash":"ec3c1cd6ace7e6a01b490ac323a4e1ec1fa65fd1","modified":1570841716268},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/lean-analytics.swig","hash":"ad064d5a67066998d302c8e698302b6b6f33530a","modified":1570841716278},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/tencent-analytics.swig","hash":"c7b55198361ffd96b921b37ca90f6adfccf0d391","modified":1570841716287},{"_id":"themes/hexo-theme-next/layout/_partials/analytics/tencent-mta.swig","hash":"a2bfea40acc9e18d1cd73edc52df57278b746e81","modified":1570841716299},{"_id":"themes/hexo-theme-next/layout/_partials/head/head-unique.swig","hash":"d1b07f94719c90c8c2322292b5c24ddcce464c53","modified":1570841716340},{"_id":"themes/hexo-theme-next/layout/_partials/head/head.swig","hash":"5cf843584e477fc815c7110e96037295b0a2d2e2","modified":1570841716349},{"_id":"themes/hexo-theme-next/layout/_partials/header/brand.swig","hash":"36d64a542b709490489c8c61269216f47241793a","modified":1570841716367},{"_id":"themes/hexo-theme-next/layout/_partials/header/index.swig","hash":"24b945cc6164604916cfd585c843c7f993f5344d","modified":1570841716378},{"_id":"themes/hexo-theme-next/layout/_partials/header/menu.swig","hash":"dff96825ea25cd62c076ddf2803fe5b7c6923684","modified":1570841716400},{"_id":"themes/hexo-theme-next/layout/_partials/header/menu-item.swig","hash":"602601c1bca9aa55afd47d64776bbd7246b10ef4","modified":1570841716388},{"_id":"themes/hexo-theme-next/layout/_partials/header/sub-menu.swig","hash":"db4068d536eeb31fa00bc7395f30ccbf374e298e","modified":1570841716411},{"_id":"themes/hexo-theme-next/layout/_partials/page/breadcrumb.swig","hash":"91c0addb33006619faa4c32e5d66874e25f1e9b3","modified":1570841716429},{"_id":"themes/hexo-theme-next/layout/_partials/page/page-header.swig","hash":"468e9828f34c1e1156395fe9c345d38b4338e1e8","modified":1570841716441},{"_id":"themes/hexo-theme-next/layout/_partials/post/post-copyright.swig","hash":"7ad1b69c59f7b7ed5118546ceff73072deb7303f","modified":1570841716472},{"_id":"themes/hexo-theme-next/layout/_partials/post/post-footer.swig","hash":"5804cc42bcd5ea6116e62303b96ce31c78f84751","modified":1570841716481},{"_id":"themes/hexo-theme-next/layout/_partials/post/post-related.swig","hash":"782330f703e4cdfbc480414228b26bd115f8525b","modified":1570841716493},{"_id":"themes/hexo-theme-next/layout/_partials/post/post-reward.swig","hash":"d7339c78b6dae7100acb669b9146b5f77f91ab8e","modified":1570841716505},{"_id":"themes/hexo-theme-next/layout/_partials/post/wechat-subscriber.swig","hash":"6445fffd63c576bada069c9fa520bf0f6019890b","modified":1570841716514},{"_id":"themes/hexo-theme-next/layout/_partials/search/algolia-search.swig","hash":"f9017a2deb2f262912476e94822081bb10ee43af","modified":1570841716551},{"_id":"themes/hexo-theme-next/layout/_partials/search/index.swig","hash":"f1107c28661370e10e1940bff856f22f14f08518","modified":1570841716563},{"_id":"themes/hexo-theme-next/layout/_partials/search/localsearch.swig","hash":"98453ac4a520b2600181fc0331f0067125d0ed4f","modified":1570841716575},{"_id":"themes/hexo-theme-next/layout/_partials/sidebar/site-overview.swig","hash":"414f8413310f65877972b844fbbf1df3a7439278","modified":1570841716592},{"_id":"themes/hexo-theme-next/layout/_scripts/pages/schedule.swig","hash":"9cb4e740b71025a8210c7f44af2fbc33b3206320","modified":1570841716652},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/gemini.swig","hash":"a62c93f19429f159bcf0c2e533ffc619aa399755","modified":1570841716679},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/mist.swig","hash":"3c548934b97cc426544947f7a2ae35c270b5e33f","modified":1570841716689},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/muse.swig","hash":"0b44f400ec00d2b5add5ee96c11d22465c432376","modified":1570841716701},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/pisces.swig","hash":"34495d408e8467555afee489500b8aad98c52079","modified":1570841716710},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/application-insights.swig","hash":"48da7e0ff79dcc4e94364fd5a4cec2e8b29e0e30","modified":1570841716755},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.swig","hash":"84adaadd83ce447fa9da2cff19006334c9fcbff9","modified":1570841716767},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/google-analytics.swig","hash":"f2ef530c77798b19653b4fd3339cc6ae3b9f0afe","modified":1570841716778},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/growingio.swig","hash":"32c8a447e629aea92bcde06ff9500a0016304964","modified":1570841716788},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/index.swig","hash":"8471561b228132f4863177ff5a6579f540a50bb4","modified":1570841716802},{"_id":"themes/hexo-theme-next/layout/_third-party/chat/chatra.swig","hash":"e8aa0ba146b658ae3b73efc4ca63325886bbaa2d","modified":1570841716833},{"_id":"themes/hexo-theme-next/layout/_third-party/chat/index.swig","hash":"f2d07d655dbd7b8381be36f56204706b897b8eab","modified":1570841716842},{"_id":"themes/hexo-theme-next/layout/_third-party/chat/tidio.swig","hash":"fb94ee487d75e484e59b7fba96e989f699ff8a83","modified":1570841716852},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/changyan.swig","hash":"a7a26afd3118e036621f802bad42c0cbcced9676","modified":1570841716871},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/disqus.swig","hash":"e959aea2ddb2a3ea5aa145845e8e278c75b1430c","modified":1570841716882},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/disqusjs.swig","hash":"f5aec655aeee0f5b11e62230688cd6a383a3d9d5","modified":1570841716890},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/gitalk.swig","hash":"6c886d8aba8ac6e79a4a86576db24e7d5966b28e","modified":1570841716900},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/livere.swig","hash":"ef38217a457749e528cf00c487b99cb963ccfbea","modified":1570841716910},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/valine.swig","hash":"dc56988a9f01e8f973817087141e848b5637a441","modified":1570841716921},{"_id":"themes/hexo-theme-next/layout/_third-party/math/index.swig","hash":"cf4ed630beec3a7d2b7f74cc97897b596d061a51","modified":1570841716958},{"_id":"themes/hexo-theme-next/layout/_third-party/math/katex.swig","hash":"8e481160692cbfc67214e377b68f91901b20727c","modified":1570841716969},{"_id":"themes/hexo-theme-next/layout/_third-party/math/mathjax.swig","hash":"6308f0b295f9255c100800f57660b777f6c9122c","modified":1570841716979},{"_id":"themes/hexo-theme-next/layout/_third-party/search/algolia-search.swig","hash":"57f6da9f6f2cc48904ac2eaf266515528395e554","modified":1570841717018},{"_id":"themes/hexo-theme-next/layout/_third-party/search/index.swig","hash":"db6842138f6172f16a8b767163305a4ef517afe6","modified":1570841717028},{"_id":"themes/hexo-theme-next/layout/_third-party/search/localsearch.swig","hash":"58296a5c1883f26464c2a5ccf734c19f5fbf395a","modified":1570841717039},{"_id":"themes/hexo-theme-next/layout/_third-party/search/swiftype.swig","hash":"aa6ab95b8b76611694613defb4bf25003d1b927f","modified":1570841717051},{"_id":"themes/hexo-theme-next/layout/_third-party/tags/index.swig","hash":"78bfe0cff0c32e3a55815808a128cf305d27d3bc","modified":1570841717069},{"_id":"themes/hexo-theme-next/layout/_third-party/tags/mermaid.swig","hash":"2aee256fd034da1b59139ba57e0f25d842818611","modified":1570841717080},{"_id":"themes/hexo-theme-next/layout/_third-party/tags/pdf.swig","hash":"4f9b27da4f70142e02dfbb48904cbec66620f70c","modified":1570841717092},{"_id":"themes/hexo-theme-next/scripts/events/lib/config.js","hash":"431e1c5f9782c7c883f2a7c8a42937044fcbe092","modified":1570841717189},{"_id":"themes/hexo-theme-next/scripts/events/lib/injects-point.js","hash":"08496b71c9939718e7955704d219e44d7109247b","modified":1570841717203},{"_id":"themes/hexo-theme-next/scripts/events/lib/injects.js","hash":"d1cb14b4e7c281d83ffeb7d28741b7bbf34d6e6b","modified":1570841717212},{"_id":"themes/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"7499410a44257edabfb1d77ae7de239b6d52f00f","modified":1570841717239},{"_id":"themes/hexo-theme-next/scripts/filters/comment/common.js","hash":"31a6c8fbdfa16112b0b099727437b9df7641d421","modified":1570841717249},{"_id":"themes/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"0c3bea89d64bc12c1bbe6f208a83773c6fb5375a","modified":1570841717261},{"_id":"themes/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"d1dc96580a21b8bb387e547378a27675e14cac81","modified":1570841717276},{"_id":"themes/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"f53cf433714bfef152d5e5463c748216c196e460","modified":1570841717286},{"_id":"themes/hexo-theme-next/scripts/filters/comment/facebook-comments-plugin.js","hash":"48090dbf4c335a3d1d9a4a2c8c71cc2d31f6d073","modified":1570841717296},{"_id":"themes/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"323a47df6ded894944a2647db44556d6163e67c4","modified":1570841717307},{"_id":"themes/hexo-theme-next/scripts/filters/comment/livere.js","hash":"76b2dc98b63180c2e082727fc71c4f576b3ff43d","modified":1570841717319},{"_id":"themes/hexo-theme-next/scripts/filters/comment/valine.js","hash":"ada942b14d76b126570381061725a61a56c83748","modified":1570841717331},{"_id":"themes/hexo-theme-next/scripts/filters/comment/vkontakte.js","hash":"da8e9830fa5755d706a88e14c0a8cc1438c19f53","modified":1570841717340},{"_id":"themes/hexo-theme-next/source/css/_mixins/Gemini.styl","hash":"b58ed9dabc5be0090647d9a0afc43359e1e0e14c","modified":1570841718495},{"_id":"themes/hexo-theme-next/source/css/_mixins/Pisces.styl","hash":"1619130f81e091bb9ac43f93814f594dd1739255","modified":1570841718525},{"_id":"themes/hexo-theme-next/source/css/_mixins/base.styl","hash":"a0e0628fc958dfe794e2c073301f7c2ba00e20f1","modified":1570841718482},{"_id":"themes/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"f6517f04ee9c8d93d1667c5617116f03ce1942a2","modified":1570841718802},{"_id":"themes/hexo-theme-next/source/css/_variables/Mist.styl","hash":"5832f04fab4e4224bca6dc31a3d94da034a20861","modified":1570841718816},{"_id":"themes/hexo-theme-next/source/css/_variables/Muse.styl","hash":"1ff4303ad83f96b152be571d4df07969199d5930","modified":1570841718829},{"_id":"themes/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"0bccf86c88e4d27b41f75bf166e66480c7bf919c","modified":1570841718841},{"_id":"themes/hexo-theme-next/source/css/_variables/base.styl","hash":"c3ca07bc12a136eac049feedcbe99aedd90d74d0","modified":1570861389991},{"_id":"themes/hexo-theme-next/source/js/schemes/pisces.js","hash":"8138e7d3e98a59a8a23daa98deac4c0024838b09","modified":1570841719105},{"_id":"themes/hexo-theme-next/source/js/schemes/muse.js","hash":"a8aea6d062c2859b503ea1bb8b7c9ce364ed9100","modified":1570841719093},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1570841719161},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1570841719187},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1570841719173},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1570841719289},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1570841719200},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1570841719309},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1570841719319},{"_id":"source/images/pasted-8.png","hash":"d47921442eee1e6c708129f9730f12bdf6a9d75f","modified":1571385922889},{"_id":"source/images/pasted-12.png","hash":"0bce6eb79a691ce92a0373f268098833313731f9","modified":1571385922873},{"_id":"themes/hexo-theme-next/source/css/_common/components/back-to-top-sidebar.styl","hash":"672866ede12bc2dd0835858f2697703fbc9dacb2","modified":1570841717632},{"_id":"themes/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"bf86c81c57db3ed8fbb67df44fc2c0a79cd6ffd6","modified":1570841717641},{"_id":"themes/hexo-theme-next/source/css/_common/components/components.styl","hash":"d7be348f94e42654e5e0ae53e7a3b70620e561a5","modified":1570841717650},{"_id":"themes/hexo-theme-next/source/css/_common/components/rainbow.styl","hash":"ec606b2e2de09e9b72a98cb1f4c05d987ff56c72","modified":1570841717857},{"_id":"themes/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"4052c6c598a9dc443ffac171cc6cb31e981c5e5d","modified":1570841717869},{"_id":"themes/hexo-theme-next/source/css/_common/components/scrollbar.styl","hash":"ede406ddaf1fb1c930e6923dc193af3c0f5ef03a","modified":1570841717878},{"_id":"themes/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"78406dfb644b0e516f697aead3ed5d545c5b8144","modified":1570841718082},{"_id":"themes/hexo-theme-next/source/css/_common/outline/outline.styl","hash":"ca1da6314c123f1bf0a95feefb073f08bb8c256a","modified":1570841718094},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"4bc047514d45922f48e22e30e3e750f226a063d8","modified":1570841718243},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"5c27faaaf5a201d1c41c08ad5bfe1757a894fd69","modified":1570841718255},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"5772ee6cdc50a9e1a4425d79114d46065babe217","modified":1570841718264},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"0cdd236cce4d1149effd59965be46c98718eefe9","modified":1570841718329},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"b619f39e18398422e0ac4999d8f042a5eaebe9cd","modified":1570841718338},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/scaffolding.styl","hash":"43045d115f8fe95732c446aa45bf1c97609ff2a5","modified":1570841718348},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"61c096e7b8fa43720fad02573ff2db8b9f7ab965","modified":1570841718362},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"37416a15173ec40ed26e3a306259daeadeb56bf2","modified":1570841718459},{"_id":"themes/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"b51be640978171aef3d9055fd33de40c3ab6e785","modified":1570841718552},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_base.styl","hash":"392ffe4826761e5e8fc0b5ecd544c312bccb69d9","modified":1570841718587},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"b83e6a8f606016be2cd9776c4d189db948985cc5","modified":1570841718596},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"28f82e378959538e8eaa8c9cdc6231beb9578284","modified":1570841718606},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"6c04e053722f684abd24de023f2901f06aa07722","modified":1570841718616},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"b0b875fea9cbe197c41d68d2ef5a5ef7f07882a4","modified":1570841718575},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"9a7d7502ce394ddeba1773f90bbe19016b0cf0f6","modified":1570841718645},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"6d5e8a9980a89a8006c43f3acfb79fc955fb48a0","modified":1570841718659},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"7dc5278d5a442042a305406385c65da7b4462328","modified":1570841718672},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"4dc216cb9f1c12bf7720012fd24e126ef6a4eca7","modified":1570841718684},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"4f1641a81d31159abe5d46a914232bd413c83d64","modified":1570841718633},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"55a1e7deda42cb3318d1e19b904c9c91891659f3","modified":1570841718719},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"d7a59c099ba678e13e55163b6675776c7266aebe","modified":1570841718730},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"c709701b18368f01c534344befd77afbd43199ee","modified":1570841718742},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"a8ad06ed04b69ce780ed2ef6f2c9511aa6608871","modified":1570841718765},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"48c55331bff1b4912d06f415e94022358c5e4f42","modified":1570841718756},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"25c2a7930da14f023329df20f38df2728057fb4d","modified":1570841718707},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1570841719214},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1570841719224},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1570841719232},{"_id":"source/images/pasted-6.png","hash":"16581ab1fbddef8bec71289cd3490be94e171193","modified":1571385922883},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1570841719276},{"_id":"source/images/pasted-11.png","hash":"3c10bcf240f1fe69ba1bce1b42cfcbb71edcee72","modified":1571385922868},{"_id":"source/images/pasted-9.png","hash":"0da88075ec55d08a04329610c8743a0f0a6d83df","modified":1571385922893},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"236a039b0900f4267de566b46f62314ad967d30f","modified":1570841717667},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/pages.styl","hash":"6cf78a379bb656cc0abb4ab80fcae60152ce41ad","modified":1570841717686},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"18edddb2ffb3f85a68e4367f81e06c461e07bc25","modified":1570841717676},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"686c780e6a483a2e494d9aab682803666ef63b3b","modified":1570841717698},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"a22c639cdf1073c9d060af62233125991ddf4dd5","modified":1570841717709},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"49bebe05a149f9fffba8d7d004a617e8a6e5e660","modified":1570841717725},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-eof.styl","hash":"a8c720cdee690086830ada29dbbfd068f2f427c0","modified":1570841717746},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-copyright.styl","hash":"d2224e8c4718f1af07c680a3a4b116c24754f8d3","modified":1570841717734},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-expand.styl","hash":"a5ef170128ab8bc9c0336d6d8d082a97f677563e","modified":1570841717756},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"c7966c428acf4d9ddc540acca4c3a4192349e0e0","modified":1570841717767},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"7d6e7afd2efbc2c2070853985784be2098f7d71f","modified":1570841717778},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"bb1cdbe39d9948474f80d0915ac9cf9cf63fbe7f","modified":1570841717789},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"2e1c1af4f28b5dc27104869b53b2ffaa5b40027a","modified":1570841717799},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-rtl.styl","hash":"09dda2667628d1f91b2e37d8fc6df1413f961b64","modified":1570841717808},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-tags.styl","hash":"ebf03782c04d492fb3b0160832cdc103db508e6c","modified":1570841717818},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"ae1b21bacd0de68a9eecbe2fd1028d043505bdc8","modified":1570841717830},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post.styl","hash":"a2e5bd791b2c153a59d01b5c8f704fb1da8dae0b","modified":1570841717841},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"b87f4a06c0db893df4f756f24be182e1a4751f24","modified":1570841717894},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"6880467b4f6d7b057fb8291aa10966429a0a3bff","modified":1570841717905},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/related-posts.styl","hash":"8ed7a9d5dfac592de703421b543978095129aa5b","modified":1570841717917},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"1a2af7f622ddb5fb497295abb3da4858bc1475fc","modified":1570841717929},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/third-party.styl","hash":"712800d40ed5a7247f760acda41aceb081e1cfa0","modified":1570841717938},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"ec718be853d32cf5810b1191d16ed1a6f0c806b3","modified":1570841718004},{"_id":"themes/hexo-theme-next/source/css/_common/outline/footer/footer.styl","hash":"d38a6b55ceea75016e73908ce9e223f9147e123c","modified":1570841717969},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"f7977cfacaca9db6fab4d154486ad57ec4b0fde9","modified":1570841717991},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/headerband.styl","hash":"6d5f26646e2914474f295de8bf6dc327d4acd529","modified":1570841718030},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/header.styl","hash":"d2b2fa1aa261f597d1db1c163f17fb2d8228f1cd","modified":1570841718018},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"f965830668785a5564826bab38fcc19df6529376","modified":1570841718041},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"aec165aba6eac5de13d1faa04b4bf205deb01ac6","modified":1570841718053},{"_id":"themes/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"19677978a4b2b0712d20fee15e952a78e7ba6365","modified":1570841718065},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"c6eabc2676fd7d5eded568cebb8a529ac4e9227a","modified":1570841718111},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"00b2055f170e54267321d27118e0a7f07d10890b","modified":1570841718133},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"bfbb2b8dfceb79c5adcc31338f9cc8efdd3c1bc6","modified":1570841718125},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"49d3729a0f93fc5b9f899b5c45eef569f4d84cee","modified":1570841718146},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"7406d2b31b9d329043160191c98232e5aeebbc2c","modified":1570841718169},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"12f7eaf6b56624cbc411528562d6bb848ff97039","modified":1570841718158},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"a78eb9f212f405378bd38582742581d26a57fe7f","modified":1570841718183},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"098b4bdf49c7300490f959386d5d1185a32543f6","modified":1570841718195},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/sidebar.styl","hash":"f6f6306a3975c1544688b95a139af8d9262499b4","modified":1570841718206},{"_id":"themes/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"92fbaa079a46242d2f654ac62b9621057ebeda28","modified":1570841718220},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"c123994648e5d571b28cbb4b016faf4a2525c436","modified":1570841718278},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/highlight/diff.styl","hash":"83bd737f663a8461e66985af8ddbfc0a731fc939","modified":1570841718292},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/highlight/highlight.styl","hash":"0fff836ab890ba14cd5ac0e1f93bfe755b7e2eab","modified":1570841718301},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/highlight/theme.styl","hash":"c911045b2ce9a66e38d9dd30c7ed078abbc10cbf","modified":1570841718315},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"2d4af920d3476a00b0bf3ef8d6ec30388f3014da","modified":1570841718379},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"4727e2721029acc7f70ea6a0f2775d6aa289edaf","modified":1570841718391},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"919d996ffc05c0ffd4bd308c3bea6980ddd123a5","modified":1570841718402},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"c9337e837f10c5f40c27a0c0a012f39dfadc7572","modified":1570841718424},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"d2a602d31a4a903d86c38ef46535a15d6072e475","modified":1570841718412},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"2ce6e0486a35e460e9f0864331fde53f2dae78b9","modified":1570841718434},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tags/tags.styl","hash":"51d46fa3c7c6b691c61a2c2b0ac005c97cfbf72b","modified":1570841718443},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1570841719262},{"_id":"source/images/hexo1.png","hash":"d1ff45657c8447b80e14764b3298be4df612a544","modified":1571311435940},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1570841719251},{"_id":"public/search.xml","hash":"afc5430e19327b7ff6221d99da1029bc2a61c401","modified":1572428007260},{"_id":"public/about/index.html","hash":"faf56c0b489dc8e78ba8c9d43672d432fd8fd8e1","modified":1572428007271},{"_id":"public/categories/index.html","hash":"bafe8d440d374a1215fb60f5efa798e4a96f965c","modified":1572428007271},{"_id":"public/schedule/index.html","hash":"bef0db7db9152050f70d8c21d4480af8719ac65e","modified":1572428007272},{"_id":"public/tags/index.html","hash":"f3331906fa4b7f0f6d1d3f670ac346e60a6002c9","modified":1572428007272},{"_id":"public/2019/10/22/hexo/为Hexo添加评论-Valine/index.html","hash":"74782d3a27cf1b7c8b55f6c0e8dbb778502302ae","modified":1572428007272},{"_id":"public/archives/page/2/index.html","hash":"0f428c75637dcbd7656a03550c0969eb860bf830","modified":1572428007272},{"_id":"public/archives/2019/page/2/index.html","hash":"adfda444301ff81186243c72a2a87236ac28b659","modified":1572428007272},{"_id":"public/archives/2019/10/page/2/index.html","hash":"e0e9941e2199adb724abbfd160a1430ea399de13","modified":1572428007272},{"_id":"public/categories/Git/index.html","hash":"4958261ba94206991f33f3501c4ee6800e96205f","modified":1572428007272},{"_id":"public/categories/Hexo/index.html","hash":"6791c2d90823a257b839a3cf44ea9960a8380d5a","modified":1572428007272},{"_id":"public/categories/Linux/index.html","hash":"2bb1c335806d7e29fa52b2fd7f7a77eabd6178bc","modified":1572428007272},{"_id":"public/categories/Centos/index.html","hash":"b3acd4e19777c01f6a6552075b8757caaadb6839","modified":1572428007272},{"_id":"public/categories/mongodb/index.html","hash":"ea9498b57185e1518ea716e8399122ad61e88498","modified":1572428007272},{"_id":"public/categories/vscode/index.html","hash":"e4d0de3fbfe5d1f100e31446402384b530f69788","modified":1572428007272},{"_id":"public/categories/shell/index.html","hash":"ef873adffe004e0eae5e12dc141081a8f92f6932","modified":1572428007272},{"_id":"public/categories/终端/index.html","hash":"d8394d1d2d5296079f52445e663345b06d3c0c33","modified":1572428007273},{"_id":"public/tags/Git/index.html","hash":"90402fa76147b3e6222d9523057e3798f25b7e19","modified":1572428007273},{"_id":"public/tags/Hexo/index.html","hash":"170d06e848d251df9cf5d0117f08e00d8c99ebbb","modified":1572428007273},{"_id":"public/tags/Centos/index.html","hash":"0f7a2777f849fea70c64db69927fa39f5d70a48b","modified":1572428007273},{"_id":"public/tags/Linux/index.html","hash":"2c37fee4a826df9a9030c5deff1340060c648aa5","modified":1572428007273},{"_id":"public/tags/vm/index.html","hash":"ea0950ae6abafff55e673a539cd9761e74a1c50a","modified":1572428007273},{"_id":"public/tags/win10/index.html","hash":"e20a38507563d089ed5a1f7b3e1ddffeb0817580","modified":1572428007273},{"_id":"public/tags/vscode/index.html","hash":"727a304b68a26bc21032ff92b2cb48435532ad81","modified":1572428007273},{"_id":"public/tags/shell/index.html","hash":"29142ef28a344590fa14967470222e67a80adaec","modified":1572428007273},{"_id":"public/tags/ssh/index.html","hash":"a68cdf284a05b83e415e51c06ce674d52a91041c","modified":1572428007273},{"_id":"public/archives/index.html","hash":"361eee18f20f5ad43f0ec69f462226caeae7f549","modified":1572428007273},{"_id":"public/2019/10/22/终端/vim基础教程/index.html","hash":"e98724035845e90e7ee763eb65e6f13a98316e19","modified":1572428007273},{"_id":"public/2019/10/21/linux/Linux命令中tail的用法/index.html","hash":"00ed6a133404db9c4f277122c4a66cc0167bdcb5","modified":1572428007273},{"_id":"public/2019/10/17/hexo/Hexo-博客部署到腾讯云服务器全流程/index.html","hash":"cf98305c6a45451f323dfbe75e7f628d71b42b98","modified":1572428007273},{"_id":"public/2019/10/16/linux/centos安装git/index.html","hash":"1eb094e0a6e2b03615045a668435e872ebd2acfa","modified":1572428007273},{"_id":"public/2019/10/14/git/git学习常用命令/index.html","hash":"c0cd4d0a6b596178494356ebc95a81d94bac17c2","modified":1572428007273},{"_id":"public/2019/10/14/开发工具/vscode 常用配置/index.html","hash":"24e3b5213f4f3aa7e3e571303020a52710ec77e3","modified":1572428007273},{"_id":"public/2019/10/14/linux/CentOS系统下各文件夹的作用/index.html","hash":"d07dbc9db195d2a8153b1ffeed0b400d3a59ece5","modified":1572428007274},{"_id":"public/2019/10/14/终端/shell中curl 的用法/index.html","hash":"94da981d6c25bb5c0ce51c84e2dafad5d15170b1","modified":1572428007274},{"_id":"public/2019/10/14/windows/Win10安装Mongodb，并配置成服务/index.html","hash":"e74077aaa71343b6aeca877bea91274f5e0e45a7","modified":1572428007274},{"_id":"public/2019/10/14/linux/Centos7.4安装镜像源和repo源/index.html","hash":"2b95dfc7365d5d0d2a775cd4e623b4366d9620ce","modified":1572428007274},{"_id":"public/2019/10/14/linux/VMWare 下安装Centos网络设置（局域网配置）/index.html","hash":"09bc7b97a75ab6dabf7711749769f559ffa2d031","modified":1572428007274},{"_id":"public/2019/10/14/终端/SSH 上传下载文件/index.html","hash":"1df1919a03bdf664874c3f1933779bbcd4229f03","modified":1572428007274},{"_id":"public/2019/10/14/linux/centos 开放端口方法/index.html","hash":"bd53d80b978cbb6efe66214cbd5c56dded7d8696","modified":1572428007274},{"_id":"public/2019/10/12/linux/Centos下部署Nginx前端项目/index.html","hash":"9b5f2dbd9d40a6c3b33b664cef95ea3c96c28dcb","modified":1572428007274},{"_id":"public/2019/10/12/hexo/使用hexo-github搭建免费个人博客/index.html","hash":"d87474ccf835894467e4cd8e255e396ce8ba174f","modified":1572428007274},{"_id":"public/2019/10/11/linux/centos7 Mysql安装/index.html","hash":"1d7a85ad9c9d2dc2374507be09b3b873e1a73945","modified":1572428007274},{"_id":"public/2019/10/11/linux/玩转Linux操作系统/index.html","hash":"451c885f2408591b824d423183f04045c4e5f9fa","modified":1572428007275},{"_id":"public/index.html","hash":"e7e0f581bae351f2866f5c6c15780579db425c4f","modified":1572428007275},{"_id":"public/page/2/index.html","hash":"54345bd1565c26b1d1a25cea2249d2b83ef2c12b","modified":1572428007275},{"_id":"public/archives/2019/index.html","hash":"71643a7d53d972dee5fe8cc449d9c598c730663a","modified":1572428007275},{"_id":"public/archives/2019/10/index.html","hash":"80cd172630a791907876d1a7a0b9dd305d70cb3f","modified":1572428007275},{"_id":"public/images/1571305205.jpg","hash":"d40f779dc56a4269e1a761e3956892dec5404e0c","modified":1572428007293},{"_id":"public/images/20191012104426.png","hash":"30fe3ff434c771afff584b11366c913ca1bf4119","modified":1572428007293},{"_id":"public/images/1571319042.jpg","hash":"1cc804f0c9d07e0bfa7516783952dcaacc6868c7","modified":1572428007293},{"_id":"public/images/pasted-0.png","hash":"d3c8aa66b0aa9ed7d716d71c250fed81c9960369","modified":1572428007293},{"_id":"public/images/pasted-1.png","hash":"9abfddd838756bead575da6f4b56caee4fd69b5c","modified":1572428007293},{"_id":"public/images/pasted-16.png","hash":"e13fecb65c588a2c8c496d2bdbf98d0be40b3710","modified":1572428007293},{"_id":"public/images/pasted-18.png","hash":"af770710b24994814e4c6e640f21ac0c38465eeb","modified":1572428007293},{"_id":"public/images/pasted-15.png","hash":"9eef1a9acbb85979d6dfc45b0422ddf10ac5fd98","modified":1572428007293},{"_id":"public/images/pasted-17.png","hash":"d45c0f547787651f988e77d98665f4d7fcc323e2","modified":1572428007293},{"_id":"public/images/pasted-19.png","hash":"3a92f75fc69aaa5bc3f74561621e9e485393805c","modified":1572428007293},{"_id":"public/images/pasted-2.png","hash":"a891705a32943c6a73e8cc6bdfd49916cdbc7aed","modified":1572428007293},{"_id":"public/images/pasted-20.png","hash":"47ca9edb57c0ac300b1d0f75f1950175fcc49613","modified":1572428007293},{"_id":"public/images/pasted-22.png","hash":"281da8e2bf86e5d9fb885c99629361577ca8dc9d","modified":1572428007294},{"_id":"public/images/pasted-3.png","hash":"5cac17846eee5dcfc5a09b930f8df7363fb3b51f","modified":1572428007294},{"_id":"public/images/pasted-4.png","hash":"826ee6885ad5f99544af1c6144d9eadec511c531","modified":1572428007294},{"_id":"public/images/user.jpg","hash":"2bd6ae23a04e5ee19a518a298330dd0b2811627e","modified":1572428007294},{"_id":"public/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1572428007294},{"_id":"public/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1572428007294},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1572428007294},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1572428007294},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1572428007294},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1572428007295},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1572428007295},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1572428007295},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1572428007295},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1572428007295},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1572428007295},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1572428007295},{"_id":"public/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1572428007295},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1572428007295},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1572428007295},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1572428007295},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1572428007295},{"_id":"public/images/1571305643.jpg","hash":"79b9d9cf14af8ec5217dcedb23d4d142a5748412","modified":1572428007831},{"_id":"public/images/pasted-5.png","hash":"2517134e2dc566d9ab33cba9d1314a6c6cd5aae3","modified":1572428007831},{"_id":"public/images/pasted-21.png","hash":"31f87643d91327398ec50454d3fb4f0b343948a9","modified":1572428007832},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1572428007832},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1572428007833},{"_id":"public/js/algolia-search.js","hash":"813afcc30feee11d59f297f2d5a96f98fbbd4743","modified":1572428007844},{"_id":"public/js/bookmark.js","hash":"c9acb262acf0cf127497b570fa9479fb32f34547","modified":1572428007845},{"_id":"public/js/motion.js","hash":"71e5caff1d87b1b7256f61e6b318bedf495f9e75","modified":1572428007846},{"_id":"public/js/next-boot.js","hash":"a6a82905c6abb8e0ec418ef6b0509b946b955807","modified":1572428007846},{"_id":"public/js/schemes/muse.js","hash":"792f4522a3b0b96584a041a4aca20fcded410079","modified":1572428007846},{"_id":"public/js/schemes/pisces.js","hash":"dccbb1be3938050e13277251ab5d88c736edf396","modified":1572428007846},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1572428007846},{"_id":"public/css/main.css","hash":"ae9e28c5ea8f8f90693e8218f1f5a712951e6848","modified":1572428007846},{"_id":"public/images/pasted-14.png","hash":"14af2d4b6d14653899b10c03ecc07207ad86395d","modified":1572428007846},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1572428007846},{"_id":"public/js/local-search.js","hash":"b3dbcddf10bec199b256b5afc6bc6503350e30bc","modified":1572428007861},{"_id":"public/js/utils.js","hash":"f17c499f712bc746abbcb1762a6b4db5acbab233","modified":1572428007861},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1572428007867},{"_id":"public/images/pasted-13.png","hash":"8ad8f93ea7bda24e17ffcc6a3ea0a59f06843330","modified":1572428007868},{"_id":"public/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1572428007874},{"_id":"public/images/pasted-7.png","hash":"03310fc8312e1b8a6efb842e9e949733b3cbcd2e","modified":1572428007874},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1572428007884},{"_id":"public/images/pasted-10.png","hash":"86a525bec8c46954b7652fecbea50184bf766988","modified":1572428007884},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1572428007927},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1572428007927},{"_id":"public/images/pasted-12.png","hash":"0bce6eb79a691ce92a0373f268098833313731f9","modified":1572428007934},{"_id":"public/images/pasted-8.png","hash":"d47921442eee1e6c708129f9730f12bdf6a9d75f","modified":1572428007943},{"_id":"public/images/pasted-6.png","hash":"16581ab1fbddef8bec71289cd3490be94e171193","modified":1572428007954},{"_id":"public/images/pasted-11.png","hash":"3c10bcf240f1fe69ba1bce1b42cfcbb71edcee72","modified":1572428007955},{"_id":"public/images/pasted-9.png","hash":"0da88075ec55d08a04329610c8743a0f0a6d83df","modified":1572428007959},{"_id":"public/images/hexo1.png","hash":"d1ff45657c8447b80e14764b3298be4df612a544","modified":1572428007990}],"Category":[{"name":"Git","_id":"ck2d318wh0007gooofcb74wz3"},{"name":"Hexo","_id":"ck2d318wo000cgooo85gosdy9"},{"name":"Linux","_id":"ck2d318wx000sgoooglnadnyc"},{"name":"Centos","_id":"ck2d318wz000zgooouf9600sl"},{"name":"mongodb","_id":"ck2d318x7001ogooo9gbcioic"},{"name":"vscode","_id":"ck2d318x8001tgooovem6c40s"},{"name":"shell","_id":"ck2d318x9001xgooor8dgtwd3"},{"name":"终端","_id":"ck2d318xb0023goooyzeyvchq"}],"Data":[],"Page":[{"title":"关于作者","date":"2019-10-11T14:34:52.000Z","_content":"### 联系方式\n  - qq: 10432845;\n  - 微信: qq10432845;","source":"about/index.md","raw":"---\ntitle: 关于作者\ndate: 2019-10-11 22:34:52\n---\n### 联系方式\n  - qq: 10432845;\n  - 微信: qq10432845;","updated":"2019-10-30T09:02:44.633Z","path":"about/index.html","comments":1,"layout":"page","_id":"ck2d318u20000gooocws37ve3","content":"<h3 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h3><ul>\n<li>qq: 10432845;</li>\n<li>微信: qq10432845;</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h3><ul>\n<li>qq: 10432845;</li>\n<li>微信: qq10432845;</li>\n</ul>\n"},{"title":"archives","date":"2019-10-11T14:35:41.000Z","_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2019-10-11 22:35:41\n---\n","updated":"2019-10-12T00:55:14.161Z","path":"archives/index.html","comments":1,"layout":"page","_id":"ck2d318u30001goootqmmc16e","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"文章分类","date":"2019-10-11T14:23:04.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 文章分类\ndate: 2019-10-11 22:23:04\ntype: \"categories\"\n---","updated":"2019-10-12T00:55:14.178Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ck2d318u50002goooaw5vkj87","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"schedule","date":"2019-10-11T14:35:20.000Z","_content":"","source":"schedule/index.md","raw":"---\ntitle: schedule\ndate: 2019-10-11 22:35:20\n---\n","updated":"2019-10-12T00:55:14.197Z","path":"schedule/index.html","comments":1,"layout":"page","_id":"ck2d318u60003gooo4mer8y70","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","date":"2019-10-11T14:26:33.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2019-10-11 22:26:33\ntype: \"tags\"\n---\n","updated":"2019-10-12T00:55:14.218Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ck2d318u70004gooo2c7b3tj4","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"git常用命令","author":"Tutu","date":"2019-10-14T06:54:00.000Z","_content":"Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。\nGit 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。\nGit 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持\nGit 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。\ngit学习常用命令\n\n   | 命令 | 作用 |\n   | -- | -- |\n   |mkdir：| XX (创建一个空目录 XX指目录名)|\n   |pwd：   |       显示当前目录的路径。|\n   |git init |把当前的目录变成可以管理的git仓库，生成隐藏.git文件。|\n   |git add XX  | 把xx文件添加到暂存区去。\n   |git commit –m \"xx\" | 提交文件 –m 后面的是注释。\n   |git status   | 查看仓库状态\n   |git diff  XX | 查看XX文件修改了那些内容\n   |git log      | 查看历史记录 9ba77981e50d3df1d71e760dd43c049d79a44b6d\n   |git reset  --hard HEAD^ 或者 git reset  --hard HEAD~ | 回退到上一个版 本(如果想回退到100个版本，使用git reset --hard HEAD~100 )\n   |git  reflog    | 查看历史记录的版本号id\n   |git  reset --hard | 版本号  (回到某个版本)\n   |cat XX        |  查看XX文件内容\n   |git checkout — XX |  把XX文件在工作区的修改全部撤销。\n   |git rm XX         | 删除XX文件\n   |git remote add origin https://github.com/tugenhua0707/testgit | 关联一个远程库\n   |git remote remove origin  | 删除remote\n   |git push –u(第一次要用-u 以后不需要) origin master | 把当前master分支推送到远程库\n   |git clone https://github.com/tugenhua0707/testgit  | 从远程库中克隆\n   |git checkout –b dev | 创建dev分支 并切换到dev分支上  //拉取远程分支\n   |git branch  | 查看当前所有的分支\n   |git checkout master | 切换回master分支\n   |git merge dev    | 在当前的分支上合并dev分支\n   |git branch –d dev | 删除(本地的)dev分支\n   |git push origin :dev | (同步删除线上的分支)\n   |git branch name  | 创建分支(本地创建分支)\n   |git push origin probranch(本地):probranch | (上传到线的分支)\n   |git stash | 把当前的工作隐藏起来 等以后恢复现场后继续工作\n   |git stash list | 查看所有被隐藏的文件列表\n   |git stash apply | 恢复被隐藏的文件，但是内容不删除\n   |git stash drop | 删除文件\n   |git stash pop | 恢复文件的同时 也删除文件\n   |git remote | 查看远程库的信息|\n   |git remote –v | 查看远程库的详细信息|\n   |git push origin master  | Git会把master分支推送到远程库对应的远程分支上\n   |git checkout -b 本地分支名 origin/远程分支名 | 将远程git仓库里的指定分支拉取到本地（本地不存在的分支）\n   |git push --set-upstream origin 分支名 | git push --set-upstream origin 分支名\n   |git config --global credential.helper store | 免密码命令 输入命令后再次输入账号密码 以后都可以不用输入密码了|\n   |git fetch --prune|远端有新增分支，git fetch可以同步到新的分支到本地，但是远端有删除分支，直接\"git fetch\"是不能将远程已经不存在的branch等在本地删除的|\n   |git reset --hard origin/master|你想让本地直接和远程保持同步，想让不再提示这个讨厌信息，那么如果你本地的commit确保不想要|\n  |git branch -u origin/master | 或者还有一个将本地代码与服务器代码更新一致的语句|\n  |git push -f origin master| 如果想直接回退版本让远程和本地代码保持一致，那就确保本地代码没问题之后强制推到远程|\n  |git log --author=\"tuwei\" dormRoom --since=\"2019-10-17 00:00:00\"  --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }'| 统计上传代码及修改代码行数|\n","source":"_posts/git/git学习常用命令.md","raw":"title: git常用命令\nauthor: Tutu\ntags:\n  - Git\ncategories:\n  - Git\ndate: 2019-10-14 14:54:00\n---\nGit 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。\nGit 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。\nGit 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持\nGit 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。\ngit学习常用命令\n\n   | 命令 | 作用 |\n   | -- | -- |\n   |mkdir：| XX (创建一个空目录 XX指目录名)|\n   |pwd：   |       显示当前目录的路径。|\n   |git init |把当前的目录变成可以管理的git仓库，生成隐藏.git文件。|\n   |git add XX  | 把xx文件添加到暂存区去。\n   |git commit –m \"xx\" | 提交文件 –m 后面的是注释。\n   |git status   | 查看仓库状态\n   |git diff  XX | 查看XX文件修改了那些内容\n   |git log      | 查看历史记录 9ba77981e50d3df1d71e760dd43c049d79a44b6d\n   |git reset  --hard HEAD^ 或者 git reset  --hard HEAD~ | 回退到上一个版 本(如果想回退到100个版本，使用git reset --hard HEAD~100 )\n   |git  reflog    | 查看历史记录的版本号id\n   |git  reset --hard | 版本号  (回到某个版本)\n   |cat XX        |  查看XX文件内容\n   |git checkout — XX |  把XX文件在工作区的修改全部撤销。\n   |git rm XX         | 删除XX文件\n   |git remote add origin https://github.com/tugenhua0707/testgit | 关联一个远程库\n   |git remote remove origin  | 删除remote\n   |git push –u(第一次要用-u 以后不需要) origin master | 把当前master分支推送到远程库\n   |git clone https://github.com/tugenhua0707/testgit  | 从远程库中克隆\n   |git checkout –b dev | 创建dev分支 并切换到dev分支上  //拉取远程分支\n   |git branch  | 查看当前所有的分支\n   |git checkout master | 切换回master分支\n   |git merge dev    | 在当前的分支上合并dev分支\n   |git branch –d dev | 删除(本地的)dev分支\n   |git push origin :dev | (同步删除线上的分支)\n   |git branch name  | 创建分支(本地创建分支)\n   |git push origin probranch(本地):probranch | (上传到线的分支)\n   |git stash | 把当前的工作隐藏起来 等以后恢复现场后继续工作\n   |git stash list | 查看所有被隐藏的文件列表\n   |git stash apply | 恢复被隐藏的文件，但是内容不删除\n   |git stash drop | 删除文件\n   |git stash pop | 恢复文件的同时 也删除文件\n   |git remote | 查看远程库的信息|\n   |git remote –v | 查看远程库的详细信息|\n   |git push origin master  | Git会把master分支推送到远程库对应的远程分支上\n   |git checkout -b 本地分支名 origin/远程分支名 | 将远程git仓库里的指定分支拉取到本地（本地不存在的分支）\n   |git push --set-upstream origin 分支名 | git push --set-upstream origin 分支名\n   |git config --global credential.helper store | 免密码命令 输入命令后再次输入账号密码 以后都可以不用输入密码了|\n   |git fetch --prune|远端有新增分支，git fetch可以同步到新的分支到本地，但是远端有删除分支，直接\"git fetch\"是不能将远程已经不存在的branch等在本地删除的|\n   |git reset --hard origin/master|你想让本地直接和远程保持同步，想让不再提示这个讨厌信息，那么如果你本地的commit确保不想要|\n  |git branch -u origin/master | 或者还有一个将本地代码与服务器代码更新一致的语句|\n  |git push -f origin master| 如果想直接回退版本让远程和本地代码保持一致，那就确保本地代码没问题之后强制推到远程|\n  |git log --author=\"tuwei\" dormRoom --since=\"2019-10-17 00:00:00\"  --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }'| 统计上传代码及修改代码行数|\n","slug":"git/git学习常用命令","published":1,"updated":"2019-10-17T11:58:44.804Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wb0005gooocmae8hl8","content":"<p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。<br>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。<br>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持<br>Git 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。<br>git学习常用命令</p><a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mkdir：</td>\n<td>XX (创建一个空目录 XX指目录名)</td>\n</tr>\n<tr>\n<td>pwd：</td>\n<td>显示当前目录的路径。</td>\n</tr>\n<tr>\n<td>git init</td>\n<td>把当前的目录变成可以管理的git仓库，生成隐藏.git文件。</td>\n</tr>\n<tr>\n<td>git add XX</td>\n<td>把xx文件添加到暂存区去。</td>\n</tr>\n<tr>\n<td>git commit –m “xx”</td>\n<td>提交文件 –m 后面的是注释。</td>\n</tr>\n<tr>\n<td>git status</td>\n<td>查看仓库状态</td>\n</tr>\n<tr>\n<td>git diff  XX</td>\n<td>查看XX文件修改了那些内容</td>\n</tr>\n<tr>\n<td>git log</td>\n<td>查看历史记录 9ba77981e50d3df1d71e760dd43c049d79a44b6d</td>\n</tr>\n<tr>\n<td>git reset  –hard HEAD^ 或者 git reset  –hard HEAD~</td>\n<td>回退到上一个版 本(如果想回退到100个版本，使用git reset –hard HEAD~100 )</td>\n</tr>\n<tr>\n<td>git  reflog</td>\n<td>查看历史记录的版本号id</td>\n</tr>\n<tr>\n<td>git  reset –hard</td>\n<td>版本号  (回到某个版本)</td>\n</tr>\n<tr>\n<td>cat XX</td>\n<td>查看XX文件内容</td>\n</tr>\n<tr>\n<td>git checkout — XX</td>\n<td>把XX文件在工作区的修改全部撤销。</td>\n</tr>\n<tr>\n<td>git rm XX</td>\n<td>删除XX文件</td>\n</tr>\n<tr>\n<td>git remote add origin <a href=\"https://github.com/tugenhua0707/testgit\" target=\"_blank\" rel=\"noopener\">https://github.com/tugenhua0707/testgit</a></td>\n<td>关联一个远程库</td>\n</tr>\n<tr>\n<td>git remote remove origin</td>\n<td>删除remote</td>\n</tr>\n<tr>\n<td>git push –u(第一次要用-u 以后不需要) origin master</td>\n<td>把当前master分支推送到远程库</td>\n</tr>\n<tr>\n<td>git clone <a href=\"https://github.com/tugenhua0707/testgit\" target=\"_blank\" rel=\"noopener\">https://github.com/tugenhua0707/testgit</a></td>\n<td>从远程库中克隆</td>\n</tr>\n<tr>\n<td>git checkout –b dev</td>\n<td>创建dev分支 并切换到dev分支上  //拉取远程分支</td>\n</tr>\n<tr>\n<td>git branch</td>\n<td>查看当前所有的分支</td>\n</tr>\n<tr>\n<td>git checkout master</td>\n<td>切换回master分支</td>\n</tr>\n<tr>\n<td>git merge dev</td>\n<td>在当前的分支上合并dev分支</td>\n</tr>\n<tr>\n<td>git branch –d dev</td>\n<td>删除(本地的)dev分支</td>\n</tr>\n<tr>\n<td>git push origin :dev</td>\n<td>(同步删除线上的分支)</td>\n</tr>\n<tr>\n<td>git branch name</td>\n<td>创建分支(本地创建分支)</td>\n</tr>\n<tr>\n<td>git push origin probranch(本地):probranch</td>\n<td>(上传到线的分支)</td>\n</tr>\n<tr>\n<td>git stash</td>\n<td>把当前的工作隐藏起来 等以后恢复现场后继续工作</td>\n</tr>\n<tr>\n<td>git stash list</td>\n<td>查看所有被隐藏的文件列表</td>\n</tr>\n<tr>\n<td>git stash apply</td>\n<td>恢复被隐藏的文件，但是内容不删除</td>\n</tr>\n<tr>\n<td>git stash drop</td>\n<td>删除文件</td>\n</tr>\n<tr>\n<td>git stash pop</td>\n<td>恢复文件的同时 也删除文件</td>\n</tr>\n<tr>\n<td>git remote</td>\n<td>查看远程库的信息</td>\n</tr>\n<tr>\n<td>git remote –v</td>\n<td>查看远程库的详细信息</td>\n</tr>\n<tr>\n<td>git push origin master</td>\n<td>Git会把master分支推送到远程库对应的远程分支上</td>\n</tr>\n<tr>\n<td>git checkout -b 本地分支名 origin/远程分支名</td>\n<td>将远程git仓库里的指定分支拉取到本地（本地不存在的分支）</td>\n</tr>\n<tr>\n<td>git push –set-upstream origin 分支名</td>\n<td>git push –set-upstream origin 分支名</td>\n</tr>\n<tr>\n<td>git config –global credential.helper store</td>\n<td>免密码命令 输入命令后再次输入账号密码 以后都可以不用输入密码了</td>\n</tr>\n<tr>\n<td>git fetch –prune</td>\n<td>远端有新增分支，git fetch可以同步到新的分支到本地，但是远端有删除分支，直接”git fetch”是不能将远程已经不存在的branch等在本地删除的</td>\n</tr>\n<tr>\n<td>git reset –hard origin/master</td>\n<td>你想让本地直接和远程保持同步，想让不再提示这个讨厌信息，那么如果你本地的commit确保不想要</td>\n</tr>\n<tr>\n<td>git branch -u origin/master</td>\n<td>或者还有一个将本地代码与服务器代码更新一致的语句</td>\n</tr>\n<tr>\n<td>git push -f origin master</td>\n<td>如果想直接回退版本让远程和本地代码保持一致，那就确保本地代码没问题之后强制推到远程</td>\n</tr>\n<tr>\n<td>git log –author=”tuwei” dormRoom –since=”2019-10-17 00:00:00”  –pretty=tformat: –numstat</td>\n<td>awk ‘{ add += $1; subs += $2; loc += $1 - $2 } END { printf “added lines: %s, removed lines: %s, total lines: %s\\n”, add, subs, loc }’</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。<br>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。<br>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持<br>Git 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。<br>git学习常用命令</p>","more":"\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mkdir：</td>\n<td>XX (创建一个空目录 XX指目录名)</td>\n</tr>\n<tr>\n<td>pwd：</td>\n<td>显示当前目录的路径。</td>\n</tr>\n<tr>\n<td>git init</td>\n<td>把当前的目录变成可以管理的git仓库，生成隐藏.git文件。</td>\n</tr>\n<tr>\n<td>git add XX</td>\n<td>把xx文件添加到暂存区去。</td>\n</tr>\n<tr>\n<td>git commit –m “xx”</td>\n<td>提交文件 –m 后面的是注释。</td>\n</tr>\n<tr>\n<td>git status</td>\n<td>查看仓库状态</td>\n</tr>\n<tr>\n<td>git diff  XX</td>\n<td>查看XX文件修改了那些内容</td>\n</tr>\n<tr>\n<td>git log</td>\n<td>查看历史记录 9ba77981e50d3df1d71e760dd43c049d79a44b6d</td>\n</tr>\n<tr>\n<td>git reset  –hard HEAD^ 或者 git reset  –hard HEAD~</td>\n<td>回退到上一个版 本(如果想回退到100个版本，使用git reset –hard HEAD~100 )</td>\n</tr>\n<tr>\n<td>git  reflog</td>\n<td>查看历史记录的版本号id</td>\n</tr>\n<tr>\n<td>git  reset –hard</td>\n<td>版本号  (回到某个版本)</td>\n</tr>\n<tr>\n<td>cat XX</td>\n<td>查看XX文件内容</td>\n</tr>\n<tr>\n<td>git checkout — XX</td>\n<td>把XX文件在工作区的修改全部撤销。</td>\n</tr>\n<tr>\n<td>git rm XX</td>\n<td>删除XX文件</td>\n</tr>\n<tr>\n<td>git remote add origin <a href=\"https://github.com/tugenhua0707/testgit\" target=\"_blank\" rel=\"noopener\">https://github.com/tugenhua0707/testgit</a></td>\n<td>关联一个远程库</td>\n</tr>\n<tr>\n<td>git remote remove origin</td>\n<td>删除remote</td>\n</tr>\n<tr>\n<td>git push –u(第一次要用-u 以后不需要) origin master</td>\n<td>把当前master分支推送到远程库</td>\n</tr>\n<tr>\n<td>git clone <a href=\"https://github.com/tugenhua0707/testgit\" target=\"_blank\" rel=\"noopener\">https://github.com/tugenhua0707/testgit</a></td>\n<td>从远程库中克隆</td>\n</tr>\n<tr>\n<td>git checkout –b dev</td>\n<td>创建dev分支 并切换到dev分支上  //拉取远程分支</td>\n</tr>\n<tr>\n<td>git branch</td>\n<td>查看当前所有的分支</td>\n</tr>\n<tr>\n<td>git checkout master</td>\n<td>切换回master分支</td>\n</tr>\n<tr>\n<td>git merge dev</td>\n<td>在当前的分支上合并dev分支</td>\n</tr>\n<tr>\n<td>git branch –d dev</td>\n<td>删除(本地的)dev分支</td>\n</tr>\n<tr>\n<td>git push origin :dev</td>\n<td>(同步删除线上的分支)</td>\n</tr>\n<tr>\n<td>git branch name</td>\n<td>创建分支(本地创建分支)</td>\n</tr>\n<tr>\n<td>git push origin probranch(本地):probranch</td>\n<td>(上传到线的分支)</td>\n</tr>\n<tr>\n<td>git stash</td>\n<td>把当前的工作隐藏起来 等以后恢复现场后继续工作</td>\n</tr>\n<tr>\n<td>git stash list</td>\n<td>查看所有被隐藏的文件列表</td>\n</tr>\n<tr>\n<td>git stash apply</td>\n<td>恢复被隐藏的文件，但是内容不删除</td>\n</tr>\n<tr>\n<td>git stash drop</td>\n<td>删除文件</td>\n</tr>\n<tr>\n<td>git stash pop</td>\n<td>恢复文件的同时 也删除文件</td>\n</tr>\n<tr>\n<td>git remote</td>\n<td>查看远程库的信息</td>\n</tr>\n<tr>\n<td>git remote –v</td>\n<td>查看远程库的详细信息</td>\n</tr>\n<tr>\n<td>git push origin master</td>\n<td>Git会把master分支推送到远程库对应的远程分支上</td>\n</tr>\n<tr>\n<td>git checkout -b 本地分支名 origin/远程分支名</td>\n<td>将远程git仓库里的指定分支拉取到本地（本地不存在的分支）</td>\n</tr>\n<tr>\n<td>git push –set-upstream origin 分支名</td>\n<td>git push –set-upstream origin 分支名</td>\n</tr>\n<tr>\n<td>git config –global credential.helper store</td>\n<td>免密码命令 输入命令后再次输入账号密码 以后都可以不用输入密码了</td>\n</tr>\n<tr>\n<td>git fetch –prune</td>\n<td>远端有新增分支，git fetch可以同步到新的分支到本地，但是远端有删除分支，直接”git fetch”是不能将远程已经不存在的branch等在本地删除的</td>\n</tr>\n<tr>\n<td>git reset –hard origin/master</td>\n<td>你想让本地直接和远程保持同步，想让不再提示这个讨厌信息，那么如果你本地的commit确保不想要</td>\n</tr>\n<tr>\n<td>git branch -u origin/master</td>\n<td>或者还有一个将本地代码与服务器代码更新一致的语句</td>\n</tr>\n<tr>\n<td>git push -f origin master</td>\n<td>如果想直接回退版本让远程和本地代码保持一致，那就确保本地代码没问题之后强制推到远程</td>\n</tr>\n<tr>\n<td>git log –author=”tuwei” dormRoom –since=”2019-10-17 00:00:00”  –pretty=tformat: –numstat</td>\n<td>awk ‘{ add += $1; subs += $2; loc += $1 - $2 } END { printf “added lines: %s, removed lines: %s, total lines: %s\\n”, add, subs, loc }’</td>\n</tr>\n</tbody></table>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 19:58:44 GMT+0800 (GMT+08:00)","title":"git常用命令","path":"2019/10/14/git/git学习常用命令/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T06:54:00.000Z","pv":0,"totalPV":0,"categories":"Git","tags":["Git"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"为Hexo添加评论-Valine","date":"2019-10-22T07:39:02.000Z","_content":"### 1.获取appid和appkey\n  1.注册并登录 LeanCloud，进入控制台后点击左下角\n  注册应用：\n\n![upload successful](/images/pasted-16.png)\n\n 2.登录应用后进行实名认证有邮箱认证后创建应用：\n 这里我们选择开发版就可以了\n\n![upload successful](/images/pasted-17.png)\n\n3.创建完应用后我们进入设置：获取appid和appkey\n\n![upload successful](/images/pasted-18.png)\n\n![upload successful](/images/pasted-19.png)\n\n然后在hexo中我们复制应用的key和id,开启enable\n\n![upload successful](/images/pasted-20.png);\n\n![upload successful](/images/pasted-21.png);\n\n到这里我们的所有配置就生效了，看看效果\n\n![upload successful](/images/pasted-22.png);\n","source":"_posts/hexo/为Hexo添加评论-Valine.md","raw":"title: 为Hexo添加评论-Valine\ndate: 2019-10-22 15:39:02\ntags:\n  - Hexo\ncategory:\n  - Hexo\n---\n### 1.获取appid和appkey\n  1.注册并登录 LeanCloud，进入控制台后点击左下角\n  注册应用：\n\n![upload successful](/images/pasted-16.png)\n\n 2.登录应用后进行实名认证有邮箱认证后创建应用：\n 这里我们选择开发版就可以了\n\n![upload successful](/images/pasted-17.png)\n\n3.创建完应用后我们进入设置：获取appid和appkey\n\n![upload successful](/images/pasted-18.png)\n\n![upload successful](/images/pasted-19.png)\n\n然后在hexo中我们复制应用的key和id,开启enable\n\n![upload successful](/images/pasted-20.png);\n\n![upload successful](/images/pasted-21.png);\n\n到这里我们的所有配置就生效了，看看效果\n\n![upload successful](/images/pasted-22.png);\n","slug":"hexo/为Hexo添加评论-Valine","published":1,"updated":"2019-10-22T07:52:19.817Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wg0006gooomxu74nm5","content":"<h3 id=\"1-获取appid和appkey\"><a href=\"#1-获取appid和appkey\" class=\"headerlink\" title=\"1.获取appid和appkey\"></a>1.获取appid和appkey</h3><p>  1.注册并登录 LeanCloud，进入控制台后点击左下角<br>  注册应用：</p><a id=\"more\"></a>\n<p><img src=\"/images/pasted-16.png\" alt=\"upload successful\"></p>\n<p> 2.登录应用后进行实名认证有邮箱认证后创建应用：<br> 这里我们选择开发版就可以了</p>\n<p><img src=\"/images/pasted-17.png\" alt=\"upload successful\"></p>\n<p>3.创建完应用后我们进入设置：获取appid和appkey</p>\n<p><img src=\"/images/pasted-18.png\" alt=\"upload successful\"></p>\n<p><img src=\"/images/pasted-19.png\" alt=\"upload successful\"></p>\n<p>然后在hexo中我们复制应用的key和id,开启enable</p>\n<p><img src=\"/images/pasted-20.png\" alt=\"upload successful\">;</p>\n<p><img src=\"/images/pasted-21.png\" alt=\"upload successful\">;</p>\n<p>到这里我们的所有配置就生效了，看看效果</p>\n<p><img src=\"/images/pasted-22.png\" alt=\"upload successful\">;</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"1-获取appid和appkey\"><a href=\"#1-获取appid和appkey\" class=\"headerlink\" title=\"1.获取appid和appkey\"></a>1.获取appid和appkey</h3><p>  1.注册并登录 LeanCloud，进入控制台后点击左下角<br>  注册应用：</p>","more":"\n<p><img src=\"/images/pasted-16.png\" alt=\"upload successful\"></p>\n<p> 2.登录应用后进行实名认证有邮箱认证后创建应用：<br> 这里我们选择开发版就可以了</p>\n<p><img src=\"/images/pasted-17.png\" alt=\"upload successful\"></p>\n<p>3.创建完应用后我们进入设置：获取appid和appkey</p>\n<p><img src=\"/images/pasted-18.png\" alt=\"upload successful\"></p>\n<p><img src=\"/images/pasted-19.png\" alt=\"upload successful\"></p>\n<p>然后在hexo中我们复制应用的key和id,开启enable</p>\n<p><img src=\"/images/pasted-20.png\" alt=\"upload successful\">;</p>\n<p><img src=\"/images/pasted-21.png\" alt=\"upload successful\">;</p>\n<p>到这里我们的所有配置就生效了，看看效果</p>\n<p><img src=\"/images/pasted-22.png\" alt=\"upload successful\">;</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/pasted-16.png","popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 15:52:19 GMT+0800 (GMT+08:00)","title":"为Hexo添加评论-Valine","path":"2019/10/22/hexo/为Hexo添加评论-Valine/","eyeCatchImage":"/images/pasted-16.png","excerpt":null,"date":"2019-10-22T07:39:02.000Z","pv":0,"totalPV":0,"categories":"Hexo","tags":["Hexo"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"Hexo 博客部署到腾讯云服务器全流程","date":"2019-10-17T09:28:42.000Z","_content":"#### 1.部署环境\n- 本地环境\n\n  - Windows10(64bit)\n  - 环境：git，Node.js，hexo…\n  - 生成本地静态网站\n\n- 服务器环境\n\n  - 腾讯云主机(CentOS 7.5 64bit)\n  - 环境：git，Nginx，创建 git 用户\n  - 使用 git 自动化部署发布\n\n#### 2.服务器配置\n##### 1. 安装 Git (源码包安装)\n>因为 yum 源仓库的 Git 版本更新不及时，所以采用源码包进行安装。\n1.1 安装依赖包\n```shell\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\nyum install  gcc perl-ExtUtils-MakeMaker\n```\n通过命令 git --version 可以看到，Git 当前的版本号为 1.8.3.1，太过于陈旧，所以需要先把它移除了。\n\n##### 1.2 卸载旧版本的 Git\n```shell\nyum remove git\n```\n##### 1.3 下载并解压\n```shell\ncd /usr/local/src   // 选择文件保存位置\nwget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.0.tar.gz   // 下载链接\ntar -zxvf git-2.19.0.tar.gz   // 解压\n```\n`git-2.19.0.tar.gz` 是目前最新版本，其他版本以及之后[版本](src=\"https://mirrors.edge.kernel.org/pub/software/scm/git/)可到此进行查看。解压后，会在当前目录下自动生成一个名为 `git-2.19.0` 的文件夹，里面就是解压出来的文件。可通过命令 `ls` 进行查看。\n##### 1.4 编译安装\n```shell\ncd git-2.19.0   // 进入文件夹\nmake prefix=/usr/local/git all  // 编译源码\nmake prefix=/usr/local/git install  // 安装至 /usr/local/git 路径\n```\n编译时，由机器配置决定速度，请耐心等待。\n打开环境变量配置文件。\n\n```shell\nvim /etc/profile\n```\n在文件底部添加以下配置.\n\n两个语句都要加上。\n刷新环境变量。\n```shell\nsource /etc/profile\n```\n最后再使用 git --version 查看版本号，已经为 2.19.0。\n\n### 2. git 新用户及配置\n\n#### 2.1 创建 git 用户\n```shell\nadduser git\npasswd git\nchmod 740 /etc/sudoers\nvim /etc/sudoers\n```\n找到以下内容。\n```shell\n## Allow root to run any commands anywhere\nroot    ALL=(ALL)       ALL\n```\n在它下面添加一行。\n```shell\ngit ALL=(ALL) ALL\n```\n保存并退出，将权限修改回来。\n```shell\nchmod 400 /etc/sudoers\n```\n#### 2.2 密钥配置\n本地中，使用 Git Bash 创建密钥。\n\n```shell\n# 本地 windows gitBash\nssh-keygen -t rsa\n```\n一路回车，即可。\n\n切换至 git 用户，创建 .ssh 文件夹以及 authorized_keys 文件并将本地的 id_rsa.pub 文件内容粘贴到里面。\n```shell\nsu git\nmkdir ~/.ssh\nvim ~/.ssh/authorized_keys\n```\n修改权限。\n```shell\ncd ~\nchmod 600 .ssh/authorzied_keys\nchmod 700 .ssh\n```\n#### 2.3 测试\n在本地 Windows 上，使用 Git Bash 测试是否能连接上服务器。\n```shell\nssh -v git@SERVER\n```\n其中 SERVER 为服务器 ip 地址。若出现以下错误提示，检查本地密钥位置是否存在 known_hosts 文件，将其删除重新测试。测试结果为，不需要密码直接进入:\n![](/images/1571305205.jpg)\n\n#### 2.4 创建网站目录\n\n创建一个目录用于作为网站的根目录。\n\n```shell\nsu root\nmkdir /home/hexo    # 此目录为网站的根目录\n```\n赋予权限。\n```shell\nchown git:git -R /home/hexo\n```\n### 3. 安装配置 Nginx\n>注意需要 root 权限\n```shell\nyum install -y nginx    // 安装\nsystemctl start nginx.service     // 启动服务\n```\n使用 yum 安装的 nginx 在新版的 CentOS 中，需要使用 systemctl，而不是直接使用 service start nginx\n此时通过服务器的公网 IP 地址访问，可以看到 nginx 的欢迎页面，表示安装成功，如下图:\n\n![](/images/1571305643.jpg)\n\n### 3.2 配置 Nginx\n\n使用 `nginx -t` 命令查看位置，一般为 `/etc/nginx/nginx.conf`。\n使用 `vim /etc/nginx/` nginx.conf 命令进行编辑，修改配置文件如下：\n\n```shell\nserver {\n      listen       80 default_server;\n      listen       [::]:80 default_server;\n      server_name  staunchkai.com;    # 修改为自己的域名\n      root         /home/hexo;    # 修改为网站的根目录\n\n      # Load configuration files for the default server block.\n      include /etc/nginx/default.d/*.conf;\n\n      location / {\n      }\n\n      error_page 404 /404.html;\n          location = /40x.html {\n      }\n\n      error_page 500 502 503 504 /50x.html;\n          location = /50x.html {\n      }\n}\n```\n`root` 处的网站目录，需要自己创建，也就是部署上传的位置。\n\n注意使用 nginx -t 命令检查配置文件的语法是否出错。然后使用 systemctl restart nginx.service 命令重启服务即可。\n\n### 4. 自动化部署\n\n#### 4.1 建立 git 裸库\n创建一个裸仓库，裸仓库就是只保存 `git` 信息的 `Repository`, 首先切换到 `git` 用户确保 `git` 用户拥有仓库所有权，一定要加 `--bare`，这样才是一个裸库。\n```shell\nsu root\ncd /home/git   # 在 git 用户目录下创建\ngit init --bare blog.git\n```\n这时，`git` 用户的 ~ 目录下就存在一个 `blog.git` 文件夹，可使用 ls 命令查看。再修改 `blog.git` 的权限。\n```shell\nchown git:git -R blog.git\n```\n#### 4.2 使用 git-hooks 同步网站根目录\n在这使用的是 `post-receive` 这个钩子，当 `git` 有收发的时候就会调用这个钩子。 在 `blog.git` 裸库的 `hooks` 文件夹中，新建 `post-receive` 文件。\n```shell\nvim blog.git/hooks/post-receive\n```\n填入以下内容，其中 /home/hexo 为网站目录，根据自己的填入,保存退出。\n```shell\n#!/bin/sh\ngit --work-tree=/home/hexo --git-dir=/home/git/blog.git checkout -f\n```\n保存后，要赋予这个文件可执行权限。\n\n```shell\nchmod +x /home/git/blog.git/hooks/post-receive\n```\n#### 4.3禁止shell登陆\n出于安全考虑，git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成。\n找到类似下面的一行：\n```shell\nsix:x:502:502::/home/six:/bin/bash\n#改为\nsix:x:502:502::/home/six:/usr/local/git/bin/git-shell\n#或者(取决安装的git路径)\nsix:x:502:502::/home/six:/usr/bin/git-shell\nsix:x:502:502::/home/six:/bin/false\n```\n>git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出\n\n### 5. hexo本地配置\n在本地中，和部署到 pages 服务一样，需要先 hexo g 命令生成静态文件，通过 hexo s 命令能够正常进行本地访问，并且确保已经安装了 hexo-deployer-git。\n\n配置 _config.yml\nhexo 根目录下的 _config.yml 文件，找到 deploy。\n```shell\ndeploy:\n    type: git\n    repo: git@SERVER:/home/git/blog.git     # repository url\n    branch: master      # 分支\n```\n之后按照正常的流程进行部署即可。\n```shell\nhexo clean\nhexo g\nhexo d\n```\n### 6.错误提示\n报错如下：\n```shell\nbash: git-upload-pack: command not found\nfatal: The remote end hung up unexpected\n```\n`原因:原来代码服务器上的git安装路径是/usr/local/git，不是默认路径，根据提示，在git服务器上， 建立链接文件：`\n\n解决方法：\n```shell\n# ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack\n```\n报错如下：\n```shell\nbash: git-receive-pack: command not found\nfatal: Could not read from remote repository.\n```\n解决方法：\n```shell\n# ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack\n```","source":"_posts/hexo/Hexo-博客部署到腾讯云服务器全流程.md","raw":"title: Hexo 博客部署到腾讯云服务器全流程\ncategories:\n  - Hexo\ndate: 2019-10-17 17:28:42\ntags:\n---\n#### 1.部署环境\n- 本地环境\n\n  - Windows10(64bit)\n  - 环境：git，Node.js，hexo…\n  - 生成本地静态网站\n\n- 服务器环境\n\n  - 腾讯云主机(CentOS 7.5 64bit)\n  - 环境：git，Nginx，创建 git 用户\n  - 使用 git 自动化部署发布\n\n#### 2.服务器配置\n##### 1. 安装 Git (源码包安装)\n>因为 yum 源仓库的 Git 版本更新不及时，所以采用源码包进行安装。\n1.1 安装依赖包\n```shell\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel\nyum install  gcc perl-ExtUtils-MakeMaker\n```\n通过命令 git --version 可以看到，Git 当前的版本号为 1.8.3.1，太过于陈旧，所以需要先把它移除了。\n\n##### 1.2 卸载旧版本的 Git\n```shell\nyum remove git\n```\n##### 1.3 下载并解压\n```shell\ncd /usr/local/src   // 选择文件保存位置\nwget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.0.tar.gz   // 下载链接\ntar -zxvf git-2.19.0.tar.gz   // 解压\n```\n`git-2.19.0.tar.gz` 是目前最新版本，其他版本以及之后[版本](src=\"https://mirrors.edge.kernel.org/pub/software/scm/git/)可到此进行查看。解压后，会在当前目录下自动生成一个名为 `git-2.19.0` 的文件夹，里面就是解压出来的文件。可通过命令 `ls` 进行查看。\n##### 1.4 编译安装\n```shell\ncd git-2.19.0   // 进入文件夹\nmake prefix=/usr/local/git all  // 编译源码\nmake prefix=/usr/local/git install  // 安装至 /usr/local/git 路径\n```\n编译时，由机器配置决定速度，请耐心等待。\n打开环境变量配置文件。\n\n```shell\nvim /etc/profile\n```\n在文件底部添加以下配置.\n\n两个语句都要加上。\n刷新环境变量。\n```shell\nsource /etc/profile\n```\n最后再使用 git --version 查看版本号，已经为 2.19.0。\n\n### 2. git 新用户及配置\n\n#### 2.1 创建 git 用户\n```shell\nadduser git\npasswd git\nchmod 740 /etc/sudoers\nvim /etc/sudoers\n```\n找到以下内容。\n```shell\n## Allow root to run any commands anywhere\nroot    ALL=(ALL)       ALL\n```\n在它下面添加一行。\n```shell\ngit ALL=(ALL) ALL\n```\n保存并退出，将权限修改回来。\n```shell\nchmod 400 /etc/sudoers\n```\n#### 2.2 密钥配置\n本地中，使用 Git Bash 创建密钥。\n\n```shell\n# 本地 windows gitBash\nssh-keygen -t rsa\n```\n一路回车，即可。\n\n切换至 git 用户，创建 .ssh 文件夹以及 authorized_keys 文件并将本地的 id_rsa.pub 文件内容粘贴到里面。\n```shell\nsu git\nmkdir ~/.ssh\nvim ~/.ssh/authorized_keys\n```\n修改权限。\n```shell\ncd ~\nchmod 600 .ssh/authorzied_keys\nchmod 700 .ssh\n```\n#### 2.3 测试\n在本地 Windows 上，使用 Git Bash 测试是否能连接上服务器。\n```shell\nssh -v git@SERVER\n```\n其中 SERVER 为服务器 ip 地址。若出现以下错误提示，检查本地密钥位置是否存在 known_hosts 文件，将其删除重新测试。测试结果为，不需要密码直接进入:\n![](/images/1571305205.jpg)\n\n#### 2.4 创建网站目录\n\n创建一个目录用于作为网站的根目录。\n\n```shell\nsu root\nmkdir /home/hexo    # 此目录为网站的根目录\n```\n赋予权限。\n```shell\nchown git:git -R /home/hexo\n```\n### 3. 安装配置 Nginx\n>注意需要 root 权限\n```shell\nyum install -y nginx    // 安装\nsystemctl start nginx.service     // 启动服务\n```\n使用 yum 安装的 nginx 在新版的 CentOS 中，需要使用 systemctl，而不是直接使用 service start nginx\n此时通过服务器的公网 IP 地址访问，可以看到 nginx 的欢迎页面，表示安装成功，如下图:\n\n![](/images/1571305643.jpg)\n\n### 3.2 配置 Nginx\n\n使用 `nginx -t` 命令查看位置，一般为 `/etc/nginx/nginx.conf`。\n使用 `vim /etc/nginx/` nginx.conf 命令进行编辑，修改配置文件如下：\n\n```shell\nserver {\n      listen       80 default_server;\n      listen       [::]:80 default_server;\n      server_name  staunchkai.com;    # 修改为自己的域名\n      root         /home/hexo;    # 修改为网站的根目录\n\n      # Load configuration files for the default server block.\n      include /etc/nginx/default.d/*.conf;\n\n      location / {\n      }\n\n      error_page 404 /404.html;\n          location = /40x.html {\n      }\n\n      error_page 500 502 503 504 /50x.html;\n          location = /50x.html {\n      }\n}\n```\n`root` 处的网站目录，需要自己创建，也就是部署上传的位置。\n\n注意使用 nginx -t 命令检查配置文件的语法是否出错。然后使用 systemctl restart nginx.service 命令重启服务即可。\n\n### 4. 自动化部署\n\n#### 4.1 建立 git 裸库\n创建一个裸仓库，裸仓库就是只保存 `git` 信息的 `Repository`, 首先切换到 `git` 用户确保 `git` 用户拥有仓库所有权，一定要加 `--bare`，这样才是一个裸库。\n```shell\nsu root\ncd /home/git   # 在 git 用户目录下创建\ngit init --bare blog.git\n```\n这时，`git` 用户的 ~ 目录下就存在一个 `blog.git` 文件夹，可使用 ls 命令查看。再修改 `blog.git` 的权限。\n```shell\nchown git:git -R blog.git\n```\n#### 4.2 使用 git-hooks 同步网站根目录\n在这使用的是 `post-receive` 这个钩子，当 `git` 有收发的时候就会调用这个钩子。 在 `blog.git` 裸库的 `hooks` 文件夹中，新建 `post-receive` 文件。\n```shell\nvim blog.git/hooks/post-receive\n```\n填入以下内容，其中 /home/hexo 为网站目录，根据自己的填入,保存退出。\n```shell\n#!/bin/sh\ngit --work-tree=/home/hexo --git-dir=/home/git/blog.git checkout -f\n```\n保存后，要赋予这个文件可执行权限。\n\n```shell\nchmod +x /home/git/blog.git/hooks/post-receive\n```\n#### 4.3禁止shell登陆\n出于安全考虑，git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成。\n找到类似下面的一行：\n```shell\nsix:x:502:502::/home/six:/bin/bash\n#改为\nsix:x:502:502::/home/six:/usr/local/git/bin/git-shell\n#或者(取决安装的git路径)\nsix:x:502:502::/home/six:/usr/bin/git-shell\nsix:x:502:502::/home/six:/bin/false\n```\n>git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出\n\n### 5. hexo本地配置\n在本地中，和部署到 pages 服务一样，需要先 hexo g 命令生成静态文件，通过 hexo s 命令能够正常进行本地访问，并且确保已经安装了 hexo-deployer-git。\n\n配置 _config.yml\nhexo 根目录下的 _config.yml 文件，找到 deploy。\n```shell\ndeploy:\n    type: git\n    repo: git@SERVER:/home/git/blog.git     # repository url\n    branch: master      # 分支\n```\n之后按照正常的流程进行部署即可。\n```shell\nhexo clean\nhexo g\nhexo d\n```\n### 6.错误提示\n报错如下：\n```shell\nbash: git-upload-pack: command not found\nfatal: The remote end hung up unexpected\n```\n`原因:原来代码服务器上的git安装路径是/usr/local/git，不是默认路径，根据提示，在git服务器上， 建立链接文件：`\n\n解决方法：\n```shell\n# ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack\n```\n报错如下：\n```shell\nbash: git-receive-pack: command not found\nfatal: Could not read from remote repository.\n```\n解决方法：\n```shell\n# ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack\n```","slug":"hexo/Hexo-博客部署到腾讯云服务器全流程","published":1,"updated":"2019-10-18T08:05:22.825Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wj0009gooogqeosmou","content":"<h4 id=\"1-部署环境\"><a href=\"#1-部署环境\" class=\"headerlink\" title=\"1.部署环境\"></a>1.部署环境</h4><ul>\n<li><p>本地环境</p>\n<ul>\n<li>Windows10(64bit)</li>\n<li>环境：git，Node.js，hexo…</li>\n<li>生成本地静态网站</li>\n</ul>\n</li>\n<li><p>服务器环境</p>\n<ul>\n<li>腾讯云主机(CentOS 7.5 64bit)</li>\n<li>环境：git，Nginx，创建 git 用户</li>\n<li>使用 git 自动化部署发布</li>\n</ul>\n</li>\n</ul><a id=\"more\"></a>\n<h4 id=\"2-服务器配置\"><a href=\"#2-服务器配置\" class=\"headerlink\" title=\"2.服务器配置\"></a>2.服务器配置</h4><h5 id=\"1-安装-Git-源码包安装\"><a href=\"#1-安装-Git-源码包安装\" class=\"headerlink\" title=\"1. 安装 Git (源码包安装)\"></a>1. 安装 Git (源码包安装)</h5><blockquote>\n<p>因为 yum 源仓库的 Git 版本更新不及时，所以采用源码包进行安装。<br>1.1 安装依赖包</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel</span><br><span class=\"line\">yum install  gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>\n\n<p>通过命令 git –version 可以看到，Git 当前的版本号为 1.8.3.1，太过于陈旧，所以需要先把它移除了。</p>\n<h5 id=\"1-2-卸载旧版本的-Git\"><a href=\"#1-2-卸载旧版本的-Git\" class=\"headerlink\" title=\"1.2 卸载旧版本的 Git\"></a>1.2 卸载旧版本的 Git</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum remove git</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-3-下载并解压\"><a href=\"#1-3-下载并解压\" class=\"headerlink\" title=\"1.3 下载并解压\"></a>1.3 下载并解压</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/src   // 选择文件保存位置</span><br><span class=\"line\">wget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.0.tar.gz   // 下载链接</span><br><span class=\"line\">tar -zxvf git-2.19.0.tar.gz   // 解压</span><br></pre></td></tr></table></figure>\n\n<p><code>git-2.19.0.tar.gz</code> 是目前最新版本，其他版本以及之后<a href=\"src=\" https: mirrors.edge.kernel.org pub software scm git \">版本</a>可到此进行查看。解压后，会在当前目录下自动生成一个名为 <code>git-2.19.0</code> 的文件夹，里面就是解压出来的文件。可通过命令 <code>ls</code> 进行查看。</p>\n<h5 id=\"1-4-编译安装\"><a href=\"#1-4-编译安装\" class=\"headerlink\" title=\"1.4 编译安装\"></a>1.4 编译安装</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd git-2.19.0   // 进入文件夹</span><br><span class=\"line\">make prefix=/usr/local/git all  // 编译源码</span><br><span class=\"line\">make prefix=/usr/local/git install  // 安装至 /usr/local/git 路径</span><br></pre></td></tr></table></figure>\n\n<p>编译时，由机器配置决定速度，请耐心等待。<br>打开环境变量配置文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br></pre></td></tr></table></figure>\n\n<p>在文件底部添加以下配置.</p>\n<p>两个语句都要加上。<br>刷新环境变量。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n\n<p>最后再使用 git –version 查看版本号，已经为 2.19.0。</p>\n<h3 id=\"2-git-新用户及配置\"><a href=\"#2-git-新用户及配置\" class=\"headerlink\" title=\"2. git 新用户及配置\"></a>2. git 新用户及配置</h3><h4 id=\"2-1-创建-git-用户\"><a href=\"#2-1-创建-git-用户\" class=\"headerlink\" title=\"2.1 创建 git 用户\"></a>2.1 创建 git 用户</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adduser git</span><br><span class=\"line\">passwd git</span><br><span class=\"line\">chmod 740 /etc/sudoers</span><br><span class=\"line\">vim /etc/sudoers</span><br></pre></td></tr></table></figure>\n\n<p>找到以下内容。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span># Allow root to run any commands anywhere</span><br><span class=\"line\">root    ALL=(ALL)       ALL</span><br></pre></td></tr></table></figure>\n\n<p>在它下面添加一行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>\n\n<p>保存并退出，将权限修改回来。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 400 /etc/sudoers</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-2-密钥配置\"><a href=\"#2-2-密钥配置\" class=\"headerlink\" title=\"2.2 密钥配置\"></a>2.2 密钥配置</h4><p>本地中，使用 Git Bash 创建密钥。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> 本地 windows gitBash</span><br><span class=\"line\">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>\n\n<p>一路回车，即可。</p>\n<p>切换至 git 用户，创建 .ssh 文件夹以及 authorized_keys 文件并将本地的 id_rsa.pub 文件内容粘贴到里面。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su git</span><br><span class=\"line\">mkdir ~/.ssh</span><br><span class=\"line\">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n\n<p>修改权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">chmod 600 .ssh/authorzied_keys</span><br><span class=\"line\">chmod 700 .ssh</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-测试\"><a href=\"#2-3-测试\" class=\"headerlink\" title=\"2.3 测试\"></a>2.3 测试</h4><p>在本地 Windows 上，使用 Git Bash 测试是否能连接上服务器。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -v git@SERVER</span><br></pre></td></tr></table></figure>\n\n<p>其中 SERVER 为服务器 ip 地址。若出现以下错误提示，检查本地密钥位置是否存在 known_hosts 文件，将其删除重新测试。测试结果为，不需要密码直接进入:<br><img src=\"/images/1571305205.jpg\" alt></p>\n<h4 id=\"2-4-创建网站目录\"><a href=\"#2-4-创建网站目录\" class=\"headerlink\" title=\"2.4 创建网站目录\"></a>2.4 创建网站目录</h4><p>创建一个目录用于作为网站的根目录。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br><span class=\"line\">mkdir /home/hexo    # 此目录为网站的根目录</span><br></pre></td></tr></table></figure>\n\n<p>赋予权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chown git:git -R /home/hexo</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-安装配置-Nginx\"><a href=\"#3-安装配置-Nginx\" class=\"headerlink\" title=\"3. 安装配置 Nginx\"></a>3. 安装配置 Nginx</h3><blockquote>\n<p>注意需要 root 权限</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nginx    // 安装</span><br><span class=\"line\">systemctl start nginx.service     // 启动服务</span><br></pre></td></tr></table></figure>\n\n<p>使用 yum 安装的 nginx 在新版的 CentOS 中，需要使用 systemctl，而不是直接使用 service start nginx<br>此时通过服务器的公网 IP 地址访问，可以看到 nginx 的欢迎页面，表示安装成功，如下图:</p>\n<p><img src=\"/images/1571305643.jpg\" alt></p>\n<h3 id=\"3-2-配置-Nginx\"><a href=\"#3-2-配置-Nginx\" class=\"headerlink\" title=\"3.2 配置 Nginx\"></a>3.2 配置 Nginx</h3><p>使用 <code>nginx -t</code> 命令查看位置，一般为 <code>/etc/nginx/nginx.conf</code>。<br>使用 <code>vim /etc/nginx/</code> nginx.conf 命令进行编辑，修改配置文件如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">      listen       80 default_server;</span><br><span class=\"line\">      listen       [::]:80 default_server;</span><br><span class=\"line\">      server_name  staunchkai.com;    # 修改为自己的域名</span><br><span class=\"line\">      root         /home/hexo;    # 修改为网站的根目录</span><br><span class=\"line\"></span><br><span class=\"line\">      # Load configuration files for the default server block.</span><br><span class=\"line\">      include /etc/nginx/default.d/*.conf;</span><br><span class=\"line\"></span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      error_page 404 /404.html;</span><br><span class=\"line\">          location = /40x.html &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">          location = /50x.html &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>root</code> 处的网站目录，需要自己创建，也就是部署上传的位置。</p>\n<p>注意使用 nginx -t 命令检查配置文件的语法是否出错。然后使用 systemctl restart nginx.service 命令重启服务即可。</p>\n<h3 id=\"4-自动化部署\"><a href=\"#4-自动化部署\" class=\"headerlink\" title=\"4. 自动化部署\"></a>4. 自动化部署</h3><h4 id=\"4-1-建立-git-裸库\"><a href=\"#4-1-建立-git-裸库\" class=\"headerlink\" title=\"4.1 建立 git 裸库\"></a>4.1 建立 git 裸库</h4><p>创建一个裸仓库，裸仓库就是只保存 <code>git</code> 信息的 <code>Repository</code>, 首先切换到 <code>git</code> 用户确保 <code>git</code> 用户拥有仓库所有权，一定要加 <code>--bare</code>，这样才是一个裸库。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br><span class=\"line\">cd /home/git   # 在 git 用户目录下创建</span><br><span class=\"line\">git init --bare blog.git</span><br></pre></td></tr></table></figure>\n\n<p>这时，<code>git</code> 用户的 ~ 目录下就存在一个 <code>blog.git</code> 文件夹，可使用 ls 命令查看。再修改 <code>blog.git</code> 的权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chown git:git -R blog.git</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-使用-git-hooks-同步网站根目录\"><a href=\"#4-2-使用-git-hooks-同步网站根目录\" class=\"headerlink\" title=\"4.2 使用 git-hooks 同步网站根目录\"></a>4.2 使用 git-hooks 同步网站根目录</h4><p>在这使用的是 <code>post-receive</code> 这个钩子，当 <code>git</code> 有收发的时候就会调用这个钩子。 在 <code>blog.git</code> 裸库的 <code>hooks</code> 文件夹中，新建 <code>post-receive</code> 文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>\n\n<p>填入以下内容，其中 /home/hexo 为网站目录，根据自己的填入,保存退出。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span>!/bin/sh</span><br><span class=\"line\">git --work-tree=/home/hexo --git-dir=/home/git/blog.git checkout -f</span><br></pre></td></tr></table></figure>\n\n<p>保存后，要赋予这个文件可执行权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod +x /home/git/blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-3禁止shell登陆\"><a href=\"#4-3禁止shell登陆\" class=\"headerlink\" title=\"4.3禁止shell登陆\"></a>4.3禁止shell登陆</h4><p>出于安全考虑，git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成。<br>找到类似下面的一行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">six:x:502:502::/home/six:/bin/bash</span><br><span class=\"line\"><span class=\"meta\">#</span>改为</span><br><span class=\"line\">six:x:502:502::/home/six:/usr/local/git/bin/git-shell</span><br><span class=\"line\"><span class=\"meta\">#</span>或者(取决安装的git路径)</span><br><span class=\"line\">six:x:502:502::/home/six:/usr/bin/git-shell</span><br><span class=\"line\">six:x:502:502::/home/six:/bin/false</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出</p>\n</blockquote>\n<h3 id=\"5-hexo本地配置\"><a href=\"#5-hexo本地配置\" class=\"headerlink\" title=\"5. hexo本地配置\"></a>5. hexo本地配置</h3><p>在本地中，和部署到 pages 服务一样，需要先 hexo g 命令生成静态文件，通过 hexo s 命令能够正常进行本地访问，并且确保已经安装了 hexo-deployer-git。</p>\n<p>配置 _config.yml<br>hexo 根目录下的 _config.yml 文件，找到 deploy。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">    type: git</span><br><span class=\"line\">    repo: git@SERVER:/home/git/blog.git     # repository url</span><br><span class=\"line\">    branch: master      # 分支</span><br></pre></td></tr></table></figure>\n\n<p>之后按照正常的流程进行部署即可。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo g</span><br><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-错误提示\"><a href=\"#6-错误提示\" class=\"headerlink\" title=\"6.错误提示\"></a>6.错误提示</h3><p>报错如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash: git-upload-pack: command not found</span><br><span class=\"line\">fatal: The remote end hung up unexpected</span><br></pre></td></tr></table></figure>\n\n<p><code>原因:原来代码服务器上的git安装路径是/usr/local/git，不是默认路径，根据提示，在git服务器上， 建立链接文件：</code></p>\n<p>解决方法：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack</span><br></pre></td></tr></table></figure>\n\n<p>报错如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash: git-receive-pack: command not found</span><br><span class=\"line\">fatal: Could not read from remote repository.</span><br></pre></td></tr></table></figure>\n\n<p>解决方法：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h4 id=\"1-部署环境\"><a href=\"#1-部署环境\" class=\"headerlink\" title=\"1.部署环境\"></a>1.部署环境</h4><ul>\n<li><p>本地环境</p>\n<ul>\n<li>Windows10(64bit)</li>\n<li>环境：git，Node.js，hexo…</li>\n<li>生成本地静态网站</li>\n</ul>\n</li>\n<li><p>服务器环境</p>\n<ul>\n<li>腾讯云主机(CentOS 7.5 64bit)</li>\n<li>环境：git，Nginx，创建 git 用户</li>\n<li>使用 git 自动化部署发布</li>\n</ul>\n</li>\n</ul>","more":"\n<h4 id=\"2-服务器配置\"><a href=\"#2-服务器配置\" class=\"headerlink\" title=\"2.服务器配置\"></a>2.服务器配置</h4><h5 id=\"1-安装-Git-源码包安装\"><a href=\"#1-安装-Git-源码包安装\" class=\"headerlink\" title=\"1. 安装 Git (源码包安装)\"></a>1. 安装 Git (源码包安装)</h5><blockquote>\n<p>因为 yum 源仓库的 Git 版本更新不及时，所以采用源码包进行安装。<br>1.1 安装依赖包</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel</span><br><span class=\"line\">yum install  gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>\n\n<p>通过命令 git –version 可以看到，Git 当前的版本号为 1.8.3.1，太过于陈旧，所以需要先把它移除了。</p>\n<h5 id=\"1-2-卸载旧版本的-Git\"><a href=\"#1-2-卸载旧版本的-Git\" class=\"headerlink\" title=\"1.2 卸载旧版本的 Git\"></a>1.2 卸载旧版本的 Git</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum remove git</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-3-下载并解压\"><a href=\"#1-3-下载并解压\" class=\"headerlink\" title=\"1.3 下载并解压\"></a>1.3 下载并解压</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/src   // 选择文件保存位置</span><br><span class=\"line\">wget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.19.0.tar.gz   // 下载链接</span><br><span class=\"line\">tar -zxvf git-2.19.0.tar.gz   // 解压</span><br></pre></td></tr></table></figure>\n\n<p><code>git-2.19.0.tar.gz</code> 是目前最新版本，其他版本以及之后<a href=\"src=\" https: mirrors.edge.kernel.org pub software scm git \">版本</a>可到此进行查看。解压后，会在当前目录下自动生成一个名为 <code>git-2.19.0</code> 的文件夹，里面就是解压出来的文件。可通过命令 <code>ls</code> 进行查看。</p>\n<h5 id=\"1-4-编译安装\"><a href=\"#1-4-编译安装\" class=\"headerlink\" title=\"1.4 编译安装\"></a>1.4 编译安装</h5><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd git-2.19.0   // 进入文件夹</span><br><span class=\"line\">make prefix=/usr/local/git all  // 编译源码</span><br><span class=\"line\">make prefix=/usr/local/git install  // 安装至 /usr/local/git 路径</span><br></pre></td></tr></table></figure>\n\n<p>编译时，由机器配置决定速度，请耐心等待。<br>打开环境变量配置文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br></pre></td></tr></table></figure>\n\n<p>在文件底部添加以下配置.</p>\n<p>两个语句都要加上。<br>刷新环境变量。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n\n<p>最后再使用 git –version 查看版本号，已经为 2.19.0。</p>\n<h3 id=\"2-git-新用户及配置\"><a href=\"#2-git-新用户及配置\" class=\"headerlink\" title=\"2. git 新用户及配置\"></a>2. git 新用户及配置</h3><h4 id=\"2-1-创建-git-用户\"><a href=\"#2-1-创建-git-用户\" class=\"headerlink\" title=\"2.1 创建 git 用户\"></a>2.1 创建 git 用户</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adduser git</span><br><span class=\"line\">passwd git</span><br><span class=\"line\">chmod 740 /etc/sudoers</span><br><span class=\"line\">vim /etc/sudoers</span><br></pre></td></tr></table></figure>\n\n<p>找到以下内容。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span># Allow root to run any commands anywhere</span><br><span class=\"line\">root    ALL=(ALL)       ALL</span><br></pre></td></tr></table></figure>\n\n<p>在它下面添加一行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>\n\n<p>保存并退出，将权限修改回来。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 400 /etc/sudoers</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-2-密钥配置\"><a href=\"#2-2-密钥配置\" class=\"headerlink\" title=\"2.2 密钥配置\"></a>2.2 密钥配置</h4><p>本地中，使用 Git Bash 创建密钥。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> 本地 windows gitBash</span><br><span class=\"line\">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>\n\n<p>一路回车，即可。</p>\n<p>切换至 git 用户，创建 .ssh 文件夹以及 authorized_keys 文件并将本地的 id_rsa.pub 文件内容粘贴到里面。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su git</span><br><span class=\"line\">mkdir ~/.ssh</span><br><span class=\"line\">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n\n<p>修改权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~</span><br><span class=\"line\">chmod 600 .ssh/authorzied_keys</span><br><span class=\"line\">chmod 700 .ssh</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-测试\"><a href=\"#2-3-测试\" class=\"headerlink\" title=\"2.3 测试\"></a>2.3 测试</h4><p>在本地 Windows 上，使用 Git Bash 测试是否能连接上服务器。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -v git@SERVER</span><br></pre></td></tr></table></figure>\n\n<p>其中 SERVER 为服务器 ip 地址。若出现以下错误提示，检查本地密钥位置是否存在 known_hosts 文件，将其删除重新测试。测试结果为，不需要密码直接进入:<br><img src=\"/images/1571305205.jpg\" alt></p>\n<h4 id=\"2-4-创建网站目录\"><a href=\"#2-4-创建网站目录\" class=\"headerlink\" title=\"2.4 创建网站目录\"></a>2.4 创建网站目录</h4><p>创建一个目录用于作为网站的根目录。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br><span class=\"line\">mkdir /home/hexo    # 此目录为网站的根目录</span><br></pre></td></tr></table></figure>\n\n<p>赋予权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chown git:git -R /home/hexo</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-安装配置-Nginx\"><a href=\"#3-安装配置-Nginx\" class=\"headerlink\" title=\"3. 安装配置 Nginx\"></a>3. 安装配置 Nginx</h3><blockquote>\n<p>注意需要 root 权限</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nginx    // 安装</span><br><span class=\"line\">systemctl start nginx.service     // 启动服务</span><br></pre></td></tr></table></figure>\n\n<p>使用 yum 安装的 nginx 在新版的 CentOS 中，需要使用 systemctl，而不是直接使用 service start nginx<br>此时通过服务器的公网 IP 地址访问，可以看到 nginx 的欢迎页面，表示安装成功，如下图:</p>\n<p><img src=\"/images/1571305643.jpg\" alt></p>\n<h3 id=\"3-2-配置-Nginx\"><a href=\"#3-2-配置-Nginx\" class=\"headerlink\" title=\"3.2 配置 Nginx\"></a>3.2 配置 Nginx</h3><p>使用 <code>nginx -t</code> 命令查看位置，一般为 <code>/etc/nginx/nginx.conf</code>。<br>使用 <code>vim /etc/nginx/</code> nginx.conf 命令进行编辑，修改配置文件如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">      listen       80 default_server;</span><br><span class=\"line\">      listen       [::]:80 default_server;</span><br><span class=\"line\">      server_name  staunchkai.com;    # 修改为自己的域名</span><br><span class=\"line\">      root         /home/hexo;    # 修改为网站的根目录</span><br><span class=\"line\"></span><br><span class=\"line\">      # Load configuration files for the default server block.</span><br><span class=\"line\">      include /etc/nginx/default.d/*.conf;</span><br><span class=\"line\"></span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      error_page 404 /404.html;</span><br><span class=\"line\">          location = /40x.html &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">          location = /50x.html &#123;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>root</code> 处的网站目录，需要自己创建，也就是部署上传的位置。</p>\n<p>注意使用 nginx -t 命令检查配置文件的语法是否出错。然后使用 systemctl restart nginx.service 命令重启服务即可。</p>\n<h3 id=\"4-自动化部署\"><a href=\"#4-自动化部署\" class=\"headerlink\" title=\"4. 自动化部署\"></a>4. 自动化部署</h3><h4 id=\"4-1-建立-git-裸库\"><a href=\"#4-1-建立-git-裸库\" class=\"headerlink\" title=\"4.1 建立 git 裸库\"></a>4.1 建立 git 裸库</h4><p>创建一个裸仓库，裸仓库就是只保存 <code>git</code> 信息的 <code>Repository</code>, 首先切换到 <code>git</code> 用户确保 <code>git</code> 用户拥有仓库所有权，一定要加 <code>--bare</code>，这样才是一个裸库。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br><span class=\"line\">cd /home/git   # 在 git 用户目录下创建</span><br><span class=\"line\">git init --bare blog.git</span><br></pre></td></tr></table></figure>\n\n<p>这时，<code>git</code> 用户的 ~ 目录下就存在一个 <code>blog.git</code> 文件夹，可使用 ls 命令查看。再修改 <code>blog.git</code> 的权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chown git:git -R blog.git</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-使用-git-hooks-同步网站根目录\"><a href=\"#4-2-使用-git-hooks-同步网站根目录\" class=\"headerlink\" title=\"4.2 使用 git-hooks 同步网站根目录\"></a>4.2 使用 git-hooks 同步网站根目录</h4><p>在这使用的是 <code>post-receive</code> 这个钩子，当 <code>git</code> 有收发的时候就会调用这个钩子。 在 <code>blog.git</code> 裸库的 <code>hooks</code> 文件夹中，新建 <code>post-receive</code> 文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>\n\n<p>填入以下内容，其中 /home/hexo 为网站目录，根据自己的填入,保存退出。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span>!/bin/sh</span><br><span class=\"line\">git --work-tree=/home/hexo --git-dir=/home/git/blog.git checkout -f</span><br></pre></td></tr></table></figure>\n\n<p>保存后，要赋予这个文件可执行权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod +x /home/git/blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-3禁止shell登陆\"><a href=\"#4-3禁止shell登陆\" class=\"headerlink\" title=\"4.3禁止shell登陆\"></a>4.3禁止shell登陆</h4><p>出于安全考虑，git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成。<br>找到类似下面的一行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">six:x:502:502::/home/six:/bin/bash</span><br><span class=\"line\"><span class=\"meta\">#</span>改为</span><br><span class=\"line\">six:x:502:502::/home/six:/usr/local/git/bin/git-shell</span><br><span class=\"line\"><span class=\"meta\">#</span>或者(取决安装的git路径)</span><br><span class=\"line\">six:x:502:502::/home/six:/usr/bin/git-shell</span><br><span class=\"line\">six:x:502:502::/home/six:/bin/false</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出</p>\n</blockquote>\n<h3 id=\"5-hexo本地配置\"><a href=\"#5-hexo本地配置\" class=\"headerlink\" title=\"5. hexo本地配置\"></a>5. hexo本地配置</h3><p>在本地中，和部署到 pages 服务一样，需要先 hexo g 命令生成静态文件，通过 hexo s 命令能够正常进行本地访问，并且确保已经安装了 hexo-deployer-git。</p>\n<p>配置 _config.yml<br>hexo 根目录下的 _config.yml 文件，找到 deploy。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">    type: git</span><br><span class=\"line\">    repo: git@SERVER:/home/git/blog.git     # repository url</span><br><span class=\"line\">    branch: master      # 分支</span><br></pre></td></tr></table></figure>\n\n<p>之后按照正常的流程进行部署即可。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo g</span><br><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-错误提示\"><a href=\"#6-错误提示\" class=\"headerlink\" title=\"6.错误提示\"></a>6.错误提示</h3><p>报错如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash: git-upload-pack: command not found</span><br><span class=\"line\">fatal: The remote end hung up unexpected</span><br></pre></td></tr></table></figure>\n\n<p><code>原因:原来代码服务器上的git安装路径是/usr/local/git，不是默认路径，根据提示，在git服务器上， 建立链接文件：</code></p>\n<p>解决方法：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack</span><br></pre></td></tr></table></figure>\n\n<p>报错如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash: git-receive-pack: command not found</span><br><span class=\"line\">fatal: Could not read from remote repository.</span><br></pre></td></tr></table></figure>\n\n<p>解决方法：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack</span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/1571305205.jpg","popularPost_tmp_gaData":{"updated":"Fri Oct 18 2019 16:05:22 GMT+0800 (GMT+08:00)","title":"Hexo 博客部署到腾讯云服务器全流程","path":"2019/10/17/hexo/Hexo-博客部署到腾讯云服务器全流程/","eyeCatchImage":"/images/1571305205.jpg","excerpt":null,"date":"2019-10-17T09:28:42.000Z","pv":0,"totalPV":0,"categories":"Hexo","tags":[],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"使用hexo+github搭建免费个人博客","date":"2019-10-12T02:43:32.000Z","_content":"### 1.安装启动\n在GitBash 中操作，输入以下命令，等待安装完成。\n```shell\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\n```\na.安装 hexo\n```shell\ncnpm install -g hexo\n```\nb.初始化 hexo\n```shell\nhexo init\n```\n注意，其中有一个_config.xml文件，这个我们叫做站点根目录配置文件，里面的初始内容如下：（附上中文介绍）\nc.配置文件\n```xml\n# Hexo Configuration\n## Docs: https://hexo.io/docs/configuration.html\n## Source: https://github.com/hexojs/hexo/\n\n# Site 站点主配置\ntitle: Hexo  # 网站标题\nsubtitle:    # 网站副标题\ndescription:   # 网站描述\nkeywords:      # 可以不填写保持默认\nauthor: John Doe  # 网站拥有者昵称\nlanguage:    # 网站语言设置，一般根据依赖的主题而定\ntimezone:    # 网站时区设置，一般不填写保持默认\n\n# URL地址链接设置\nurl: http://yoursite.com   # 网站url设置\nroot: /                    # 网站根目录链接\npermalink: :year/:month/:day/:title/   # 文章链接，默认是按照 /年/月/日/文章标题 设置的链接\npermalink_defaults:                    # 默认链接形式\n\n# Directory  网站主要目录，这里一般不做改动\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n\n# Writing  网站文章设置，同样一般不做改动\nnew_post_name: :title.md  # File name of new posts\ndefault_layout: post\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: false\nrelative_link: false\nfuture: true\nhighlight:\n  enable: true\n  line_number: true\n  auto_detect: false\n  tab_replace:\n\n# Home page setting  主页设置，一般不做改动\nindex_generator:\n  path: ''\n  per_page: 10\n  order_by: -date  # 首页文章排序，默认是按照文章日期递减\n\n# Category & Tag  分类设置，一般不做改动\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Date / Time format  日期设置，一般不做改动\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n\n# Pagination  导航页设置，一般不做改动\nper_page: 10   # 设置每页展示多少文章\npagination_dir: page\n\n# Extensions  使用的主题名称，可以在这里切换\ntheme: next  # 此处切换主题名称\n\n# Deployment  部署，一般选择部署到Github上\ndeploy:\n  type:\n```\n其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：\n\n```shell\n//cd到根目录执行\n$ hexo g\n$ hexo s\n```\n然后我们打开浏览器，输入http://localhost:4000;\n{% asset_img hexo1.png This is an example image %}\n\nd.创建文章\n\n```shell\nhexo new \"我的第一篇博客\"\n\n//或者可以简写为\n\nhexo n \"我的第一篇博客\"\n```\ne.创建文件夹\n```shell\nhexo n [我的第一篇博客] 我的第一篇博客\n```\n### 2.上传到github\na.配置站点配置文件\n1.打开根目录下站点配置文件_config.yml，配置有关deploy的部分：\n![](/images/20191012104426.png)\nb.安装插件\n此时，直接使用hexo d部署到github，将出现如下错误：\n```shell\n$ hexo deploy\nERROR Deployer not found: git\n```\n这是因为需要安装如下插件\n```shell\nnpm install hexo-deployer-git  --save\n```\nc.部署到github\n```shell\nhexo d\n```\n\n### 3.关于 标签 分类 归档\n1.主题的 _config.yml 文件中的 menu 中进行匹配\n```js\nmenu:\n  home: /      //主页\n  categories: /categories //分类\n  archives: /archives   //归档\n  tags: /tags   //标签\n  about: /about   //关于                  （添加此行即可）\n```\n编辑 about 关于页面 md文件 部署就能看到\n\n2：添加 标签页面\n使用： hexo new page tags 新建一个 标签 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n底下代码是一篇包含 标签 文章的例子\n```js\ntitle: 标签测试\ntags:\n  - Testing                   （这个就是文章的标签了）\n  - Another Tag               （这个就是文章的标签了）\n---\n```\n3：添加 分类页面\n使用： hexo new page categories 新建一个 分类 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n```js\ntitle: 分类测试\ncategories:\n- hexo                       （这个就是文章的分类了）\n---\n```\n5：添加 自定义页面\n使用： hexo new page \"guestbook\" 新建一个 自定义 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n```js\nmenu:\n  home: /      //主页\n  categories: /categories //分类\n  archives: /archives   //归档\n  tags: /tags   //标签\n  about: /about   //关于\n  guestbook: /guestbook    //自定义             （添加此行即可）\n```","source":"_posts/hexo/使用hexo-github搭建免费个人博客.md","raw":"title: 使用hexo+github搭建免费个人博客\ncategories:\n  - Hexo\ndate: 2019-10-12 10:43:32\ntags:\n---\n### 1.安装启动\n在GitBash 中操作，输入以下命令，等待安装完成。\n```shell\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\n```\na.安装 hexo\n```shell\ncnpm install -g hexo\n```\nb.初始化 hexo\n```shell\nhexo init\n```\n注意，其中有一个_config.xml文件，这个我们叫做站点根目录配置文件，里面的初始内容如下：（附上中文介绍）\nc.配置文件\n```xml\n# Hexo Configuration\n## Docs: https://hexo.io/docs/configuration.html\n## Source: https://github.com/hexojs/hexo/\n\n# Site 站点主配置\ntitle: Hexo  # 网站标题\nsubtitle:    # 网站副标题\ndescription:   # 网站描述\nkeywords:      # 可以不填写保持默认\nauthor: John Doe  # 网站拥有者昵称\nlanguage:    # 网站语言设置，一般根据依赖的主题而定\ntimezone:    # 网站时区设置，一般不填写保持默认\n\n# URL地址链接设置\nurl: http://yoursite.com   # 网站url设置\nroot: /                    # 网站根目录链接\npermalink: :year/:month/:day/:title/   # 文章链接，默认是按照 /年/月/日/文章标题 设置的链接\npermalink_defaults:                    # 默认链接形式\n\n# Directory  网站主要目录，这里一般不做改动\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n\n# Writing  网站文章设置，同样一般不做改动\nnew_post_name: :title.md  # File name of new posts\ndefault_layout: post\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: false\nrelative_link: false\nfuture: true\nhighlight:\n  enable: true\n  line_number: true\n  auto_detect: false\n  tab_replace:\n\n# Home page setting  主页设置，一般不做改动\nindex_generator:\n  path: ''\n  per_page: 10\n  order_by: -date  # 首页文章排序，默认是按照文章日期递减\n\n# Category & Tag  分类设置，一般不做改动\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Date / Time format  日期设置，一般不做改动\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n\n# Pagination  导航页设置，一般不做改动\nper_page: 10   # 设置每页展示多少文章\npagination_dir: page\n\n# Extensions  使用的主题名称，可以在这里切换\ntheme: next  # 此处切换主题名称\n\n# Deployment  部署，一般选择部署到Github上\ndeploy:\n  type:\n```\n其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：\n\n```shell\n//cd到根目录执行\n$ hexo g\n$ hexo s\n```\n然后我们打开浏览器，输入http://localhost:4000;\n{% asset_img hexo1.png This is an example image %}\n\nd.创建文章\n\n```shell\nhexo new \"我的第一篇博客\"\n\n//或者可以简写为\n\nhexo n \"我的第一篇博客\"\n```\ne.创建文件夹\n```shell\nhexo n [我的第一篇博客] 我的第一篇博客\n```\n### 2.上传到github\na.配置站点配置文件\n1.打开根目录下站点配置文件_config.yml，配置有关deploy的部分：\n![](/images/20191012104426.png)\nb.安装插件\n此时，直接使用hexo d部署到github，将出现如下错误：\n```shell\n$ hexo deploy\nERROR Deployer not found: git\n```\n这是因为需要安装如下插件\n```shell\nnpm install hexo-deployer-git  --save\n```\nc.部署到github\n```shell\nhexo d\n```\n\n### 3.关于 标签 分类 归档\n1.主题的 _config.yml 文件中的 menu 中进行匹配\n```js\nmenu:\n  home: /      //主页\n  categories: /categories //分类\n  archives: /archives   //归档\n  tags: /tags   //标签\n  about: /about   //关于                  （添加此行即可）\n```\n编辑 about 关于页面 md文件 部署就能看到\n\n2：添加 标签页面\n使用： hexo new page tags 新建一个 标签 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n底下代码是一篇包含 标签 文章的例子\n```js\ntitle: 标签测试\ntags:\n  - Testing                   （这个就是文章的标签了）\n  - Another Tag               （这个就是文章的标签了）\n---\n```\n3：添加 分类页面\n使用： hexo new page categories 新建一个 分类 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n```js\ntitle: 分类测试\ncategories:\n- hexo                       （这个就是文章的分类了）\n---\n```\n5：添加 自定义页面\n使用： hexo new page \"guestbook\" 新建一个 自定义 页面。\n主题的 _config.yml 文件中的 menu 中进行匹配\n```js\nmenu:\n  home: /      //主页\n  categories: /categories //分类\n  archives: /archives   //归档\n  tags: /tags   //标签\n  about: /about   //关于\n  guestbook: /guestbook    //自定义             （添加此行即可）\n```","slug":"hexo/使用hexo-github搭建免费个人博客","published":1,"updated":"2019-10-18T08:05:22.826Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wl000agoooa4ibv41w","content":"<h3 id=\"1-安装启动\"><a href=\"#1-安装启动\" class=\"headerlink\" title=\"1.安装启动\"></a>1.安装启动</h3><p>在GitBash 中操作，输入以下命令，等待安装完成。</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><a id=\"more\"></a>\n\n\n<p>a.安装 hexo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install -g hexo</span><br></pre></td></tr></table></figure>\n\n<p>b.初始化 hexo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure>\n\n<p>注意，其中有一个_config.xml文件，这个我们叫做站点根目录配置文件，里面的初始内容如下：（附上中文介绍）<br>c.配置文件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Hexo Configuration</span><br><span class=\"line\">## Docs: https://hexo.io/docs/configuration.html</span><br><span class=\"line\">## Source: https://github.com/hexojs/hexo/</span><br><span class=\"line\"></span><br><span class=\"line\"># Site 站点主配置</span><br><span class=\"line\">title: Hexo  # 网站标题</span><br><span class=\"line\">subtitle:    # 网站副标题</span><br><span class=\"line\">description:   # 网站描述</span><br><span class=\"line\">keywords:      # 可以不填写保持默认</span><br><span class=\"line\">author: John Doe  # 网站拥有者昵称</span><br><span class=\"line\">language:    # 网站语言设置，一般根据依赖的主题而定</span><br><span class=\"line\">timezone:    # 网站时区设置，一般不填写保持默认</span><br><span class=\"line\"></span><br><span class=\"line\"># URL地址链接设置</span><br><span class=\"line\">url: http://yoursite.com   # 网站url设置</span><br><span class=\"line\">root: /                    # 网站根目录链接</span><br><span class=\"line\">permalink: :year/:month/:day/:title/   # 文章链接，默认是按照 /年/月/日/文章标题 设置的链接</span><br><span class=\"line\">permalink_defaults:                    # 默认链接形式</span><br><span class=\"line\"></span><br><span class=\"line\"># Directory  网站主要目录，这里一般不做改动</span><br><span class=\"line\">source_dir: source</span><br><span class=\"line\">public_dir: public</span><br><span class=\"line\">tag_dir: tags</span><br><span class=\"line\">archive_dir: archives</span><br><span class=\"line\">category_dir: categories</span><br><span class=\"line\">code_dir: downloads/code</span><br><span class=\"line\">i18n_dir: :lang</span><br><span class=\"line\">skip_render:</span><br><span class=\"line\"></span><br><span class=\"line\"># Writing  网站文章设置，同样一般不做改动</span><br><span class=\"line\">new_post_name: :title.md  # File name of new posts</span><br><span class=\"line\">default_layout: post</span><br><span class=\"line\">titlecase: false # Transform title into titlecase</span><br><span class=\"line\">external_link: true # Open external links in new tab</span><br><span class=\"line\">filename_case: 0</span><br><span class=\"line\">render_drafts: false</span><br><span class=\"line\">post_asset_folder: false</span><br><span class=\"line\">relative_link: false</span><br><span class=\"line\">future: true</span><br><span class=\"line\">highlight:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: true</span><br><span class=\"line\">  auto_detect: false</span><br><span class=\"line\">  tab_replace:</span><br><span class=\"line\"></span><br><span class=\"line\"># Home page setting  主页设置，一般不做改动</span><br><span class=\"line\">index_generator:</span><br><span class=\"line\">  path: ''</span><br><span class=\"line\">  per_page: 10</span><br><span class=\"line\">  order_by: -date  # 首页文章排序，默认是按照文章日期递减</span><br><span class=\"line\"></span><br><span class=\"line\"># Category &amp; Tag  分类设置，一般不做改动</span><br><span class=\"line\">default_category: uncategorized</span><br><span class=\"line\">category_map:</span><br><span class=\"line\">tag_map:</span><br><span class=\"line\"></span><br><span class=\"line\"># Date / Time format  日期设置，一般不做改动</span><br><span class=\"line\">date_format: YYYY-MM-DD</span><br><span class=\"line\">time_format: HH:mm:ss</span><br><span class=\"line\"></span><br><span class=\"line\"># Pagination  导航页设置，一般不做改动</span><br><span class=\"line\">per_page: 10   # 设置每页展示多少文章</span><br><span class=\"line\">pagination_dir: page</span><br><span class=\"line\"></span><br><span class=\"line\"># Extensions  使用的主题名称，可以在这里切换</span><br><span class=\"line\">theme: next  # 此处切换主题名称</span><br><span class=\"line\"></span><br><span class=\"line\"># Deployment  部署，一般选择部署到Github上</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  type:</span><br></pre></td></tr></table></figure>\n\n<p>其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//cd到根目录执行</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo g</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo s</span><br></pre></td></tr></table></figure>\n\n<p>然后我们打开浏览器，输入<a href=\"http://localhost:4000\" target=\"_blank\" rel=\"noopener\">http://localhost:4000</a>;</p>\n\n\n<p>d.创建文章</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new \"我的第一篇博客\"</span><br><span class=\"line\"></span><br><span class=\"line\">//或者可以简写为</span><br><span class=\"line\"></span><br><span class=\"line\">hexo n \"我的第一篇博客\"</span><br></pre></td></tr></table></figure>\n\n<p>e.创建文件夹</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n [我的第一篇博客] 我的第一篇博客</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-上传到github\"><a href=\"#2-上传到github\" class=\"headerlink\" title=\"2.上传到github\"></a>2.上传到github</h3><p>a.配置站点配置文件<br>1.打开根目录下站点配置文件_config.yml，配置有关deploy的部分：<br><img src=\"/images/20191012104426.png\" alt><br>b.安装插件<br>此时，直接使用hexo d部署到github，将出现如下错误：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> hexo deploy</span><br><span class=\"line\">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>\n\n<p>这是因为需要安装如下插件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git  --save</span><br></pre></td></tr></table></figure>\n\n<p>c.部署到github</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-关于-标签-分类-归档\"><a href=\"#3-关于-标签-分类-归档\" class=\"headerlink\" title=\"3.关于 标签 分类 归档\"></a>3.关于 标签 分类 归档</h3><p>1.主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menu:</span><br><span class=\"line\">  home: <span class=\"regexp\">/      /</span><span class=\"regexp\">/主页</span></span><br><span class=\"line\"><span class=\"regexp\">  categories: /</span>categories <span class=\"comment\">//分类</span></span><br><span class=\"line\">  archives: <span class=\"regexp\">/archives   /</span><span class=\"regexp\">/归档</span></span><br><span class=\"line\"><span class=\"regexp\">  tags: /</span>tags   <span class=\"comment\">//标签</span></span><br><span class=\"line\">  about: <span class=\"regexp\">/about   /</span><span class=\"regexp\">/关于                  （添加此行即可）</span></span><br></pre></td></tr></table></figure>\n\n<p>编辑 about 关于页面 md文件 部署就能看到</p>\n<p>2：添加 标签页面<br>使用： hexo new page tags 新建一个 标签 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配<br>底下代码是一篇包含 标签 文章的例子</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 标签测试</span><br><span class=\"line\">tags:</span><br><span class=\"line\">  - Testing                   （这个就是文章的标签了）</span><br><span class=\"line\">  - Another Tag               （这个就是文章的标签了）</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n\n<p>3：添加 分类页面<br>使用： hexo new page categories 新建一个 分类 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 分类测试</span><br><span class=\"line\">categories:</span><br><span class=\"line\">- hexo                       （这个就是文章的分类了）</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n\n<p>5：添加 自定义页面<br>使用： hexo new page “guestbook” 新建一个 自定义 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menu:</span><br><span class=\"line\">  home: <span class=\"regexp\">/      /</span><span class=\"regexp\">/主页</span></span><br><span class=\"line\"><span class=\"regexp\">  categories: /</span>categories <span class=\"comment\">//分类</span></span><br><span class=\"line\">  archives: <span class=\"regexp\">/archives   /</span><span class=\"regexp\">/归档</span></span><br><span class=\"line\"><span class=\"regexp\">  tags: /</span>tags   <span class=\"comment\">//标签</span></span><br><span class=\"line\">  about: <span class=\"regexp\">/about   /</span><span class=\"regexp\">/关于</span></span><br><span class=\"line\"><span class=\"regexp\">  guestbook: /gu</span>estbook    <span class=\"comment\">//自定义             （添加此行即可）</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"1-安装启动\"><a href=\"#1-安装启动\" class=\"headerlink\" title=\"1.安装启动\"></a>1.安装启动</h3><p>在GitBash 中操作，输入以下命令，等待安装完成。</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>","more":"\n\n\n<p>a.安装 hexo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cnpm install -g hexo</span><br></pre></td></tr></table></figure>\n\n<p>b.初始化 hexo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure>\n\n<p>注意，其中有一个_config.xml文件，这个我们叫做站点根目录配置文件，里面的初始内容如下：（附上中文介绍）<br>c.配置文件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Hexo Configuration</span><br><span class=\"line\">## Docs: https://hexo.io/docs/configuration.html</span><br><span class=\"line\">## Source: https://github.com/hexojs/hexo/</span><br><span class=\"line\"></span><br><span class=\"line\"># Site 站点主配置</span><br><span class=\"line\">title: Hexo  # 网站标题</span><br><span class=\"line\">subtitle:    # 网站副标题</span><br><span class=\"line\">description:   # 网站描述</span><br><span class=\"line\">keywords:      # 可以不填写保持默认</span><br><span class=\"line\">author: John Doe  # 网站拥有者昵称</span><br><span class=\"line\">language:    # 网站语言设置，一般根据依赖的主题而定</span><br><span class=\"line\">timezone:    # 网站时区设置，一般不填写保持默认</span><br><span class=\"line\"></span><br><span class=\"line\"># URL地址链接设置</span><br><span class=\"line\">url: http://yoursite.com   # 网站url设置</span><br><span class=\"line\">root: /                    # 网站根目录链接</span><br><span class=\"line\">permalink: :year/:month/:day/:title/   # 文章链接，默认是按照 /年/月/日/文章标题 设置的链接</span><br><span class=\"line\">permalink_defaults:                    # 默认链接形式</span><br><span class=\"line\"></span><br><span class=\"line\"># Directory  网站主要目录，这里一般不做改动</span><br><span class=\"line\">source_dir: source</span><br><span class=\"line\">public_dir: public</span><br><span class=\"line\">tag_dir: tags</span><br><span class=\"line\">archive_dir: archives</span><br><span class=\"line\">category_dir: categories</span><br><span class=\"line\">code_dir: downloads/code</span><br><span class=\"line\">i18n_dir: :lang</span><br><span class=\"line\">skip_render:</span><br><span class=\"line\"></span><br><span class=\"line\"># Writing  网站文章设置，同样一般不做改动</span><br><span class=\"line\">new_post_name: :title.md  # File name of new posts</span><br><span class=\"line\">default_layout: post</span><br><span class=\"line\">titlecase: false # Transform title into titlecase</span><br><span class=\"line\">external_link: true # Open external links in new tab</span><br><span class=\"line\">filename_case: 0</span><br><span class=\"line\">render_drafts: false</span><br><span class=\"line\">post_asset_folder: false</span><br><span class=\"line\">relative_link: false</span><br><span class=\"line\">future: true</span><br><span class=\"line\">highlight:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: true</span><br><span class=\"line\">  auto_detect: false</span><br><span class=\"line\">  tab_replace:</span><br><span class=\"line\"></span><br><span class=\"line\"># Home page setting  主页设置，一般不做改动</span><br><span class=\"line\">index_generator:</span><br><span class=\"line\">  path: ''</span><br><span class=\"line\">  per_page: 10</span><br><span class=\"line\">  order_by: -date  # 首页文章排序，默认是按照文章日期递减</span><br><span class=\"line\"></span><br><span class=\"line\"># Category &amp; Tag  分类设置，一般不做改动</span><br><span class=\"line\">default_category: uncategorized</span><br><span class=\"line\">category_map:</span><br><span class=\"line\">tag_map:</span><br><span class=\"line\"></span><br><span class=\"line\"># Date / Time format  日期设置，一般不做改动</span><br><span class=\"line\">date_format: YYYY-MM-DD</span><br><span class=\"line\">time_format: HH:mm:ss</span><br><span class=\"line\"></span><br><span class=\"line\"># Pagination  导航页设置，一般不做改动</span><br><span class=\"line\">per_page: 10   # 设置每页展示多少文章</span><br><span class=\"line\">pagination_dir: page</span><br><span class=\"line\"></span><br><span class=\"line\"># Extensions  使用的主题名称，可以在这里切换</span><br><span class=\"line\">theme: next  # 此处切换主题名称</span><br><span class=\"line\"></span><br><span class=\"line\"># Deployment  部署，一般选择部署到Github上</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  type:</span><br></pre></td></tr></table></figure>\n\n<p>其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//cd到根目录执行</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo g</span><br><span class=\"line\"><span class=\"meta\">$</span> hexo s</span><br></pre></td></tr></table></figure>\n\n<p>然后我们打开浏览器，输入<a href=\"http://localhost:4000\" target=\"_blank\" rel=\"noopener\">http://localhost:4000</a>;</p>\n\n\n<p>d.创建文章</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new \"我的第一篇博客\"</span><br><span class=\"line\"></span><br><span class=\"line\">//或者可以简写为</span><br><span class=\"line\"></span><br><span class=\"line\">hexo n \"我的第一篇博客\"</span><br></pre></td></tr></table></figure>\n\n<p>e.创建文件夹</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n [我的第一篇博客] 我的第一篇博客</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-上传到github\"><a href=\"#2-上传到github\" class=\"headerlink\" title=\"2.上传到github\"></a>2.上传到github</h3><p>a.配置站点配置文件<br>1.打开根目录下站点配置文件_config.yml，配置有关deploy的部分：<br><img src=\"/images/20191012104426.png\" alt><br>b.安装插件<br>此时，直接使用hexo d部署到github，将出现如下错误：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span> hexo deploy</span><br><span class=\"line\">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>\n\n<p>这是因为需要安装如下插件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git  --save</span><br></pre></td></tr></table></figure>\n\n<p>c.部署到github</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-关于-标签-分类-归档\"><a href=\"#3-关于-标签-分类-归档\" class=\"headerlink\" title=\"3.关于 标签 分类 归档\"></a>3.关于 标签 分类 归档</h3><p>1.主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menu:</span><br><span class=\"line\">  home: <span class=\"regexp\">/      /</span><span class=\"regexp\">/主页</span></span><br><span class=\"line\"><span class=\"regexp\">  categories: /</span>categories <span class=\"comment\">//分类</span></span><br><span class=\"line\">  archives: <span class=\"regexp\">/archives   /</span><span class=\"regexp\">/归档</span></span><br><span class=\"line\"><span class=\"regexp\">  tags: /</span>tags   <span class=\"comment\">//标签</span></span><br><span class=\"line\">  about: <span class=\"regexp\">/about   /</span><span class=\"regexp\">/关于                  （添加此行即可）</span></span><br></pre></td></tr></table></figure>\n\n<p>编辑 about 关于页面 md文件 部署就能看到</p>\n<p>2：添加 标签页面<br>使用： hexo new page tags 新建一个 标签 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配<br>底下代码是一篇包含 标签 文章的例子</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 标签测试</span><br><span class=\"line\">tags:</span><br><span class=\"line\">  - Testing                   （这个就是文章的标签了）</span><br><span class=\"line\">  - Another Tag               （这个就是文章的标签了）</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n\n<p>3：添加 分类页面<br>使用： hexo new page categories 新建一个 分类 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 分类测试</span><br><span class=\"line\">categories:</span><br><span class=\"line\">- hexo                       （这个就是文章的分类了）</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n\n<p>5：添加 自定义页面<br>使用： hexo new page “guestbook” 新建一个 自定义 页面。<br>主题的 _config.yml 文件中的 menu 中进行匹配</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menu:</span><br><span class=\"line\">  home: <span class=\"regexp\">/      /</span><span class=\"regexp\">/主页</span></span><br><span class=\"line\"><span class=\"regexp\">  categories: /</span>categories <span class=\"comment\">//分类</span></span><br><span class=\"line\">  archives: <span class=\"regexp\">/archives   /</span><span class=\"regexp\">/归档</span></span><br><span class=\"line\"><span class=\"regexp\">  tags: /</span>tags   <span class=\"comment\">//标签</span></span><br><span class=\"line\">  about: <span class=\"regexp\">/about   /</span><span class=\"regexp\">/关于</span></span><br><span class=\"line\"><span class=\"regexp\">  guestbook: /gu</span>estbook    <span class=\"comment\">//自定义             （添加此行即可）</span></span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/20191012104426.png","popularPost_tmp_gaData":{"updated":"Fri Oct 18 2019 16:05:22 GMT+0800 (GMT+08:00)","title":"使用hexo+github搭建免费个人博客","path":"2019/10/12/hexo/使用hexo-github搭建免费个人博客/","eyeCatchImage":"/images/20191012104426.png","excerpt":null,"date":"2019-10-12T02:43:32.000Z","pv":0,"totalPV":0,"categories":"Hexo","tags":[],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"Centos7.4安装镜像源和repo源","author":"Tutu","date":"2019-10-14T01:48:34.000Z","_content":"### 一、国内可选下载镜像源\n#### 1、国内\n163镜像源（推荐选择）\nhttp://mirrors.163.com/\n中国技术科学大学\nhttp://mirrors.ustc.edu.cn/\nCentos官方站点\nhttp://vault.centos.org/\n#### 2、Centos7.4下载地址\nhttp://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso\n### 二、配置Centos7.4的yum源\n#### yum所需要使用的repo源如下：\n在安装好的操作系统中，执行如下命令：\nvim /etc/yum.repos.d/CentOS-163.repo\n```shell\n# geographically close to the client.  You should use this for CentOS updates\n# unless you are manually picking other mirrors.\n#\n# If the mirrorlist= does not work for you, as a fall back you can try the\n# remarked out baseurl= line instead.\n#\n# Jeson@imoocc.com\n[base]\nname=CentOS-$releasever - Base - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os\nbaseurl=http://mirrors.163.com/centos/$releasever/os/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#released updates\n[updates]\nname=CentOS-$releasever - Updates - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=updates\nbaseurl=http://mirrors.163.com/centos/$releasever/updates/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#additional packages that may be useful\n[extras]\nname=CentOS-$releasever - Extras - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=extras\nbaseurl=http://mirrors.163.com/centos/$releasever/extras/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#additional packages that extend functionality of existing packages\n[centosplus]\nname=CentOS-$releasever - Plus - 163.com\nbaseurl=http://mirrors.163.com/centos/$releasever/centosplus/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n```","source":"_posts/linux/Centos7.4安装镜像源和repo源.md","raw":"title: Centos7.4安装镜像源和repo源\nauthor: Tutu\ndate: 2019-10-14 09:48:34\ntags:\n---\n### 一、国内可选下载镜像源\n#### 1、国内\n163镜像源（推荐选择）\nhttp://mirrors.163.com/\n中国技术科学大学\nhttp://mirrors.ustc.edu.cn/\nCentos官方站点\nhttp://vault.centos.org/\n#### 2、Centos7.4下载地址\nhttp://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso\n### 二、配置Centos7.4的yum源\n#### yum所需要使用的repo源如下：\n在安装好的操作系统中，执行如下命令：\nvim /etc/yum.repos.d/CentOS-163.repo\n```shell\n# geographically close to the client.  You should use this for CentOS updates\n# unless you are manually picking other mirrors.\n#\n# If the mirrorlist= does not work for you, as a fall back you can try the\n# remarked out baseurl= line instead.\n#\n# Jeson@imoocc.com\n[base]\nname=CentOS-$releasever - Base - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os\nbaseurl=http://mirrors.163.com/centos/$releasever/os/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#released updates\n[updates]\nname=CentOS-$releasever - Updates - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=updates\nbaseurl=http://mirrors.163.com/centos/$releasever/updates/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#additional packages that may be useful\n[extras]\nname=CentOS-$releasever - Extras - 163.com\n#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=extras\nbaseurl=http://mirrors.163.com/centos/$releasever/extras/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n\n#additional packages that extend functionality of existing packages\n[centosplus]\nname=CentOS-$releasever - Plus - 163.com\nbaseurl=http://mirrors.163.com/centos/$releasever/centosplus/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n```","slug":"linux/Centos7.4安装镜像源和repo源","published":1,"updated":"2019-10-22T08:00:53.382Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wm000bgoool8byx8vi","content":"<h3 id=\"一、国内可选下载镜像源\"><a href=\"#一、国内可选下载镜像源\" class=\"headerlink\" title=\"一、国内可选下载镜像源\"></a>一、国内可选下载镜像源</h3><h4 id=\"1、国内\"><a href=\"#1、国内\" class=\"headerlink\" title=\"1、国内\"></a>1、国内</h4><p>163镜像源（推荐选择）<br><a href=\"http://mirrors.163.com/\" target=\"_blank\" rel=\"noopener\">http://mirrors.163.com/</a><br>中国技术科学大学<br><a href=\"http://mirrors.ustc.edu.cn/\" target=\"_blank\" rel=\"noopener\">http://mirrors.ustc.edu.cn/</a><br>Centos官方站点<br><a href=\"http://vault.centos.org/\" target=\"_blank\" rel=\"noopener\">http://vault.centos.org/</a></p><a id=\"more\"></a>\n<h4 id=\"2、Centos7-4下载地址\"><a href=\"#2、Centos7-4下载地址\" class=\"headerlink\" title=\"2、Centos7.4下载地址\"></a>2、Centos7.4下载地址</h4><p><a href=\"http://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso\" target=\"_blank\" rel=\"noopener\">http://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso</a></p>\n<h3 id=\"二、配置Centos7-4的yum源\"><a href=\"#二、配置Centos7-4的yum源\" class=\"headerlink\" title=\"二、配置Centos7.4的yum源\"></a>二、配置Centos7.4的yum源</h3><h4 id=\"yum所需要使用的repo源如下：\"><a href=\"#yum所需要使用的repo源如下：\" class=\"headerlink\" title=\"yum所需要使用的repo源如下：\"></a>yum所需要使用的repo源如下：</h4><p>在安装好的操作系统中，执行如下命令：<br>vim /etc/yum.repos.d/CentOS-163.repo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> geographically close to the client.  You should use this for CentOS updates</span><br><span class=\"line\"><span class=\"meta\">#</span> unless you are manually picking other mirrors.</span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"meta\">#</span> If the mirrorlist= does not work for you, as a fall back you can try the</span><br><span class=\"line\"><span class=\"meta\">#</span> remarked out baseurl= line instead.</span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"meta\">#</span> Jeson@imoocc.com</span><br><span class=\"line\">[base]</span><br><span class=\"line\">name=CentOS-$releasever - Base - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/os/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>released updates</span><br><span class=\"line\">[updates]</span><br><span class=\"line\">name=CentOS-$releasever - Updates - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/updates/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>additional packages that may be useful</span><br><span class=\"line\">[extras]</span><br><span class=\"line\">name=CentOS-$releasever - Extras - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/extras/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>additional packages that extend functionality of existing packages</span><br><span class=\"line\">[centosplus]</span><br><span class=\"line\">name=CentOS-$releasever - Plus - 163.com</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/centosplus/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">enabled=0</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"一、国内可选下载镜像源\"><a href=\"#一、国内可选下载镜像源\" class=\"headerlink\" title=\"一、国内可选下载镜像源\"></a>一、国内可选下载镜像源</h3><h4 id=\"1、国内\"><a href=\"#1、国内\" class=\"headerlink\" title=\"1、国内\"></a>1、国内</h4><p>163镜像源（推荐选择）<br><a href=\"http://mirrors.163.com/\" target=\"_blank\" rel=\"noopener\">http://mirrors.163.com/</a><br>中国技术科学大学<br><a href=\"http://mirrors.ustc.edu.cn/\" target=\"_blank\" rel=\"noopener\">http://mirrors.ustc.edu.cn/</a><br>Centos官方站点<br><a href=\"http://vault.centos.org/\" target=\"_blank\" rel=\"noopener\">http://vault.centos.org/</a></p>","more":"\n<h4 id=\"2、Centos7-4下载地址\"><a href=\"#2、Centos7-4下载地址\" class=\"headerlink\" title=\"2、Centos7.4下载地址\"></a>2、Centos7.4下载地址</h4><p><a href=\"http://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso\" target=\"_blank\" rel=\"noopener\">http://mirrors.163.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso</a></p>\n<h3 id=\"二、配置Centos7-4的yum源\"><a href=\"#二、配置Centos7-4的yum源\" class=\"headerlink\" title=\"二、配置Centos7.4的yum源\"></a>二、配置Centos7.4的yum源</h3><h4 id=\"yum所需要使用的repo源如下：\"><a href=\"#yum所需要使用的repo源如下：\" class=\"headerlink\" title=\"yum所需要使用的repo源如下：\"></a>yum所需要使用的repo源如下：</h4><p>在安装好的操作系统中，执行如下命令：<br>vim /etc/yum.repos.d/CentOS-163.repo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> geographically close to the client.  You should use this for CentOS updates</span><br><span class=\"line\"><span class=\"meta\">#</span> unless you are manually picking other mirrors.</span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"meta\">#</span> If the mirrorlist= does not work for you, as a fall back you can try the</span><br><span class=\"line\"><span class=\"meta\">#</span> remarked out baseurl= line instead.</span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"meta\">#</span> Jeson@imoocc.com</span><br><span class=\"line\">[base]</span><br><span class=\"line\">name=CentOS-$releasever - Base - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/os/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>released updates</span><br><span class=\"line\">[updates]</span><br><span class=\"line\">name=CentOS-$releasever - Updates - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/updates/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>additional packages that may be useful</span><br><span class=\"line\">[extras]</span><br><span class=\"line\">name=CentOS-$releasever - Extras - 163.com</span><br><span class=\"line\"><span class=\"meta\">#</span>mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/extras/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span>additional packages that extend functionality of existing packages</span><br><span class=\"line\">[centosplus]</span><br><span class=\"line\">name=CentOS-$releasever - Plus - 163.com</span><br><span class=\"line\">baseurl=http://mirrors.163.com/centos/$releasever/centosplus/$basearch/</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">enabled=0</span><br><span class=\"line\">gpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7</span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 16:00:53 GMT+0800 (GMT+08:00)","title":"Centos7.4安装镜像源和repo源","path":"2019/10/14/linux/Centos7.4安装镜像源和repo源/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T01:48:34.000Z","pv":0,"totalPV":0,"categories":"","tags":[],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"Centos下部署Nginx前端项目","author":"Tutu","category":["Linux"],"date":"2019-10-12T06:50:00.000Z","_content":"### 一、下载\ncentos7 直接只用\n```\nyum install -y nginx\n```\n### 二、使用\n找到nginx安装位置，我的安装位置在/etc/nginx\n![](/images/pasted-2.png)\n其中配置文件（nginx.config），我们可以指定端口 代理配置内容\n\n### 三、 启动\nCentOS 7.5下启动 Nginx 出现如下错误：\n```shell\nnginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)\n```\n解决方法：找到你的nginx.conf的文件夹目录，然后运行类似如下命令\n\n### 四、代理\n代理截图\n\n![](/images/pasted-1.png)\n```shell\nnginx -c etc/nginx/nginx.conf\n```\n再运行\n```shell\nnginx -s reload\n```\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf6091d086ffc4?w=549&h=594&f=png&s=39516)\n\nserver下是配置内容 listen是具体的代理端口\nserver_name 是本地访问的端口这里项目启动的方式决定了我们代理的端口我们使用ip访问就需要配置一下这里的地址\nlocation /api 就是指对应的前端访问的代理\n例如\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf60700837f339?w=782&h=269&f=png&s=27147)\n我们访问的地址是 http://192.168.8.88/api/ 就会被代理到 http://sj.com/api\n\n当然代理也可以配置多个如下：\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf610242204d16?w=640&h=611&f=png&s=39254)\n### 五、nginx 常用命令\n|||\n| -- | - |\n|nginx -s stop  |   快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。|\n|nginx -s quit  |   平稳关闭Nginx，保存相关信息，有安排的结束web服务。|\n|nginx -s reload |   因改变了Nginx相关配置，需要重新加载配置而重载。|\n|nginx -s reopen |   重新打开日志文件。|\n|nginx -c filename |  为 Nginx 指定一个配置文件，来代替缺省的。|\n|nginx -t | 不运行，而仅仅测试配置文件。nginx将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。|\n|nginx -v        |    显示 nginx 的版本。|\n|nginx -V        |   显示 nginx 的版本，编译器版本和配置参数。|","source":"_posts/linux/Centos下部署Nginx前端项目.md","raw":"title: Centos下部署Nginx前端项目\nauthor: Tutu\ntags:\n  - Centos\n  - Linux\ncategory:\n  - Linux\ncategories:\n  - Linux\ndate: 2019-10-12 14:50:00\n---\n### 一、下载\ncentos7 直接只用\n```\nyum install -y nginx\n```\n### 二、使用\n找到nginx安装位置，我的安装位置在/etc/nginx\n![](/images/pasted-2.png)\n其中配置文件（nginx.config），我们可以指定端口 代理配置内容\n\n### 三、 启动\nCentOS 7.5下启动 Nginx 出现如下错误：\n```shell\nnginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)\n```\n解决方法：找到你的nginx.conf的文件夹目录，然后运行类似如下命令\n\n### 四、代理\n代理截图\n\n![](/images/pasted-1.png)\n```shell\nnginx -c etc/nginx/nginx.conf\n```\n再运行\n```shell\nnginx -s reload\n```\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf6091d086ffc4?w=549&h=594&f=png&s=39516)\n\nserver下是配置内容 listen是具体的代理端口\nserver_name 是本地访问的端口这里项目启动的方式决定了我们代理的端口我们使用ip访问就需要配置一下这里的地址\nlocation /api 就是指对应的前端访问的代理\n例如\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf60700837f339?w=782&h=269&f=png&s=27147)\n我们访问的地址是 http://192.168.8.88/api/ 就会被代理到 http://sj.com/api\n\n当然代理也可以配置多个如下：\n\n![](https://user-gold-cdn.xitu.io/2019/9/3/16cf610242204d16?w=640&h=611&f=png&s=39254)\n### 五、nginx 常用命令\n|||\n| -- | - |\n|nginx -s stop  |   快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。|\n|nginx -s quit  |   平稳关闭Nginx，保存相关信息，有安排的结束web服务。|\n|nginx -s reload |   因改变了Nginx相关配置，需要重新加载配置而重载。|\n|nginx -s reopen |   重新打开日志文件。|\n|nginx -c filename |  为 Nginx 指定一个配置文件，来代替缺省的。|\n|nginx -t | 不运行，而仅仅测试配置文件。nginx将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。|\n|nginx -v        |    显示 nginx 的版本。|\n|nginx -V        |   显示 nginx 的版本，编译器版本和配置参数。|","slug":"linux/Centos下部署Nginx前端项目","published":1,"updated":"2019-10-17T09:15:41.141Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wp000fgooonxo3v9bw","content":"<h3 id=\"一、下载\"><a href=\"#一、下载\" class=\"headerlink\" title=\"一、下载\"></a>一、下载</h3><p>centos7 直接只用</p><figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum <span class=\"keyword\">install</span> -y nginx</span><br></pre></td></tr></table></figure><h3 id=\"二、使用\"><a href=\"#二、使用\" class=\"headerlink\" title=\"二、使用\"></a>二、使用</h3><p>找到nginx安装位置，我的安装位置在/etc/nginx<br><img src=\"/images/pasted-2.png\" alt><br>其中配置文件（nginx.config），我们可以指定端口 代理配置内容</p><a id=\"more\"></a>\n\n\n\n<h3 id=\"三、-启动\"><a href=\"#三、-启动\" class=\"headerlink\" title=\"三、 启动\"></a>三、 启动</h3><p>CentOS 7.5下启动 Nginx 出现如下错误：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)</span><br></pre></td></tr></table></figure>\n\n<p>解决方法：找到你的nginx.conf的文件夹目录，然后运行类似如下命令</p>\n<h3 id=\"四、代理\"><a href=\"#四、代理\" class=\"headerlink\" title=\"四、代理\"></a>四、代理</h3><p>代理截图</p>\n<p><img src=\"/images/pasted-1.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -c etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>\n\n<p>再运行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf6091d086ffc4?w=549&h=594&f=png&s=39516\" alt></p>\n<p>server下是配置内容 listen是具体的代理端口<br>server_name 是本地访问的端口这里项目启动的方式决定了我们代理的端口我们使用ip访问就需要配置一下这里的地址<br>location /api 就是指对应的前端访问的代理<br>例如</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf60700837f339?w=782&h=269&f=png&s=27147\" alt><br>我们访问的地址是 <a href=\"http://192.168.8.88/api/\" target=\"_blank\" rel=\"noopener\">http://192.168.8.88/api/</a> 就会被代理到 <a href=\"http://sj.com/api\" target=\"_blank\" rel=\"noopener\">http://sj.com/api</a></p>\n<p>当然代理也可以配置多个如下：</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf610242204d16?w=640&h=611&f=png&s=39254\" alt></p>\n<h3 id=\"五、nginx-常用命令\"><a href=\"#五、nginx-常用命令\" class=\"headerlink\" title=\"五、nginx 常用命令\"></a>五、nginx 常用命令</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>nginx -s stop</td>\n<td>快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。</td>\n</tr>\n<tr>\n<td>nginx -s quit</td>\n<td>平稳关闭Nginx，保存相关信息，有安排的结束web服务。</td>\n</tr>\n<tr>\n<td>nginx -s reload</td>\n<td>因改变了Nginx相关配置，需要重新加载配置而重载。</td>\n</tr>\n<tr>\n<td>nginx -s reopen</td>\n<td>重新打开日志文件。</td>\n</tr>\n<tr>\n<td>nginx -c filename</td>\n<td>为 Nginx 指定一个配置文件，来代替缺省的。</td>\n</tr>\n<tr>\n<td>nginx -t</td>\n<td>不运行，而仅仅测试配置文件。nginx将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。</td>\n</tr>\n<tr>\n<td>nginx -v</td>\n<td>显示 nginx 的版本。</td>\n</tr>\n<tr>\n<td>nginx -V</td>\n<td>显示 nginx 的版本，编译器版本和配置参数。</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<h3 id=\"一、下载\"><a href=\"#一、下载\" class=\"headerlink\" title=\"一、下载\"></a>一、下载</h3><p>centos7 直接只用</p><figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum <span class=\"keyword\">install</span> -y nginx</span><br></pre></td></tr></table></figure><h3 id=\"二、使用\"><a href=\"#二、使用\" class=\"headerlink\" title=\"二、使用\"></a>二、使用</h3><p>找到nginx安装位置，我的安装位置在/etc/nginx<br><img src=\"/images/pasted-2.png\" alt><br>其中配置文件（nginx.config），我们可以指定端口 代理配置内容</p>","more":"\n\n\n\n<h3 id=\"三、-启动\"><a href=\"#三、-启动\" class=\"headerlink\" title=\"三、 启动\"></a>三、 启动</h3><p>CentOS 7.5下启动 Nginx 出现如下错误：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)</span><br></pre></td></tr></table></figure>\n\n<p>解决方法：找到你的nginx.conf的文件夹目录，然后运行类似如下命令</p>\n<h3 id=\"四、代理\"><a href=\"#四、代理\" class=\"headerlink\" title=\"四、代理\"></a>四、代理</h3><p>代理截图</p>\n<p><img src=\"/images/pasted-1.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -c etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>\n\n<p>再运行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf6091d086ffc4?w=549&h=594&f=png&s=39516\" alt></p>\n<p>server下是配置内容 listen是具体的代理端口<br>server_name 是本地访问的端口这里项目启动的方式决定了我们代理的端口我们使用ip访问就需要配置一下这里的地址<br>location /api 就是指对应的前端访问的代理<br>例如</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf60700837f339?w=782&h=269&f=png&s=27147\" alt><br>我们访问的地址是 <a href=\"http://192.168.8.88/api/\" target=\"_blank\" rel=\"noopener\">http://192.168.8.88/api/</a> 就会被代理到 <a href=\"http://sj.com/api\" target=\"_blank\" rel=\"noopener\">http://sj.com/api</a></p>\n<p>当然代理也可以配置多个如下：</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/3/16cf610242204d16?w=640&h=611&f=png&s=39254\" alt></p>\n<h3 id=\"五、nginx-常用命令\"><a href=\"#五、nginx-常用命令\" class=\"headerlink\" title=\"五、nginx 常用命令\"></a>五、nginx 常用命令</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>nginx -s stop</td>\n<td>快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。</td>\n</tr>\n<tr>\n<td>nginx -s quit</td>\n<td>平稳关闭Nginx，保存相关信息，有安排的结束web服务。</td>\n</tr>\n<tr>\n<td>nginx -s reload</td>\n<td>因改变了Nginx相关配置，需要重新加载配置而重载。</td>\n</tr>\n<tr>\n<td>nginx -s reopen</td>\n<td>重新打开日志文件。</td>\n</tr>\n<tr>\n<td>nginx -c filename</td>\n<td>为 Nginx 指定一个配置文件，来代替缺省的。</td>\n</tr>\n<tr>\n<td>nginx -t</td>\n<td>不运行，而仅仅测试配置文件。nginx将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。</td>\n</tr>\n<tr>\n<td>nginx -v</td>\n<td>显示 nginx 的版本。</td>\n</tr>\n<tr>\n<td>nginx -V</td>\n<td>显示 nginx 的版本，编译器版本和配置参数。</td>\n</tr>\n</tbody></table>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/pasted-2.png","popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 17:15:41 GMT+0800 (GMT+08:00)","title":"Centos下部署Nginx前端项目","path":"2019/10/12/linux/Centos下部署Nginx前端项目/","eyeCatchImage":"/images/pasted-2.png","excerpt":null,"date":"2019-10-12T06:50:00.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Centos","Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"VMWare 下安装Centos网络设置（局域网配置）","author":"Tutu","date":"2019-10-14T01:46:57.000Z","_content":"**最近打算为centos安装一个界面时，发现不能上网。ping www.baidu.com 报name or service not known。\n原来网络配置没设好。**\n## 一、选择VMWare的NAT模式。\n1）导航栏“编辑”->“虚拟网络编辑器” ->NAT模式->NAT设置\n![](/images/1571319042.jpg)\n\n>记住NAT设置中的子网IP、子网掩码、网关IP三项，接下来配置文件主要是这三项。\n 嗯，这里记得按确定，我之前没有按确定写好配置后还是不行，不知道为什么。\n\n 2）编辑网络配置文件。\n    我的是ens33，不同的人或许会有不同。\n\n```shell\nvi /etc/sysconfig/network-scripts/ifcfg-ens33\n```\n我的是这样的。\n\n![upload successful](/images/pasted-3.png)\n\n打开配置文件后，按“i”进行编辑\n\n![upload successful](/images/pasted-4.png)\n\n更改完后，按“ESC”键，然后输入\":wq\"。意思是退出并保存。\n\n```shell\nservice network restart\n```\n接下来就可以愉快的 ping www.baidu.com\n![upload successful](/images/pasted-5.png)\n\n3)附文件代码\n```shell\nTYPE=Ethernet\nBOOTPROTO=static  #启用静态IP地址\nDEFROUTE=yes\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_PEERDNS=yes\nIPV6_PEERROUTES=yes\nIPV6_FAILURE_FATAL=no\nNAME=eno16777736\nUUID=ae0965e7-22b9-45aa-8ec9-3f0a20a85d11\nONBOOT=yes  #开启自动启用网络连接\nIPADDR=192.168.8.88  #设置IP地址\nNETMASK=255.255.255.0  #设置子网掩码\nGATEWAY=192.168.8.254  #设置网关\nDNS1=192.168.1.2 #设置主DNS\nDNS2=192.168.1.3 #设置备DNS\n```","source":"_posts/linux/VMWare 下安装Centos网络设置（局域网配置）.md","raw":"title: VMWare 下安装Centos网络设置（局域网配置）\nauthor: Tutu\ntags:\n  - vm\ncategory:\n  - Centos\ndate: 2019-10-14 09:46:57\n---\n**最近打算为centos安装一个界面时，发现不能上网。ping www.baidu.com 报name or service not known。\n原来网络配置没设好。**\n## 一、选择VMWare的NAT模式。\n1）导航栏“编辑”->“虚拟网络编辑器” ->NAT模式->NAT设置\n![](/images/1571319042.jpg)\n\n>记住NAT设置中的子网IP、子网掩码、网关IP三项，接下来配置文件主要是这三项。\n 嗯，这里记得按确定，我之前没有按确定写好配置后还是不行，不知道为什么。\n\n 2）编辑网络配置文件。\n    我的是ens33，不同的人或许会有不同。\n\n```shell\nvi /etc/sysconfig/network-scripts/ifcfg-ens33\n```\n我的是这样的。\n\n![upload successful](/images/pasted-3.png)\n\n打开配置文件后，按“i”进行编辑\n\n![upload successful](/images/pasted-4.png)\n\n更改完后，按“ESC”键，然后输入\":wq\"。意思是退出并保存。\n\n```shell\nservice network restart\n```\n接下来就可以愉快的 ping www.baidu.com\n![upload successful](/images/pasted-5.png)\n\n3)附文件代码\n```shell\nTYPE=Ethernet\nBOOTPROTO=static  #启用静态IP地址\nDEFROUTE=yes\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_PEERDNS=yes\nIPV6_PEERROUTES=yes\nIPV6_FAILURE_FATAL=no\nNAME=eno16777736\nUUID=ae0965e7-22b9-45aa-8ec9-3f0a20a85d11\nONBOOT=yes  #开启自动启用网络连接\nIPADDR=192.168.8.88  #设置IP地址\nNETMASK=255.255.255.0  #设置子网掩码\nGATEWAY=192.168.8.254  #设置网关\nDNS1=192.168.1.2 #设置主DNS\nDNS2=192.168.1.3 #设置备DNS\n```","slug":"linux/VMWare 下安装Centos网络设置（局域网配置）","published":1,"updated":"2019-10-18T08:05:22.858Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wq000ggoooi81o5wfs","content":"<p><strong>最近打算为centos安装一个界面时，发现不能上网。ping <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a> 报name or service not known。<br>原来网络配置没设好。</strong></p><a id=\"more\"></a>\n<h2 id=\"一、选择VMWare的NAT模式。\"><a href=\"#一、选择VMWare的NAT模式。\" class=\"headerlink\" title=\"一、选择VMWare的NAT模式。\"></a>一、选择VMWare的NAT模式。</h2><p>1）导航栏“编辑”-&gt;“虚拟网络编辑器” -&gt;NAT模式-&gt;NAT设置<br><img src=\"/images/1571319042.jpg\" alt></p>\n<blockquote>\n<p>记住NAT设置中的子网IP、子网掩码、网关IP三项，接下来配置文件主要是这三项。<br> 嗯，这里记得按确定，我之前没有按确定写好配置后还是不行，不知道为什么。</p>\n</blockquote>\n<p> 2）编辑网络配置文件。<br>    我的是ens33，不同的人或许会有不同。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/sysconfig/network-scripts/ifcfg-ens33</span><br></pre></td></tr></table></figure>\n\n<p>我的是这样的。</p>\n<p><img src=\"/images/pasted-3.png\" alt=\"upload successful\"></p>\n<p>打开配置文件后，按“i”进行编辑</p>\n<p><img src=\"/images/pasted-4.png\" alt=\"upload successful\"></p>\n<p>更改完后，按“ESC”键，然后输入”:wq”。意思是退出并保存。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service network restart</span><br></pre></td></tr></table></figure>\n\n<p>接下来就可以愉快的 ping <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a><br><img src=\"/images/pasted-5.png\" alt=\"upload successful\"></p>\n<p>3)附文件代码</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TYPE=Ethernet</span><br><span class=\"line\">BOOTPROTO=static  #启用静态IP地址</span><br><span class=\"line\">DEFROUTE=yes</span><br><span class=\"line\">PEERDNS=yes</span><br><span class=\"line\">PEERROUTES=yes</span><br><span class=\"line\">IPV4_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6INIT=yes</span><br><span class=\"line\">IPV6_AUTOCONF=yes</span><br><span class=\"line\">IPV6_DEFROUTE=yes</span><br><span class=\"line\">IPV6_PEERDNS=yes</span><br><span class=\"line\">IPV6_PEERROUTES=yes</span><br><span class=\"line\">IPV6_FAILURE_FATAL=no</span><br><span class=\"line\">NAME=eno16777736</span><br><span class=\"line\">UUID=ae0965e7-22b9-45aa-8ec9-3f0a20a85d11</span><br><span class=\"line\">ONBOOT=yes  #开启自动启用网络连接</span><br><span class=\"line\">IPADDR=192.168.8.88  #设置IP地址</span><br><span class=\"line\">NETMASK=255.255.255.0  #设置子网掩码</span><br><span class=\"line\">GATEWAY=192.168.8.254  #设置网关</span><br><span class=\"line\">DNS1=192.168.1.2 #设置主DNS</span><br><span class=\"line\">DNS2=192.168.1.3 #设置备DNS</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p><strong>最近打算为centos安装一个界面时，发现不能上网。ping <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a> 报name or service not known。<br>原来网络配置没设好。</strong></p>","more":"\n<h2 id=\"一、选择VMWare的NAT模式。\"><a href=\"#一、选择VMWare的NAT模式。\" class=\"headerlink\" title=\"一、选择VMWare的NAT模式。\"></a>一、选择VMWare的NAT模式。</h2><p>1）导航栏“编辑”-&gt;“虚拟网络编辑器” -&gt;NAT模式-&gt;NAT设置<br><img src=\"/images/1571319042.jpg\" alt></p>\n<blockquote>\n<p>记住NAT设置中的子网IP、子网掩码、网关IP三项，接下来配置文件主要是这三项。<br> 嗯，这里记得按确定，我之前没有按确定写好配置后还是不行，不知道为什么。</p>\n</blockquote>\n<p> 2）编辑网络配置文件。<br>    我的是ens33，不同的人或许会有不同。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/sysconfig/network-scripts/ifcfg-ens33</span><br></pre></td></tr></table></figure>\n\n<p>我的是这样的。</p>\n<p><img src=\"/images/pasted-3.png\" alt=\"upload successful\"></p>\n<p>打开配置文件后，按“i”进行编辑</p>\n<p><img src=\"/images/pasted-4.png\" alt=\"upload successful\"></p>\n<p>更改完后，按“ESC”键，然后输入”:wq”。意思是退出并保存。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service network restart</span><br></pre></td></tr></table></figure>\n\n<p>接下来就可以愉快的 ping <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a><br><img src=\"/images/pasted-5.png\" alt=\"upload successful\"></p>\n<p>3)附文件代码</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TYPE=Ethernet</span><br><span class=\"line\">BOOTPROTO=static  #启用静态IP地址</span><br><span class=\"line\">DEFROUTE=yes</span><br><span class=\"line\">PEERDNS=yes</span><br><span class=\"line\">PEERROUTES=yes</span><br><span class=\"line\">IPV4_FAILURE_FATAL=no</span><br><span class=\"line\">IPV6INIT=yes</span><br><span class=\"line\">IPV6_AUTOCONF=yes</span><br><span class=\"line\">IPV6_DEFROUTE=yes</span><br><span class=\"line\">IPV6_PEERDNS=yes</span><br><span class=\"line\">IPV6_PEERROUTES=yes</span><br><span class=\"line\">IPV6_FAILURE_FATAL=no</span><br><span class=\"line\">NAME=eno16777736</span><br><span class=\"line\">UUID=ae0965e7-22b9-45aa-8ec9-3f0a20a85d11</span><br><span class=\"line\">ONBOOT=yes  #开启自动启用网络连接</span><br><span class=\"line\">IPADDR=192.168.8.88  #设置IP地址</span><br><span class=\"line\">NETMASK=255.255.255.0  #设置子网掩码</span><br><span class=\"line\">GATEWAY=192.168.8.254  #设置网关</span><br><span class=\"line\">DNS1=192.168.1.2 #设置主DNS</span><br><span class=\"line\">DNS2=192.168.1.3 #设置备DNS</span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/1571319042.jpg","popularPost_tmp_gaData":{"updated":"Fri Oct 18 2019 16:05:22 GMT+0800 (GMT+08:00)","title":"VMWare 下安装Centos网络设置（局域网配置）","path":"2019/10/14/linux/VMWare 下安装Centos网络设置（局域网配置）/","eyeCatchImage":"/images/1571319042.jpg","excerpt":null,"date":"2019-10-14T01:46:57.000Z","pv":0,"totalPV":0,"categories":"Centos","tags":["vm"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"Linux命令中tail的用法","date":"2019-10-21T07:57:31.000Z","_content":"\nlinux 中的 tail 命令用途是按照要求将指定的文件的最后部分输出到标准设备，一般是终端，通俗讲来，就是把某个档案文件的最后几行显示到终端上，如果该档案有更新，tail 会自动刷新，确保你看到最新的档案内容。\n\n工作中经常\b用 tail 命令查看 log 错误日志,接口日志等.分享一下这个命令的用法!\n\n### 一、tail 命令语法\n\ntail [ -f ] [ -c Number | -n Number | -m Number | -b Number | -k Number ] [ File ]\n参数说明：\n\n-f 该参数用于监视 File 文件增长。\n-c Number 从 Number 字节位置读取指定文件\n-n Number 从 Number 行位置读取指定文件。\n-m Number 从 Number 多字节字符位置读取指定文件，比如你的文件如果包含中文字，如果指定-c 参数，可能导致截断，但使用-m 则会避免该问题。\n-b Number 从 Number 表示的 512 字节块位置读取指定文件。\n-k Number 从 Number 表示的 1KB 块位置读取指定文件。\nFile 指定操作的目标文件名\n上述命令中，都涉及到 number，如果不指定，默认显示 10 行。Number 前面可使用正负号，表示该偏移从顶部还是从尾部开始计算。\ntail 可执行文件一般在/usr/bin/下面。\n\n二、tail 命令用法示例\n\n1、tail -f filename\n说明：监视 filename 文件的尾部内容（默认 10 行，相当于添加参数 -n 10），刷新显示在屏幕上。退出，按下 CTRL+C。\n2、tail -n 20 filename\n说明：显示 filename 最后 20 行。\n3、tail -n +20 filename\n说明：显示 filename 前面 20 行。\n4、tail -r -n 10 filename\n说明：逆序显示 filename 最后 10 行。\n\n补充：\n\n跟 tail 功能类似的命令还有：\ncat 从第一行开始显示档案内容。\ntac 从最后一行开始显示档案内容。\nmore 分页显示档案内容。\nless 与 more 类似，但支持向前翻页\nhead 只显示前面几行\ntail 只显示后面几行\nn 带行号显示档案内容\nod 以二进制方式显示档案内容","source":"_posts/linux/Linux命令中tail的用法.md","raw":"---\ntitle: Linux命令中tail的用法\ndate: 2019-10-21 15:57:31\ncategory: Linux\ntags: Linux\n---\n\nlinux 中的 tail 命令用途是按照要求将指定的文件的最后部分输出到标准设备，一般是终端，通俗讲来，就是把某个档案文件的最后几行显示到终端上，如果该档案有更新，tail 会自动刷新，确保你看到最新的档案内容。\n\n工作中经常\b用 tail 命令查看 log 错误日志,接口日志等.分享一下这个命令的用法!\n\n### 一、tail 命令语法\n\ntail [ -f ] [ -c Number | -n Number | -m Number | -b Number | -k Number ] [ File ]\n参数说明：\n\n-f 该参数用于监视 File 文件增长。\n-c Number 从 Number 字节位置读取指定文件\n-n Number 从 Number 行位置读取指定文件。\n-m Number 从 Number 多字节字符位置读取指定文件，比如你的文件如果包含中文字，如果指定-c 参数，可能导致截断，但使用-m 则会避免该问题。\n-b Number 从 Number 表示的 512 字节块位置读取指定文件。\n-k Number 从 Number 表示的 1KB 块位置读取指定文件。\nFile 指定操作的目标文件名\n上述命令中，都涉及到 number，如果不指定，默认显示 10 行。Number 前面可使用正负号，表示该偏移从顶部还是从尾部开始计算。\ntail 可执行文件一般在/usr/bin/下面。\n\n二、tail 命令用法示例\n\n1、tail -f filename\n说明：监视 filename 文件的尾部内容（默认 10 行，相当于添加参数 -n 10），刷新显示在屏幕上。退出，按下 CTRL+C。\n2、tail -n 20 filename\n说明：显示 filename 最后 20 行。\n3、tail -n +20 filename\n说明：显示 filename 前面 20 行。\n4、tail -r -n 10 filename\n说明：逆序显示 filename 最后 10 行。\n\n补充：\n\n跟 tail 功能类似的命令还有：\ncat 从第一行开始显示档案内容。\ntac 从最后一行开始显示档案内容。\nmore 分页显示档案内容。\nless 与 more 类似，但支持向前翻页\nhead 只显示前面几行\ntail 只显示后面几行\nn 带行号显示档案内容\nod 以二进制方式显示档案内容","slug":"linux/Linux命令中tail的用法","published":1,"updated":"2019-10-22T07:52:23.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318ws000kgoooqgiy4fie","content":"<p>linux 中的 tail 命令用途是按照要求将指定的文件的最后部分输出到标准设备，一般是终端，通俗讲来，就是把某个档案文件的最后几行显示到终端上，如果该档案有更新，tail 会自动刷新，确保你看到最新的档案内容。</p><a id=\"more\"></a>\n<p>工作中经常\b用 tail 命令查看 log 错误日志,接口日志等.分享一下这个命令的用法!</p>\n<h3 id=\"一、tail-命令语法\"><a href=\"#一、tail-命令语法\" class=\"headerlink\" title=\"一、tail 命令语法\"></a>一、tail 命令语法</h3><p>tail [ -f ] [ -c Number | -n Number | -m Number | -b Number | -k Number ] [ File ]<br>参数说明：</p>\n<p>-f 该参数用于监视 File 文件增长。<br>-c Number 从 Number 字节位置读取指定文件<br>-n Number 从 Number 行位置读取指定文件。<br>-m Number 从 Number 多字节字符位置读取指定文件，比如你的文件如果包含中文字，如果指定-c 参数，可能导致截断，但使用-m 则会避免该问题。<br>-b Number 从 Number 表示的 512 字节块位置读取指定文件。<br>-k Number 从 Number 表示的 1KB 块位置读取指定文件。<br>File 指定操作的目标文件名<br>上述命令中，都涉及到 number，如果不指定，默认显示 10 行。Number 前面可使用正负号，表示该偏移从顶部还是从尾部开始计算。<br>tail 可执行文件一般在/usr/bin/下面。</p>\n<p>二、tail 命令用法示例</p>\n<p>1、tail -f filename<br>说明：监视 filename 文件的尾部内容（默认 10 行，相当于添加参数 -n 10），刷新显示在屏幕上。退出，按下 CTRL+C。<br>2、tail -n 20 filename<br>说明：显示 filename 最后 20 行。<br>3、tail -n +20 filename<br>说明：显示 filename 前面 20 行。<br>4、tail -r -n 10 filename<br>说明：逆序显示 filename 最后 10 行。</p>\n<p>补充：</p>\n<p>跟 tail 功能类似的命令还有：<br>cat 从第一行开始显示档案内容。<br>tac 从最后一行开始显示档案内容。<br>more 分页显示档案内容。<br>less 与 more 类似，但支持向前翻页<br>head 只显示前面几行<br>tail 只显示后面几行<br>n 带行号显示档案内容<br>od 以二进制方式显示档案内容</p>\n","site":{"data":{}},"excerpt":"<p>linux 中的 tail 命令用途是按照要求将指定的文件的最后部分输出到标准设备，一般是终端，通俗讲来，就是把某个档案文件的最后几行显示到终端上，如果该档案有更新，tail 会自动刷新，确保你看到最新的档案内容。</p>","more":"\n<p>工作中经常\b用 tail 命令查看 log 错误日志,接口日志等.分享一下这个命令的用法!</p>\n<h3 id=\"一、tail-命令语法\"><a href=\"#一、tail-命令语法\" class=\"headerlink\" title=\"一、tail 命令语法\"></a>一、tail 命令语法</h3><p>tail [ -f ] [ -c Number | -n Number | -m Number | -b Number | -k Number ] [ File ]<br>参数说明：</p>\n<p>-f 该参数用于监视 File 文件增长。<br>-c Number 从 Number 字节位置读取指定文件<br>-n Number 从 Number 行位置读取指定文件。<br>-m Number 从 Number 多字节字符位置读取指定文件，比如你的文件如果包含中文字，如果指定-c 参数，可能导致截断，但使用-m 则会避免该问题。<br>-b Number 从 Number 表示的 512 字节块位置读取指定文件。<br>-k Number 从 Number 表示的 1KB 块位置读取指定文件。<br>File 指定操作的目标文件名<br>上述命令中，都涉及到 number，如果不指定，默认显示 10 行。Number 前面可使用正负号，表示该偏移从顶部还是从尾部开始计算。<br>tail 可执行文件一般在/usr/bin/下面。</p>\n<p>二、tail 命令用法示例</p>\n<p>1、tail -f filename<br>说明：监视 filename 文件的尾部内容（默认 10 行，相当于添加参数 -n 10），刷新显示在屏幕上。退出，按下 CTRL+C。<br>2、tail -n 20 filename<br>说明：显示 filename 最后 20 行。<br>3、tail -n +20 filename<br>说明：显示 filename 前面 20 行。<br>4、tail -r -n 10 filename<br>说明：逆序显示 filename 最后 10 行。</p>\n<p>补充：</p>\n<p>跟 tail 功能类似的命令还有：<br>cat 从第一行开始显示档案内容。<br>tac 从最后一行开始显示档案内容。<br>more 分页显示档案内容。<br>less 与 more 类似，但支持向前翻页<br>head 只显示前面几行<br>tail 只显示后面几行<br>n 带行号显示档案内容<br>od 以二进制方式显示档案内容</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 15:52:23 GMT+0800 (GMT+08:00)","title":"Linux命令中tail的用法","path":"2019/10/21/linux/Linux命令中tail的用法/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-21T07:57:31.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"centos7 Mysql安装","date":"2019-10-11T11:29:40.000Z","_content":"### 1.安装Mysql\n在要安装的目录下执行一下命令 我这就是进入到/home/money/后执行以下命令\n\n下载\n```shell\nwget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\n```\nyum 安装\n```shell\nyum -y install mysql57-community-release-el7-10.noarch.rpm\n```\n安装mysql服务器\n```shell\n yum -y install mysql-community-server\n```\n起动mysql服务器\n```shell\nsystemctl start mysqld\n```\n修改密码\n\n    第一次安装会给root随机密码 查看 grep \"password\" /var/log/mysqld.log\n    进入数据库 mysql -uroot -p密码\n    修改密码 ALTER USER 'root'@'localhost' IDENTIFIED BY '你要设置的密码';\n    (要包含大小写和符号，比较难设置)\n\n修改mysql语言\n\n    首先重新登录mysql，然后输入status：\n    此处语言并不是utf8,我们退出（输入exit）去修改\n\n![upload successful](/images/pasted-7.png)\n\n    vi /etc/my.cnf\n    复制代码添加四行代码\n\n![upload successful](/images/pasted-6.png)\n\n重启mysql服务,登录后status查看，改成utf8就成功了\nshell service mysqld restart\n操作命令：\n启动mysql服务 service mysqld start 重启mysql服务 service mysqld restart 查看状态服务状态 service mysqld status","source":"_posts/linux/centos7 Mysql安装.md","raw":"title: centos7 Mysql安装\ntags:\n  - Centos\n  - Linux\ncategory:\n  - Linux\ndate: 2019-10-11 19:29:40\n---\n### 1.安装Mysql\n在要安装的目录下执行一下命令 我这就是进入到/home/money/后执行以下命令\n\n下载\n```shell\nwget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\n```\nyum 安装\n```shell\nyum -y install mysql57-community-release-el7-10.noarch.rpm\n```\n安装mysql服务器\n```shell\n yum -y install mysql-community-server\n```\n起动mysql服务器\n```shell\nsystemctl start mysqld\n```\n修改密码\n\n    第一次安装会给root随机密码 查看 grep \"password\" /var/log/mysqld.log\n    进入数据库 mysql -uroot -p密码\n    修改密码 ALTER USER 'root'@'localhost' IDENTIFIED BY '你要设置的密码';\n    (要包含大小写和符号，比较难设置)\n\n修改mysql语言\n\n    首先重新登录mysql，然后输入status：\n    此处语言并不是utf8,我们退出（输入exit）去修改\n\n![upload successful](/images/pasted-7.png)\n\n    vi /etc/my.cnf\n    复制代码添加四行代码\n\n![upload successful](/images/pasted-6.png)\n\n重启mysql服务,登录后status查看，改成utf8就成功了\nshell service mysqld restart\n操作命令：\n启动mysql服务 service mysqld start 重启mysql服务 service mysqld restart 查看状态服务状态 service mysqld status","slug":"linux/centos7 Mysql安装","published":1,"updated":"2019-10-22T08:04:46.132Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wt000mgoool0a8ukin","content":"<h3 id=\"1-安装Mysql\"><a href=\"#1-安装Mysql\" class=\"headerlink\" title=\"1.安装Mysql\"></a>1.安装Mysql</h3><p>在要安装的目录下执行一下命令 我这就是进入到/home/money/后执行以下命令</p><p>下载</p><a id=\"more\"></a>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>yum 安装</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>安装mysql服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure>\n\n<p>起动mysql服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start mysqld</span><br></pre></td></tr></table></figure>\n\n<p>修改密码</p>\n<pre><code>第一次安装会给root随机密码 查看 grep &quot;password&quot; /var/log/mysqld.log\n进入数据库 mysql -uroot -p密码\n修改密码 ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;你要设置的密码&apos;;\n(要包含大小写和符号，比较难设置)</code></pre><p>修改mysql语言</p>\n<pre><code>首先重新登录mysql，然后输入status：\n此处语言并不是utf8,我们退出（输入exit）去修改</code></pre><p><img src=\"/images/pasted-7.png\" alt=\"upload successful\"></p>\n<pre><code>vi /etc/my.cnf\n复制代码添加四行代码</code></pre><p><img src=\"/images/pasted-6.png\" alt=\"upload successful\"></p>\n<p>重启mysql服务,登录后status查看，改成utf8就成功了<br>shell service mysqld restart<br>操作命令：<br>启动mysql服务 service mysqld start 重启mysql服务 service mysqld restart 查看状态服务状态 service mysqld status</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"1-安装Mysql\"><a href=\"#1-安装Mysql\" class=\"headerlink\" title=\"1.安装Mysql\"></a>1.安装Mysql</h3><p>在要安装的目录下执行一下命令 我这就是进入到/home/money/后执行以下命令</p><p>下载</p>","more":"\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>yum 安装</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>安装mysql服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure>\n\n<p>起动mysql服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start mysqld</span><br></pre></td></tr></table></figure>\n\n<p>修改密码</p>\n<pre><code>第一次安装会给root随机密码 查看 grep &quot;password&quot; /var/log/mysqld.log\n进入数据库 mysql -uroot -p密码\n修改密码 ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;你要设置的密码&apos;;\n(要包含大小写和符号，比较难设置)</code></pre><p>修改mysql语言</p>\n<pre><code>首先重新登录mysql，然后输入status：\n此处语言并不是utf8,我们退出（输入exit）去修改</code></pre><p><img src=\"/images/pasted-7.png\" alt=\"upload successful\"></p>\n<pre><code>vi /etc/my.cnf\n复制代码添加四行代码</code></pre><p><img src=\"/images/pasted-6.png\" alt=\"upload successful\"></p>\n<p>重启mysql服务,登录后status查看，改成utf8就成功了<br>shell service mysqld restart<br>操作命令：<br>启动mysql服务 service mysqld start 重启mysql服务 service mysqld restart 查看状态服务状态 service mysqld status</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/pasted-7.png","popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 16:04:46 GMT+0800 (GMT+08:00)","title":"centos7 Mysql安装","path":"2019/10/11/linux/centos7 Mysql安装/","eyeCatchImage":"/images/pasted-7.png","excerpt":null,"date":"2019-10-11T11:29:40.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Centos","Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"centos 开放端口方法","author":"Tutu","date":"2019-10-14T01:44:16.000Z","_content":"最近在centos上部署了前端项目发现启动后无法通过ip进行访问，经查询原来是防火墙打开了，经过收集学习了相关的操作。\n\nCentos升级到7之后，内置的防火墙已经从iptables变成了firewalld。所以，端口的开启还是要从两种情况来说明的，即iptables和firewalld。\n\n### 一、iptables(centos 6及以前)\n1.打开/关闭/重启防火墙\n\n    开启防火墙(重启后永久生效)：  chkconfig iptables on\n    关闭防火墙(重启后永久生效)：  chkconfig iptables off\n    开启防火墙(即时生效，重启后失效)：  service iptables start\n    关闭防火墙(即时生效，重启后失效)：  service iptables stop\n    重启防火墙:  service iptables restartd\n\n2.查看打开的端口\n\n    /etc/init.d/iptables status\n\n3.打开某个端口(以8080为例)\n\n    （1）开启端口\n    iptables -A INPUT -p tcp --dport 8080 -j ACCEPT\n    （2）保存并重启防火墙\n    /etc/rc.d/init.d/iptables save\n    /etc/init.d/iptables restart\n\n4.打开49152~65534之间的端口\n\n    iptables -A INPUT -p tcp --dport 49152:65534 -j ACCEPT\n    同样，这里需要对设置进行保存，并重启防火墙。\n\n5.其他打开方式\n\n    我们还可以通过修改/etc/sysconfig/iptables文件的方式开启端口，如下\n    vi /etc/sysconfig/iptables\n    然后在文件中增加一行\n    -A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT\n\n6.查看启动端口\n\n    netstat  -nultp\n\n7.查看是否开启某个端口\n\n    netstat  -anp  |grep  8000\n\n参数说明:\n\n- -A 参数就看成是添加一条规则\n- –p 指定是什么协议，我们常用的tcp 协议，当然也有udp，例如53端口的DNS\n- –dport 就是目标端口，当数据从外部进入服务器为目标端口\n- –sport 数据从服务器出去，则为数据源端口使用\n- –j 就是指定是 ACCEPT -接收 或者 DROP 不接收\n\n### 二、firewalld(centos7)\nCentos7默认安装了firewalld，如果没有安装的话，可以使用 yum install firewalld firewalld-config进行安装。\n\n|命令|解释 |\n| -- |-- |\n|1.启动防火墙|systemctl start firewalld |\n|2.禁用防火墙|systemctl stop firewalld|\n|3.设置开机启动|systemctl enable firewalld|\n|4.停止并禁用开机启动|sytemctl disable firewalld|\n|5.重启防火墙|firewall-cmd --reload|\n|6.查看状态|systemctl status firewalld或者 firewall-cmd --state|\n|7.查看版本|firewall-cmd --version|\n|8.查看帮助|firewall-cmd --help|\n|9.查看区域信息|firewall-cmd --get-active-zones|\n|10.查看指定接口所属区域信息|firewall-cmd --get-zone-of-interface=eth0|\n|11.拒绝所有包|firewall-cmd --panic-on|\n|12.取消拒绝状态|firewall-cmd --panic-off|\n|13.查看是否拒绝|firewall-cmd --query-panic|\n|14.将接口添加到区域(默认接口都在public)|firewall-cmd --zone=public --add-interface=eth0(永久生效再加上 --permanent 然后reload防火墙)|\n|15.设置默认接口区域|firewall-cmd --set-default-zone=public(立即生效，无需重启)|\n|16.更新防火墙规则|firewall-cmd --reload或firewall-cmd --complete-reload(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务)|\n|17.查看指定区域所有打开的端口|firewall-cmd --zone=public --list-ports|\n|18.在指定区域打开端口（记得重启防火墙）|firewall-cmd --zone=public --add-port=80/tcp(永久生效再加上 --permanent)|","source":"_posts/linux/centos 开放端口方法.md","raw":"title: centos 开放端口方法\nauthor: Tutu\ndate: 2019-10-14 09:44:16\ntags:\n    - Linux\ncategories:\n    - Linux\n---\n最近在centos上部署了前端项目发现启动后无法通过ip进行访问，经查询原来是防火墙打开了，经过收集学习了相关的操作。\n\nCentos升级到7之后，内置的防火墙已经从iptables变成了firewalld。所以，端口的开启还是要从两种情况来说明的，即iptables和firewalld。\n\n### 一、iptables(centos 6及以前)\n1.打开/关闭/重启防火墙\n\n    开启防火墙(重启后永久生效)：  chkconfig iptables on\n    关闭防火墙(重启后永久生效)：  chkconfig iptables off\n    开启防火墙(即时生效，重启后失效)：  service iptables start\n    关闭防火墙(即时生效，重启后失效)：  service iptables stop\n    重启防火墙:  service iptables restartd\n\n2.查看打开的端口\n\n    /etc/init.d/iptables status\n\n3.打开某个端口(以8080为例)\n\n    （1）开启端口\n    iptables -A INPUT -p tcp --dport 8080 -j ACCEPT\n    （2）保存并重启防火墙\n    /etc/rc.d/init.d/iptables save\n    /etc/init.d/iptables restart\n\n4.打开49152~65534之间的端口\n\n    iptables -A INPUT -p tcp --dport 49152:65534 -j ACCEPT\n    同样，这里需要对设置进行保存，并重启防火墙。\n\n5.其他打开方式\n\n    我们还可以通过修改/etc/sysconfig/iptables文件的方式开启端口，如下\n    vi /etc/sysconfig/iptables\n    然后在文件中增加一行\n    -A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT\n\n6.查看启动端口\n\n    netstat  -nultp\n\n7.查看是否开启某个端口\n\n    netstat  -anp  |grep  8000\n\n参数说明:\n\n- -A 参数就看成是添加一条规则\n- –p 指定是什么协议，我们常用的tcp 协议，当然也有udp，例如53端口的DNS\n- –dport 就是目标端口，当数据从外部进入服务器为目标端口\n- –sport 数据从服务器出去，则为数据源端口使用\n- –j 就是指定是 ACCEPT -接收 或者 DROP 不接收\n\n### 二、firewalld(centos7)\nCentos7默认安装了firewalld，如果没有安装的话，可以使用 yum install firewalld firewalld-config进行安装。\n\n|命令|解释 |\n| -- |-- |\n|1.启动防火墙|systemctl start firewalld |\n|2.禁用防火墙|systemctl stop firewalld|\n|3.设置开机启动|systemctl enable firewalld|\n|4.停止并禁用开机启动|sytemctl disable firewalld|\n|5.重启防火墙|firewall-cmd --reload|\n|6.查看状态|systemctl status firewalld或者 firewall-cmd --state|\n|7.查看版本|firewall-cmd --version|\n|8.查看帮助|firewall-cmd --help|\n|9.查看区域信息|firewall-cmd --get-active-zones|\n|10.查看指定接口所属区域信息|firewall-cmd --get-zone-of-interface=eth0|\n|11.拒绝所有包|firewall-cmd --panic-on|\n|12.取消拒绝状态|firewall-cmd --panic-off|\n|13.查看是否拒绝|firewall-cmd --query-panic|\n|14.将接口添加到区域(默认接口都在public)|firewall-cmd --zone=public --add-interface=eth0(永久生效再加上 --permanent 然后reload防火墙)|\n|15.设置默认接口区域|firewall-cmd --set-default-zone=public(立即生效，无需重启)|\n|16.更新防火墙规则|firewall-cmd --reload或firewall-cmd --complete-reload(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务)|\n|17.查看指定区域所有打开的端口|firewall-cmd --zone=public --list-ports|\n|18.在指定区域打开端口（记得重启防火墙）|firewall-cmd --zone=public --add-port=80/tcp(永久生效再加上 --permanent)|","slug":"linux/centos 开放端口方法","published":1,"updated":"2019-10-22T08:03:03.236Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wv000pgooogro95m0b","content":"<p>最近在centos上部署了前端项目发现启动后无法通过ip进行访问，经查询原来是防火墙打开了，经过收集学习了相关的操作。</p><a id=\"more\"></a>\n<p>Centos升级到7之后，内置的防火墙已经从iptables变成了firewalld。所以，端口的开启还是要从两种情况来说明的，即iptables和firewalld。</p>\n<h3 id=\"一、iptables-centos-6及以前\"><a href=\"#一、iptables-centos-6及以前\" class=\"headerlink\" title=\"一、iptables(centos 6及以前)\"></a>一、iptables(centos 6及以前)</h3><p>1.打开/关闭/重启防火墙</p>\n<pre><code>开启防火墙(重启后永久生效)：  chkconfig iptables on\n关闭防火墙(重启后永久生效)：  chkconfig iptables off\n开启防火墙(即时生效，重启后失效)：  service iptables start\n关闭防火墙(即时生效，重启后失效)：  service iptables stop\n重启防火墙:  service iptables restartd</code></pre><p>2.查看打开的端口</p>\n<pre><code>/etc/init.d/iptables status</code></pre><p>3.打开某个端口(以8080为例)</p>\n<pre><code>（1）开启端口\niptables -A INPUT -p tcp --dport 8080 -j ACCEPT\n（2）保存并重启防火墙\n/etc/rc.d/init.d/iptables save\n/etc/init.d/iptables restart</code></pre><p>4.打开49152~65534之间的端口</p>\n<pre><code>iptables -A INPUT -p tcp --dport 49152:65534 -j ACCEPT\n同样，这里需要对设置进行保存，并重启防火墙。</code></pre><p>5.其他打开方式</p>\n<pre><code>我们还可以通过修改/etc/sysconfig/iptables文件的方式开启端口，如下\nvi /etc/sysconfig/iptables\n然后在文件中增加一行\n-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT</code></pre><p>6.查看启动端口</p>\n<pre><code>netstat  -nultp</code></pre><p>7.查看是否开启某个端口</p>\n<pre><code>netstat  -anp  |grep  8000</code></pre><p>参数说明:</p>\n<ul>\n<li>-A 参数就看成是添加一条规则</li>\n<li>–p 指定是什么协议，我们常用的tcp 协议，当然也有udp，例如53端口的DNS</li>\n<li>–dport 就是目标端口，当数据从外部进入服务器为目标端口</li>\n<li>–sport 数据从服务器出去，则为数据源端口使用</li>\n<li>–j 就是指定是 ACCEPT -接收 或者 DROP 不接收</li>\n</ul>\n<h3 id=\"二、firewalld-centos7\"><a href=\"#二、firewalld-centos7\" class=\"headerlink\" title=\"二、firewalld(centos7)\"></a>二、firewalld(centos7)</h3><p>Centos7默认安装了firewalld，如果没有安装的话，可以使用 yum install firewalld firewalld-config进行安装。</p>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.启动防火墙</td>\n<td>systemctl start firewalld</td>\n</tr>\n<tr>\n<td>2.禁用防火墙</td>\n<td>systemctl stop firewalld</td>\n</tr>\n<tr>\n<td>3.设置开机启动</td>\n<td>systemctl enable firewalld</td>\n</tr>\n<tr>\n<td>4.停止并禁用开机启动</td>\n<td>sytemctl disable firewalld</td>\n</tr>\n<tr>\n<td>5.重启防火墙</td>\n<td>firewall-cmd –reload</td>\n</tr>\n<tr>\n<td>6.查看状态</td>\n<td>systemctl status firewalld或者 firewall-cmd –state</td>\n</tr>\n<tr>\n<td>7.查看版本</td>\n<td>firewall-cmd –version</td>\n</tr>\n<tr>\n<td>8.查看帮助</td>\n<td>firewall-cmd –help</td>\n</tr>\n<tr>\n<td>9.查看区域信息</td>\n<td>firewall-cmd –get-active-zones</td>\n</tr>\n<tr>\n<td>10.查看指定接口所属区域信息</td>\n<td>firewall-cmd –get-zone-of-interface=eth0</td>\n</tr>\n<tr>\n<td>11.拒绝所有包</td>\n<td>firewall-cmd –panic-on</td>\n</tr>\n<tr>\n<td>12.取消拒绝状态</td>\n<td>firewall-cmd –panic-off</td>\n</tr>\n<tr>\n<td>13.查看是否拒绝</td>\n<td>firewall-cmd –query-panic</td>\n</tr>\n<tr>\n<td>14.将接口添加到区域(默认接口都在public)</td>\n<td>firewall-cmd –zone=public –add-interface=eth0(永久生效再加上 –permanent 然后reload防火墙)</td>\n</tr>\n<tr>\n<td>15.设置默认接口区域</td>\n<td>firewall-cmd –set-default-zone=public(立即生效，无需重启)</td>\n</tr>\n<tr>\n<td>16.更新防火墙规则</td>\n<td>firewall-cmd –reload或firewall-cmd –complete-reload(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务)</td>\n</tr>\n<tr>\n<td>17.查看指定区域所有打开的端口</td>\n<td>firewall-cmd –zone=public –list-ports</td>\n</tr>\n<tr>\n<td>18.在指定区域打开端口（记得重启防火墙）</td>\n<td>firewall-cmd –zone=public –add-port=80/tcp(永久生效再加上 –permanent)</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<p>最近在centos上部署了前端项目发现启动后无法通过ip进行访问，经查询原来是防火墙打开了，经过收集学习了相关的操作。</p>","more":"\n<p>Centos升级到7之后，内置的防火墙已经从iptables变成了firewalld。所以，端口的开启还是要从两种情况来说明的，即iptables和firewalld。</p>\n<h3 id=\"一、iptables-centos-6及以前\"><a href=\"#一、iptables-centos-6及以前\" class=\"headerlink\" title=\"一、iptables(centos 6及以前)\"></a>一、iptables(centos 6及以前)</h3><p>1.打开/关闭/重启防火墙</p>\n<pre><code>开启防火墙(重启后永久生效)：  chkconfig iptables on\n关闭防火墙(重启后永久生效)：  chkconfig iptables off\n开启防火墙(即时生效，重启后失效)：  service iptables start\n关闭防火墙(即时生效，重启后失效)：  service iptables stop\n重启防火墙:  service iptables restartd</code></pre><p>2.查看打开的端口</p>\n<pre><code>/etc/init.d/iptables status</code></pre><p>3.打开某个端口(以8080为例)</p>\n<pre><code>（1）开启端口\niptables -A INPUT -p tcp --dport 8080 -j ACCEPT\n（2）保存并重启防火墙\n/etc/rc.d/init.d/iptables save\n/etc/init.d/iptables restart</code></pre><p>4.打开49152~65534之间的端口</p>\n<pre><code>iptables -A INPUT -p tcp --dport 49152:65534 -j ACCEPT\n同样，这里需要对设置进行保存，并重启防火墙。</code></pre><p>5.其他打开方式</p>\n<pre><code>我们还可以通过修改/etc/sysconfig/iptables文件的方式开启端口，如下\nvi /etc/sysconfig/iptables\n然后在文件中增加一行\n-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT</code></pre><p>6.查看启动端口</p>\n<pre><code>netstat  -nultp</code></pre><p>7.查看是否开启某个端口</p>\n<pre><code>netstat  -anp  |grep  8000</code></pre><p>参数说明:</p>\n<ul>\n<li>-A 参数就看成是添加一条规则</li>\n<li>–p 指定是什么协议，我们常用的tcp 协议，当然也有udp，例如53端口的DNS</li>\n<li>–dport 就是目标端口，当数据从外部进入服务器为目标端口</li>\n<li>–sport 数据从服务器出去，则为数据源端口使用</li>\n<li>–j 就是指定是 ACCEPT -接收 或者 DROP 不接收</li>\n</ul>\n<h3 id=\"二、firewalld-centos7\"><a href=\"#二、firewalld-centos7\" class=\"headerlink\" title=\"二、firewalld(centos7)\"></a>二、firewalld(centos7)</h3><p>Centos7默认安装了firewalld，如果没有安装的话，可以使用 yum install firewalld firewalld-config进行安装。</p>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.启动防火墙</td>\n<td>systemctl start firewalld</td>\n</tr>\n<tr>\n<td>2.禁用防火墙</td>\n<td>systemctl stop firewalld</td>\n</tr>\n<tr>\n<td>3.设置开机启动</td>\n<td>systemctl enable firewalld</td>\n</tr>\n<tr>\n<td>4.停止并禁用开机启动</td>\n<td>sytemctl disable firewalld</td>\n</tr>\n<tr>\n<td>5.重启防火墙</td>\n<td>firewall-cmd –reload</td>\n</tr>\n<tr>\n<td>6.查看状态</td>\n<td>systemctl status firewalld或者 firewall-cmd –state</td>\n</tr>\n<tr>\n<td>7.查看版本</td>\n<td>firewall-cmd –version</td>\n</tr>\n<tr>\n<td>8.查看帮助</td>\n<td>firewall-cmd –help</td>\n</tr>\n<tr>\n<td>9.查看区域信息</td>\n<td>firewall-cmd –get-active-zones</td>\n</tr>\n<tr>\n<td>10.查看指定接口所属区域信息</td>\n<td>firewall-cmd –get-zone-of-interface=eth0</td>\n</tr>\n<tr>\n<td>11.拒绝所有包</td>\n<td>firewall-cmd –panic-on</td>\n</tr>\n<tr>\n<td>12.取消拒绝状态</td>\n<td>firewall-cmd –panic-off</td>\n</tr>\n<tr>\n<td>13.查看是否拒绝</td>\n<td>firewall-cmd –query-panic</td>\n</tr>\n<tr>\n<td>14.将接口添加到区域(默认接口都在public)</td>\n<td>firewall-cmd –zone=public –add-interface=eth0(永久生效再加上 –permanent 然后reload防火墙)</td>\n</tr>\n<tr>\n<td>15.设置默认接口区域</td>\n<td>firewall-cmd –set-default-zone=public(立即生效，无需重启)</td>\n</tr>\n<tr>\n<td>16.更新防火墙规则</td>\n<td>firewall-cmd –reload或firewall-cmd –complete-reload(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务)</td>\n</tr>\n<tr>\n<td>17.查看指定区域所有打开的端口</td>\n<td>firewall-cmd –zone=public –list-ports</td>\n</tr>\n<tr>\n<td>18.在指定区域打开端口（记得重启防火墙）</td>\n<td>firewall-cmd –zone=public –add-port=80/tcp(永久生效再加上 –permanent)</td>\n</tr>\n</tbody></table>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 16:03:03 GMT+0800 (GMT+08:00)","title":"centos 开放端口方法","path":"2019/10/14/linux/centos 开放端口方法/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T01:44:16.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"layout":"[centos安装git]","title":"centos安装git","date":"2019-10-16T07:54:37.000Z","_content":"一、获得一台linux服务器\n要在linux下安装git，首先你得先有一台linux服务器，作为小白，手头的机器肯定都是windows的，搞个虚拟机安装对我这种小白简直是折磨人；这里使用最简单的方式获得一台linux服务器，就是从阿里云上租一台。镜像选择CentOS7.3 64位。\n\n阿里云上租服务器\n二、yum安装git\n在linux上使用yum安装git非常简单，只需要一行命令\n\nyum install git\n随后就可以看到系统开始自动下载安装\n\n\nyum安装git开始下载\n\n出现提示是否下载的时候输入y并按回车。\n\nyum安装git完成\n输入git --version检查git是否安全完成，以及查看其版本号。\n顺便说一下，yum安装git被安装在/usr/libexec/git-core目录下。\n\n\n校验yum安装git\n至此，yum安装git完成。\n\n二、从github上下载最新的源码编译后安装git\nyum安装这么简单，为什么还要学从github上下载最新的源码编译后安装呢？\n刚才输入git --version命令的时候相信大家也看到了，是1.8.3.1版本，这个版本还是蛮旧的。yum安装就是这个缺点，版本你不好控制。如果想要使用最新版的git，那还是得自己下载源码安装。具体怎么做呢？\n\n我们还是从一个什么都没安装的linux服务器开始示范。\n\n1.进入git在github上的发布版本页面https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。\n\n\ngit在github上的仓库\n2.获取到最新包的下载链接后，我们进入linux服务器，开始下载。\n\nwget https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1\n耐心等待下载完成。我们可以看到下载后的文件名是v2.13.0-rc1，并不是压缩包的格式，不用担心，这只是链接的问题，手动修改文件名为v2.13.0-rc1.tar.gz。\n\nmv v2.13.0-rc1 v2.13.0-rc1.tar.gz\n\n下载git源码\n解压压缩包\n\ntar -zxvf v2.13.0-rc1.tar.gz\n进入解压后的文件夹\n\ncd git-2.13.0-rc1\n\n源码解压完成\n3.拿到解压后的源码以后我们需要编译源码了，不过在此之前需要安装编译所需要的依赖。输入如下命令。\n\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker\n耐心等待安装完成，中途出现提示的时候输入y并按回车。\n\n\n编译源码依赖安装完成\n4.提示，安装编译源码所需依赖的时候，yum自动帮你安装了git，这时候你需要先卸载这个旧版的git。\n\nyum remove git\n耐心等待删除完成，中途出现提示的时候输入y并按回车。\n\n\n移除旧版git\n5.编译git源码\n\nmake prefix=/usr/local/git all\n耐心等待编译完成，中途可能会花费几分钟的时间。\n\n\ngit源码编译完成\n6.安装git至/usr/local/git路径\n\nmake prefix=/usr/local/git install\n等待安装完成\n\n\ngit安装完成\n7.打开环境变量配置文件\n\nvim /etc/profile\n在底部加上git相关配置\n\nPATH=$PATH:/usr/local/git/bin\nexport PATH\n\n修改环境变量\n刷新环境变量\n\nsource /etc/profile\n8.输入git --version检查git是否安全完成，以及查看其版本号。","source":"_posts/linux/centos安装git.md","raw":"---\nlayout: '[centos安装git]'\ntitle: centos安装git\ndate: 2019-10-16 15:54:37\ntags:\n    - Linux\ncategories:\n    - Linux\n---\n一、获得一台linux服务器\n要在linux下安装git，首先你得先有一台linux服务器，作为小白，手头的机器肯定都是windows的，搞个虚拟机安装对我这种小白简直是折磨人；这里使用最简单的方式获得一台linux服务器，就是从阿里云上租一台。镜像选择CentOS7.3 64位。\n\n阿里云上租服务器\n二、yum安装git\n在linux上使用yum安装git非常简单，只需要一行命令\n\nyum install git\n随后就可以看到系统开始自动下载安装\n\n\nyum安装git开始下载\n\n出现提示是否下载的时候输入y并按回车。\n\nyum安装git完成\n输入git --version检查git是否安全完成，以及查看其版本号。\n顺便说一下，yum安装git被安装在/usr/libexec/git-core目录下。\n\n\n校验yum安装git\n至此，yum安装git完成。\n\n二、从github上下载最新的源码编译后安装git\nyum安装这么简单，为什么还要学从github上下载最新的源码编译后安装呢？\n刚才输入git --version命令的时候相信大家也看到了，是1.8.3.1版本，这个版本还是蛮旧的。yum安装就是这个缺点，版本你不好控制。如果想要使用最新版的git，那还是得自己下载源码安装。具体怎么做呢？\n\n我们还是从一个什么都没安装的linux服务器开始示范。\n\n1.进入git在github上的发布版本页面https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。\n\n\ngit在github上的仓库\n2.获取到最新包的下载链接后，我们进入linux服务器，开始下载。\n\nwget https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1\n耐心等待下载完成。我们可以看到下载后的文件名是v2.13.0-rc1，并不是压缩包的格式，不用担心，这只是链接的问题，手动修改文件名为v2.13.0-rc1.tar.gz。\n\nmv v2.13.0-rc1 v2.13.0-rc1.tar.gz\n\n下载git源码\n解压压缩包\n\ntar -zxvf v2.13.0-rc1.tar.gz\n进入解压后的文件夹\n\ncd git-2.13.0-rc1\n\n源码解压完成\n3.拿到解压后的源码以后我们需要编译源码了，不过在此之前需要安装编译所需要的依赖。输入如下命令。\n\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker\n耐心等待安装完成，中途出现提示的时候输入y并按回车。\n\n\n编译源码依赖安装完成\n4.提示，安装编译源码所需依赖的时候，yum自动帮你安装了git，这时候你需要先卸载这个旧版的git。\n\nyum remove git\n耐心等待删除完成，中途出现提示的时候输入y并按回车。\n\n\n移除旧版git\n5.编译git源码\n\nmake prefix=/usr/local/git all\n耐心等待编译完成，中途可能会花费几分钟的时间。\n\n\ngit源码编译完成\n6.安装git至/usr/local/git路径\n\nmake prefix=/usr/local/git install\n等待安装完成\n\n\ngit安装完成\n7.打开环境变量配置文件\n\nvim /etc/profile\n在底部加上git相关配置\n\nPATH=$PATH:/usr/local/git/bin\nexport PATH\n\n修改环境变量\n刷新环境变量\n\nsource /etc/profile\n8.输入git --version检查git是否安全完成，以及查看其版本号。","slug":"linux/centos安装git","published":1,"updated":"2019-10-17T11:33:23.013Z","comments":1,"photos":[],"link":"","_id":"ck2d318ww000rgooolxd29495","content":"<p>一、获得一台linux服务器<br>要在linux下安装git，首先你得先有一台linux服务器，作为小白，手头的机器肯定都是windows的，搞个虚拟机安装对我这种小白简直是折磨人；这里使用最简单的方式获得一台linux服务器，就是从阿里云上租一台。镜像选择CentOS7.3 64位。</p><a id=\"more\"></a>\n<p>阿里云上租服务器<br>二、yum安装git<br>在linux上使用yum安装git非常简单，只需要一行命令</p>\n<p>yum install git<br>随后就可以看到系统开始自动下载安装</p>\n<p>yum安装git开始下载</p>\n<p>出现提示是否下载的时候输入y并按回车。</p>\n<p>yum安装git完成<br>输入git –version检查git是否安全完成，以及查看其版本号。<br>顺便说一下，yum安装git被安装在/usr/libexec/git-core目录下。</p>\n<p>校验yum安装git<br>至此，yum安装git完成。</p>\n<p>二、从github上下载最新的源码编译后安装git<br>yum安装这么简单，为什么还要学从github上下载最新的源码编译后安装呢？<br>刚才输入git –version命令的时候相信大家也看到了，是1.8.3.1版本，这个版本还是蛮旧的。yum安装就是这个缺点，版本你不好控制。如果想要使用最新版的git，那还是得自己下载源码安装。具体怎么做呢？</p>\n<p>我们还是从一个什么都没安装的linux服务器开始示范。</p>\n<p>1.进入git在github上的发布版本页面<a href=\"https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。\" target=\"_blank\" rel=\"noopener\">https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。</a></p>\n<p>git在github上的仓库<br>2.获取到最新包的下载链接后，我们进入linux服务器，开始下载。</p>\n<p>wget <a href=\"https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1\" target=\"_blank\" rel=\"noopener\">https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1</a><br>耐心等待下载完成。我们可以看到下载后的文件名是v2.13.0-rc1，并不是压缩包的格式，不用担心，这只是链接的问题，手动修改文件名为v2.13.0-rc1.tar.gz。</p>\n<p>mv v2.13.0-rc1 v2.13.0-rc1.tar.gz</p>\n<p>下载git源码<br>解压压缩包</p>\n<p>tar -zxvf v2.13.0-rc1.tar.gz<br>进入解压后的文件夹</p>\n<p>cd git-2.13.0-rc1</p>\n<p>源码解压完成<br>3.拿到解压后的源码以后我们需要编译源码了，不过在此之前需要安装编译所需要的依赖。输入如下命令。</p>\n<p>yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker<br>耐心等待安装完成，中途出现提示的时候输入y并按回车。</p>\n<p>编译源码依赖安装完成<br>4.提示，安装编译源码所需依赖的时候，yum自动帮你安装了git，这时候你需要先卸载这个旧版的git。</p>\n<p>yum remove git<br>耐心等待删除完成，中途出现提示的时候输入y并按回车。</p>\n<p>移除旧版git<br>5.编译git源码</p>\n<p>make prefix=/usr/local/git all<br>耐心等待编译完成，中途可能会花费几分钟的时间。</p>\n<p>git源码编译完成<br>6.安装git至/usr/local/git路径</p>\n<p>make prefix=/usr/local/git install<br>等待安装完成</p>\n<p>git安装完成<br>7.打开环境变量配置文件</p>\n<p>vim /etc/profile<br>在底部加上git相关配置</p>\n<p>PATH=$PATH:/usr/local/git/bin<br>export PATH</p>\n<p>修改环境变量<br>刷新环境变量</p>\n<p>source /etc/profile<br>8.输入git –version检查git是否安全完成，以及查看其版本号。</p>\n","site":{"data":{}},"excerpt":"<p>一、获得一台linux服务器<br>要在linux下安装git，首先你得先有一台linux服务器，作为小白，手头的机器肯定都是windows的，搞个虚拟机安装对我这种小白简直是折磨人；这里使用最简单的方式获得一台linux服务器，就是从阿里云上租一台。镜像选择CentOS7.3 64位。</p>","more":"\n<p>阿里云上租服务器<br>二、yum安装git<br>在linux上使用yum安装git非常简单，只需要一行命令</p>\n<p>yum install git<br>随后就可以看到系统开始自动下载安装</p>\n<p>yum安装git开始下载</p>\n<p>出现提示是否下载的时候输入y并按回车。</p>\n<p>yum安装git完成<br>输入git –version检查git是否安全完成，以及查看其版本号。<br>顺便说一下，yum安装git被安装在/usr/libexec/git-core目录下。</p>\n<p>校验yum安装git<br>至此，yum安装git完成。</p>\n<p>二、从github上下载最新的源码编译后安装git<br>yum安装这么简单，为什么还要学从github上下载最新的源码编译后安装呢？<br>刚才输入git –version命令的时候相信大家也看到了，是1.8.3.1版本，这个版本还是蛮旧的。yum安装就是这个缺点，版本你不好控制。如果想要使用最新版的git，那还是得自己下载源码安装。具体怎么做呢？</p>\n<p>我们还是从一个什么都没安装的linux服务器开始示范。</p>\n<p>1.进入git在github上的发布版本页面<a href=\"https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。\" target=\"_blank\" rel=\"noopener\">https://github.com/git/git/releases。在这个页面我们可以找到所有git已发布的版本。这里我们选择最新版的tar.gz包。</a></p>\n<p>git在github上的仓库<br>2.获取到最新包的下载链接后，我们进入linux服务器，开始下载。</p>\n<p>wget <a href=\"https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1\" target=\"_blank\" rel=\"noopener\">https://codeload.github.com/git/git/tar.gz/v2.13.0-rc1</a><br>耐心等待下载完成。我们可以看到下载后的文件名是v2.13.0-rc1，并不是压缩包的格式，不用担心，这只是链接的问题，手动修改文件名为v2.13.0-rc1.tar.gz。</p>\n<p>mv v2.13.0-rc1 v2.13.0-rc1.tar.gz</p>\n<p>下载git源码<br>解压压缩包</p>\n<p>tar -zxvf v2.13.0-rc1.tar.gz<br>进入解压后的文件夹</p>\n<p>cd git-2.13.0-rc1</p>\n<p>源码解压完成<br>3.拿到解压后的源码以后我们需要编译源码了，不过在此之前需要安装编译所需要的依赖。输入如下命令。</p>\n<p>yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker<br>耐心等待安装完成，中途出现提示的时候输入y并按回车。</p>\n<p>编译源码依赖安装完成<br>4.提示，安装编译源码所需依赖的时候，yum自动帮你安装了git，这时候你需要先卸载这个旧版的git。</p>\n<p>yum remove git<br>耐心等待删除完成，中途出现提示的时候输入y并按回车。</p>\n<p>移除旧版git<br>5.编译git源码</p>\n<p>make prefix=/usr/local/git all<br>耐心等待编译完成，中途可能会花费几分钟的时间。</p>\n<p>git源码编译完成<br>6.安装git至/usr/local/git路径</p>\n<p>make prefix=/usr/local/git install<br>等待安装完成</p>\n<p>git安装完成<br>7.打开环境变量配置文件</p>\n<p>vim /etc/profile<br>在底部加上git相关配置</p>\n<p>PATH=$PATH:/usr/local/git/bin<br>export PATH</p>\n<p>修改环境变量<br>刷新环境变量</p>\n<p>source /etc/profile<br>8.输入git –version检查git是否安全完成，以及查看其版本号。</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 19:33:23 GMT+0800 (GMT+08:00)","title":"centos安装git","path":"2019/10/16/linux/centos安装git/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-16T07:54:37.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"Win10安装Mongodb，并配置成服务","author":"Tutu","date":"2019-10-14T01:49:07.000Z","_content":"一：先去官网下载对应的版本;\n二：把bin文件夹拷贝到跟MongoDB目录，然后在根目录下建一个data文件夹存放日志跟数据库，然后data文件夹下建db跟log文件夹，并在log文件夹下新建一个日志文件mongolog.log\n如下图所示：\n\n![](https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920)![](https://user-gold-cdn.xitu.io/2019/8/6/16c6590c733468f9?w=567&h=244&f=png&s=14427)![](https://user-gold-cdn.xitu.io/2019/8/6/16c6590f19426cd6?w=635&h=226&f=png&s=14108)\n\n三：在mongodb根目录下见一个配置文件，内容如下：\n```txt\ndbpath=c:\\MongoDb\\data\\db\nlogpath=c:\\MongoDB\\data\\log\\mongolog.log\nlogappend=true\nauth=false\n```\n这就是mongodb.config文件的内容，auth默认为false，不起用密码验证\n\n四：powershell管理员模式定位到bin目录，然后运行\n\n```shell\n.\\mongod --config c:\\MongoDB\\mongodb.config --serviceName MongoDB --install\n```\n\n 这样，服务就安装完了，然后在服务那块右键启动服务，这样mongodb就算安装好了，接下来要设置密码\n\n五.当mongod.exe被关闭时，mongo.exe 就无法连接到数据库了，因此每次想使用mongodb数据库都要开启mongod.exe程序，所以比较麻烦，此时我们可以将MongoDB安装为windows服务\n\n　还是运行cmd，进入bin文件夹，执行下列命令\n```shell\n> d:\\mongodb\\bin>mongod --dbpath \"d:\\mongodb\\data\\db\" --logpath \"d:\\mongodb\\data\\log\\MongoDB.log\"\n  --install --serviceName \"MongoDB\"\n```\n\n\n这里MongoDB.log就是开始建立的日志文件，--serviceName \"MongoDB\" 服务名为MongoDB\n接着启动mongodb服务\n\n### 六.关闭服务和删除进程\n```shell\n> d:\\mongodb\\bin>NET stop MongoDB   (关闭服务)\n> d:\\mongodb\\bin>mongod --dbpath \"d:\\mongodb\\data\\db\" --logpath \"d:\\mongodb\\data\\log\\MongoDB.log\" --remove --serviceName \"MongoDB\"\n```\n>(删除，注意不是--install了)","source":"_posts/windows/Win10安装Mongodb，并配置成服务.md","raw":"title: Win10安装Mongodb，并配置成服务\nauthor: Tutu\ndate: 2019-10-14 09:49:07\ntags:\n  - win10\ncategory:\n  - mongodb\n---\n一：先去官网下载对应的版本;\n二：把bin文件夹拷贝到跟MongoDB目录，然后在根目录下建一个data文件夹存放日志跟数据库，然后data文件夹下建db跟log文件夹，并在log文件夹下新建一个日志文件mongolog.log\n如下图所示：\n\n![](https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920)![](https://user-gold-cdn.xitu.io/2019/8/6/16c6590c733468f9?w=567&h=244&f=png&s=14427)![](https://user-gold-cdn.xitu.io/2019/8/6/16c6590f19426cd6?w=635&h=226&f=png&s=14108)\n\n三：在mongodb根目录下见一个配置文件，内容如下：\n```txt\ndbpath=c:\\MongoDb\\data\\db\nlogpath=c:\\MongoDB\\data\\log\\mongolog.log\nlogappend=true\nauth=false\n```\n这就是mongodb.config文件的内容，auth默认为false，不起用密码验证\n\n四：powershell管理员模式定位到bin目录，然后运行\n\n```shell\n.\\mongod --config c:\\MongoDB\\mongodb.config --serviceName MongoDB --install\n```\n\n 这样，服务就安装完了，然后在服务那块右键启动服务，这样mongodb就算安装好了，接下来要设置密码\n\n五.当mongod.exe被关闭时，mongo.exe 就无法连接到数据库了，因此每次想使用mongodb数据库都要开启mongod.exe程序，所以比较麻烦，此时我们可以将MongoDB安装为windows服务\n\n　还是运行cmd，进入bin文件夹，执行下列命令\n```shell\n> d:\\mongodb\\bin>mongod --dbpath \"d:\\mongodb\\data\\db\" --logpath \"d:\\mongodb\\data\\log\\MongoDB.log\"\n  --install --serviceName \"MongoDB\"\n```\n\n\n这里MongoDB.log就是开始建立的日志文件，--serviceName \"MongoDB\" 服务名为MongoDB\n接着启动mongodb服务\n\n### 六.关闭服务和删除进程\n```shell\n> d:\\mongodb\\bin>NET stop MongoDB   (关闭服务)\n> d:\\mongodb\\bin>mongod --dbpath \"d:\\mongodb\\data\\db\" --logpath \"d:\\mongodb\\data\\log\\MongoDB.log\" --remove --serviceName \"MongoDB\"\n```\n>(删除，注意不是--install了)","slug":"windows/Win10安装Mongodb，并配置成服务","published":1,"updated":"2019-10-14T06:29:23.284Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wy000ugooo0fwd7ylb","content":"<p>一：先去官网下载对应的版本;<br>二：把bin文件夹拷贝到跟MongoDB目录，然后在根目录下建一个data文件夹存放日志跟数据库，然后data文件夹下建db跟log文件夹，并在log文件夹下新建一个日志文件mongolog.log<br>如下图所示：</p><a id=\"more\"></a>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920\" alt>)<img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c6590c733468f9?w=567&h=244&f=png&s=14427\" alt>)<img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c6590f19426cd6?w=635&h=226&f=png&s=14108\" alt></p>\n<p>三：在mongodb根目录下见一个配置文件，内容如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=c:\\MongoDb\\data\\db</span><br><span class=\"line\">logpath=c:\\MongoDB\\data\\log\\mongolog.log</span><br><span class=\"line\">logappend=true</span><br><span class=\"line\">auth=false</span><br></pre></td></tr></table></figure>\n\n<p>这就是mongodb.config文件的内容，auth默认为false，不起用密码验证</p>\n<p>四：powershell管理员模式定位到bin目录，然后运行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.\\mongod --config c:\\MongoDB\\mongodb.config --serviceName MongoDB --install</span><br></pre></td></tr></table></figure>\n\n<p> 这样，服务就安装完了，然后在服务那块右键启动服务，这样mongodb就算安装好了，接下来要设置密码</p>\n<p>五.当mongod.exe被关闭时，mongo.exe 就无法连接到数据库了，因此每次想使用mongodb数据库都要开启mongod.exe程序，所以比较麻烦，此时我们可以将MongoDB安装为windows服务</p>\n<p>　还是运行cmd，进入bin文件夹，执行下列命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;mongod --dbpath <span class=\"string\">\"d:\\mongodb\\data\\db\"</span> --logpath <span class=\"string\">\"d:\\mongodb\\data\\log\\MongoDB.log\"</span></span></span><br><span class=\"line\">  --install --serviceName \"MongoDB\"</span><br></pre></td></tr></table></figure>\n\n<p>这里MongoDB.log就是开始建立的日志文件，–serviceName “MongoDB” 服务名为MongoDB<br>接着启动mongodb服务</p>\n<h3 id=\"六-关闭服务和删除进程\"><a href=\"#六-关闭服务和删除进程\" class=\"headerlink\" title=\"六.关闭服务和删除进程\"></a>六.关闭服务和删除进程</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;NET stop MongoDB   (关闭服务)</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;mongod --dbpath <span class=\"string\">\"d:\\mongodb\\data\\db\"</span> --logpath <span class=\"string\">\"d:\\mongodb\\data\\log\\MongoDB.log\"</span> --remove --serviceName <span class=\"string\">\"MongoDB\"</span></span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(删除，注意不是–install了)</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>一：先去官网下载对应的版本;<br>二：把bin文件夹拷贝到跟MongoDB目录，然后在根目录下建一个data文件夹存放日志跟数据库，然后data文件夹下建db跟log文件夹，并在log文件夹下新建一个日志文件mongolog.log<br>如下图所示：</p>","more":"\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920\" alt>)<img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c6590c733468f9?w=567&h=244&f=png&s=14427\" alt>)<img src=\"https://user-gold-cdn.xitu.io/2019/8/6/16c6590f19426cd6?w=635&h=226&f=png&s=14108\" alt></p>\n<p>三：在mongodb根目录下见一个配置文件，内容如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=c:\\MongoDb\\data\\db</span><br><span class=\"line\">logpath=c:\\MongoDB\\data\\log\\mongolog.log</span><br><span class=\"line\">logappend=true</span><br><span class=\"line\">auth=false</span><br></pre></td></tr></table></figure>\n\n<p>这就是mongodb.config文件的内容，auth默认为false，不起用密码验证</p>\n<p>四：powershell管理员模式定位到bin目录，然后运行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.\\mongod --config c:\\MongoDB\\mongodb.config --serviceName MongoDB --install</span><br></pre></td></tr></table></figure>\n\n<p> 这样，服务就安装完了，然后在服务那块右键启动服务，这样mongodb就算安装好了，接下来要设置密码</p>\n<p>五.当mongod.exe被关闭时，mongo.exe 就无法连接到数据库了，因此每次想使用mongodb数据库都要开启mongod.exe程序，所以比较麻烦，此时我们可以将MongoDB安装为windows服务</p>\n<p>　还是运行cmd，进入bin文件夹，执行下列命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;mongod --dbpath <span class=\"string\">\"d:\\mongodb\\data\\db\"</span> --logpath <span class=\"string\">\"d:\\mongodb\\data\\log\\MongoDB.log\"</span></span></span><br><span class=\"line\">  --install --serviceName \"MongoDB\"</span><br></pre></td></tr></table></figure>\n\n<p>这里MongoDB.log就是开始建立的日志文件，–serviceName “MongoDB” 服务名为MongoDB<br>接着启动mongodb服务</p>\n<h3 id=\"六-关闭服务和删除进程\"><a href=\"#六-关闭服务和删除进程\" class=\"headerlink\" title=\"六.关闭服务和删除进程\"></a>六.关闭服务和删除进程</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;NET stop MongoDB   (关闭服务)</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> d:\\mongodb\\bin&gt;mongod --dbpath <span class=\"string\">\"d:\\mongodb\\data\\db\"</span> --logpath <span class=\"string\">\"d:\\mongodb\\data\\log\\MongoDB.log\"</span> --remove --serviceName <span class=\"string\">\"MongoDB\"</span></span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(删除，注意不是–install了)</p>\n</blockquote>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920","popularPost_tmp_gaData":{"updated":"Mon Oct 14 2019 14:29:23 GMT+0800 (GMT+08:00)","title":"Win10安装Mongodb，并配置成服务","path":"2019/10/14/windows/Win10安装Mongodb，并配置成服务/","eyeCatchImage":"https://user-gold-cdn.xitu.io/2019/8/6/16c659090f8ce681?w=516&h=304&f=png&s=17920","excerpt":null,"date":"2019-10-14T01:49:07.000Z","pv":0,"totalPV":0,"categories":"mongodb","tags":["win10"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"vscode 常用配置","author":"Tutu","date":"2019-10-14T06:48:00.000Z","_content":"Visual Studio Code，旨在为所有开发者提供一款专注于代码本身的免费的编辑器。Visual Studio Code的定位还是Editor，一个全功能的Editor，通过Editor反推微软的SDK，.NET(开源，跨平台)等产品铺路。它虽然是Visual Studio家族的一员，但它与传统VS IDE的功能没有太多交集\n\n| 插件名称 | 功能简述 |\n|----------|----------|\n|Auto Close Tag|自动闭合HTML标签|\n|Auto Import|Typescript自动import提示|\n| Auto Rename Tag | 修改HTML标签时，自动修改匹配的标签|\n|Beautify css/sass/scss/less  |css/sass/less格式化|\n|Better Comments  |编写更加人性化的注释|\n|Bookmarks  |添加行书签|\n|Color Picker  |拾色器|\n| Color Highlight |颜色值在代码中高亮显示|\n|HTML CSS Support  |css提示（支持vue）|\n| PostCss Sorting |css排序|\n| Sass |sass插件|\n| gitignore |.gitignore文件语法|\n| vetur |目前比较好的Vue语法高亮|\n| vscode-styled-jsx | vscode-styled-jsx styled-jsx高亮支持|\n|Chinese (Simplified) Language|中文插件|\n|IntelliSense for CSS class names in HTML |html中css提示|\n| Markdown Preview Enhanced|vscode markdown支持|\n| One Dark Pro|vscode主题颜色|\n| open in browser|html文件支持浏览器打开|\n| vscode-icons |vscode 文件文件夹小图标|\n|JavaScript (ES6) code snippets|es6代码提示功能|\n\n\n### 附个人配置文件\n```json\n{\n    // VScode主题配置\n    \"editor.tabSize\": 2,\n    \"editor.lineHeight\": 18,\n    \"editor.renderLineHighlight\": \"none\",\n    \"editor.renderWhitespace\": \"all\",\n    \"editor.fontFamily\": \"Courier New\",\n    \"editor.fontSize\": 14,\n    \"editor.cursorBlinking\": \"smooth\",\n    \"editor.multiCursorModifier\": \"ctrlCmd\",\n    \"editor.formatOnPaste\": true,\n    // 是否允许自定义的snippet片段提示,比如自定义的vue片段开启后就可以智能提示\n    \"editor.snippetSuggestions\": \"top\",\n    \"workbench.iconTheme\": \"vscode-icons\",\n    \"workbench.startupEditor\": \"none\",\n\n    \"files.trimTrailingWhitespace\": true,\n    // 在react的jsx中添加对emmet的支持\n    \"emmet.includeLanguages\": {\n        \"jsx-sublime-babel-tags\": \"javascriptreact\"\n    },\n    \"[cpp]\": {\n        \"editor.quickSuggestions\": true\n    },\n    \"[c]\": {\n        \"editor.quickSuggestions\": true\n    },\n    \"liveServer.settings.port\": 5555,\n    \"window.zoomLevel\": 1,\n    \"javascript.validate.enable\": false,\n    \"vetur.validation.template\": false,\n    \"tslint.autoFixOnSave\": false,\n    \"C_Cpp.errorSquiggles\": \"Disabled\",\n    \"javascript.implicitProjectConfig.experimentalDecorators\": true,\n    \"workbench.colorTheme\": \"One Dark Pro\",\n    \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\",\n    \"liveServer.settings.donotShowInfoMsg\": true,\n    \"[html]\": {\n        \"editor.defaultFormatter\": \"vscode.html-language-features\"\n    },\n    \"explorer.confirmDelete\": false\n}\n```","source":"_posts/开发工具/vscode 常用配置.md","raw":"title: vscode 常用配置\nauthor: Tutu\ntags:\n  - vscode\ncategories:\n  - vscode\ndate: 2019-10-14 14:48:00\n---\nVisual Studio Code，旨在为所有开发者提供一款专注于代码本身的免费的编辑器。Visual Studio Code的定位还是Editor，一个全功能的Editor，通过Editor反推微软的SDK，.NET(开源，跨平台)等产品铺路。它虽然是Visual Studio家族的一员，但它与传统VS IDE的功能没有太多交集\n\n| 插件名称 | 功能简述 |\n|----------|----------|\n|Auto Close Tag|自动闭合HTML标签|\n|Auto Import|Typescript自动import提示|\n| Auto Rename Tag | 修改HTML标签时，自动修改匹配的标签|\n|Beautify css/sass/scss/less  |css/sass/less格式化|\n|Better Comments  |编写更加人性化的注释|\n|Bookmarks  |添加行书签|\n|Color Picker  |拾色器|\n| Color Highlight |颜色值在代码中高亮显示|\n|HTML CSS Support  |css提示（支持vue）|\n| PostCss Sorting |css排序|\n| Sass |sass插件|\n| gitignore |.gitignore文件语法|\n| vetur |目前比较好的Vue语法高亮|\n| vscode-styled-jsx | vscode-styled-jsx styled-jsx高亮支持|\n|Chinese (Simplified) Language|中文插件|\n|IntelliSense for CSS class names in HTML |html中css提示|\n| Markdown Preview Enhanced|vscode markdown支持|\n| One Dark Pro|vscode主题颜色|\n| open in browser|html文件支持浏览器打开|\n| vscode-icons |vscode 文件文件夹小图标|\n|JavaScript (ES6) code snippets|es6代码提示功能|\n\n\n### 附个人配置文件\n```json\n{\n    // VScode主题配置\n    \"editor.tabSize\": 2,\n    \"editor.lineHeight\": 18,\n    \"editor.renderLineHighlight\": \"none\",\n    \"editor.renderWhitespace\": \"all\",\n    \"editor.fontFamily\": \"Courier New\",\n    \"editor.fontSize\": 14,\n    \"editor.cursorBlinking\": \"smooth\",\n    \"editor.multiCursorModifier\": \"ctrlCmd\",\n    \"editor.formatOnPaste\": true,\n    // 是否允许自定义的snippet片段提示,比如自定义的vue片段开启后就可以智能提示\n    \"editor.snippetSuggestions\": \"top\",\n    \"workbench.iconTheme\": \"vscode-icons\",\n    \"workbench.startupEditor\": \"none\",\n\n    \"files.trimTrailingWhitespace\": true,\n    // 在react的jsx中添加对emmet的支持\n    \"emmet.includeLanguages\": {\n        \"jsx-sublime-babel-tags\": \"javascriptreact\"\n    },\n    \"[cpp]\": {\n        \"editor.quickSuggestions\": true\n    },\n    \"[c]\": {\n        \"editor.quickSuggestions\": true\n    },\n    \"liveServer.settings.port\": 5555,\n    \"window.zoomLevel\": 1,\n    \"javascript.validate.enable\": false,\n    \"vetur.validation.template\": false,\n    \"tslint.autoFixOnSave\": false,\n    \"C_Cpp.errorSquiggles\": \"Disabled\",\n    \"javascript.implicitProjectConfig.experimentalDecorators\": true,\n    \"workbench.colorTheme\": \"One Dark Pro\",\n    \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\",\n    \"liveServer.settings.donotShowInfoMsg\": true,\n    \"[html]\": {\n        \"editor.defaultFormatter\": \"vscode.html-language-features\"\n    },\n    \"explorer.confirmDelete\": false\n}\n```","slug":"开发工具/vscode 常用配置","published":1,"updated":"2019-10-17T09:22:03.448Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318wz000xgoooiwyx39oi","content":"<p>Visual Studio Code，旨在为所有开发者提供一款专注于代码本身的免费的编辑器。Visual Studio Code的定位还是Editor，一个全功能的Editor，通过Editor反推微软的SDK，.NET(开源，跨平台)等产品铺路。它虽然是Visual Studio家族的一员，但它与传统VS IDE的功能没有太多交集</p><a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th>插件名称</th>\n<th>功能简述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Auto Close Tag</td>\n<td>自动闭合HTML标签</td>\n</tr>\n<tr>\n<td>Auto Import</td>\n<td>Typescript自动import提示</td>\n</tr>\n<tr>\n<td>Auto Rename Tag</td>\n<td>修改HTML标签时，自动修改匹配的标签</td>\n</tr>\n<tr>\n<td>Beautify css/sass/scss/less</td>\n<td>css/sass/less格式化</td>\n</tr>\n<tr>\n<td>Better Comments</td>\n<td>编写更加人性化的注释</td>\n</tr>\n<tr>\n<td>Bookmarks</td>\n<td>添加行书签</td>\n</tr>\n<tr>\n<td>Color Picker</td>\n<td>拾色器</td>\n</tr>\n<tr>\n<td>Color Highlight</td>\n<td>颜色值在代码中高亮显示</td>\n</tr>\n<tr>\n<td>HTML CSS Support</td>\n<td>css提示（支持vue）</td>\n</tr>\n<tr>\n<td>PostCss Sorting</td>\n<td>css排序</td>\n</tr>\n<tr>\n<td>Sass</td>\n<td>sass插件</td>\n</tr>\n<tr>\n<td>gitignore</td>\n<td>.gitignore文件语法</td>\n</tr>\n<tr>\n<td>vetur</td>\n<td>目前比较好的Vue语法高亮</td>\n</tr>\n<tr>\n<td>vscode-styled-jsx</td>\n<td>vscode-styled-jsx styled-jsx高亮支持</td>\n</tr>\n<tr>\n<td>Chinese (Simplified) Language</td>\n<td>中文插件</td>\n</tr>\n<tr>\n<td>IntelliSense for CSS class names in HTML</td>\n<td>html中css提示</td>\n</tr>\n<tr>\n<td>Markdown Preview Enhanced</td>\n<td>vscode markdown支持</td>\n</tr>\n<tr>\n<td>One Dark Pro</td>\n<td>vscode主题颜色</td>\n</tr>\n<tr>\n<td>open in browser</td>\n<td>html文件支持浏览器打开</td>\n</tr>\n<tr>\n<td>vscode-icons</td>\n<td>vscode 文件文件夹小图标</td>\n</tr>\n<tr>\n<td>JavaScript (ES6) code snippets</td>\n<td>es6代码提示功能</td>\n</tr>\n</tbody></table>\n<h3 id=\"附个人配置文件\"><a href=\"#附个人配置文件\" class=\"headerlink\" title=\"附个人配置文件\"></a>附个人配置文件</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    // VScode主题配置</span><br><span class=\"line\">    \"editor.tabSize\": 2,</span><br><span class=\"line\">    \"editor.lineHeight\": 18,</span><br><span class=\"line\">    \"editor.renderLineHighlight\": \"none\",</span><br><span class=\"line\">    \"editor.renderWhitespace\": \"all\",</span><br><span class=\"line\">    \"editor.fontFamily\": \"Courier New\",</span><br><span class=\"line\">    \"editor.fontSize\": 14,</span><br><span class=\"line\">    \"editor.cursorBlinking\": \"smooth\",</span><br><span class=\"line\">    \"editor.multiCursorModifier\": \"ctrlCmd\",</span><br><span class=\"line\">    \"editor.formatOnPaste\": true,</span><br><span class=\"line\">    // 是否允许自定义的snippet片段提示,比如自定义的vue片段开启后就可以智能提示</span><br><span class=\"line\">    \"editor.snippetSuggestions\": \"top\",</span><br><span class=\"line\">    \"workbench.iconTheme\": \"vscode-icons\",</span><br><span class=\"line\">    \"workbench.startupEditor\": \"none\",</span><br><span class=\"line\"></span><br><span class=\"line\">    \"files.trimTrailingWhitespace\": true,</span><br><span class=\"line\">    // 在react的jsx中添加对emmet的支持</span><br><span class=\"line\">    \"emmet.includeLanguages\": &#123;</span><br><span class=\"line\">        \"jsx-sublime-babel-tags\": \"javascriptreact\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"[cpp]\": &#123;</span><br><span class=\"line\">        \"editor.quickSuggestions\": true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"[c]\": &#123;</span><br><span class=\"line\">        \"editor.quickSuggestions\": true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"liveServer.settings.port\": 5555,</span><br><span class=\"line\">    \"window.zoomLevel\": 1,</span><br><span class=\"line\">    \"javascript.validate.enable\": false,</span><br><span class=\"line\">    \"vetur.validation.template\": false,</span><br><span class=\"line\">    \"tslint.autoFixOnSave\": false,</span><br><span class=\"line\">    \"C_Cpp.errorSquiggles\": \"Disabled\",</span><br><span class=\"line\">    \"javascript.implicitProjectConfig.experimentalDecorators\": true,</span><br><span class=\"line\">    \"workbench.colorTheme\": \"One Dark Pro\",</span><br><span class=\"line\">    \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\",</span><br><span class=\"line\">    \"liveServer.settings.donotShowInfoMsg\": true,</span><br><span class=\"line\">    \"[html]\": &#123;</span><br><span class=\"line\">        \"editor.defaultFormatter\": \"vscode.html-language-features\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"explorer.confirmDelete\": false</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>Visual Studio Code，旨在为所有开发者提供一款专注于代码本身的免费的编辑器。Visual Studio Code的定位还是Editor，一个全功能的Editor，通过Editor反推微软的SDK，.NET(开源，跨平台)等产品铺路。它虽然是Visual Studio家族的一员，但它与传统VS IDE的功能没有太多交集</p>","more":"\n<table>\n<thead>\n<tr>\n<th>插件名称</th>\n<th>功能简述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Auto Close Tag</td>\n<td>自动闭合HTML标签</td>\n</tr>\n<tr>\n<td>Auto Import</td>\n<td>Typescript自动import提示</td>\n</tr>\n<tr>\n<td>Auto Rename Tag</td>\n<td>修改HTML标签时，自动修改匹配的标签</td>\n</tr>\n<tr>\n<td>Beautify css/sass/scss/less</td>\n<td>css/sass/less格式化</td>\n</tr>\n<tr>\n<td>Better Comments</td>\n<td>编写更加人性化的注释</td>\n</tr>\n<tr>\n<td>Bookmarks</td>\n<td>添加行书签</td>\n</tr>\n<tr>\n<td>Color Picker</td>\n<td>拾色器</td>\n</tr>\n<tr>\n<td>Color Highlight</td>\n<td>颜色值在代码中高亮显示</td>\n</tr>\n<tr>\n<td>HTML CSS Support</td>\n<td>css提示（支持vue）</td>\n</tr>\n<tr>\n<td>PostCss Sorting</td>\n<td>css排序</td>\n</tr>\n<tr>\n<td>Sass</td>\n<td>sass插件</td>\n</tr>\n<tr>\n<td>gitignore</td>\n<td>.gitignore文件语法</td>\n</tr>\n<tr>\n<td>vetur</td>\n<td>目前比较好的Vue语法高亮</td>\n</tr>\n<tr>\n<td>vscode-styled-jsx</td>\n<td>vscode-styled-jsx styled-jsx高亮支持</td>\n</tr>\n<tr>\n<td>Chinese (Simplified) Language</td>\n<td>中文插件</td>\n</tr>\n<tr>\n<td>IntelliSense for CSS class names in HTML</td>\n<td>html中css提示</td>\n</tr>\n<tr>\n<td>Markdown Preview Enhanced</td>\n<td>vscode markdown支持</td>\n</tr>\n<tr>\n<td>One Dark Pro</td>\n<td>vscode主题颜色</td>\n</tr>\n<tr>\n<td>open in browser</td>\n<td>html文件支持浏览器打开</td>\n</tr>\n<tr>\n<td>vscode-icons</td>\n<td>vscode 文件文件夹小图标</td>\n</tr>\n<tr>\n<td>JavaScript (ES6) code snippets</td>\n<td>es6代码提示功能</td>\n</tr>\n</tbody></table>\n<h3 id=\"附个人配置文件\"><a href=\"#附个人配置文件\" class=\"headerlink\" title=\"附个人配置文件\"></a>附个人配置文件</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    // VScode主题配置</span><br><span class=\"line\">    \"editor.tabSize\": 2,</span><br><span class=\"line\">    \"editor.lineHeight\": 18,</span><br><span class=\"line\">    \"editor.renderLineHighlight\": \"none\",</span><br><span class=\"line\">    \"editor.renderWhitespace\": \"all\",</span><br><span class=\"line\">    \"editor.fontFamily\": \"Courier New\",</span><br><span class=\"line\">    \"editor.fontSize\": 14,</span><br><span class=\"line\">    \"editor.cursorBlinking\": \"smooth\",</span><br><span class=\"line\">    \"editor.multiCursorModifier\": \"ctrlCmd\",</span><br><span class=\"line\">    \"editor.formatOnPaste\": true,</span><br><span class=\"line\">    // 是否允许自定义的snippet片段提示,比如自定义的vue片段开启后就可以智能提示</span><br><span class=\"line\">    \"editor.snippetSuggestions\": \"top\",</span><br><span class=\"line\">    \"workbench.iconTheme\": \"vscode-icons\",</span><br><span class=\"line\">    \"workbench.startupEditor\": \"none\",</span><br><span class=\"line\"></span><br><span class=\"line\">    \"files.trimTrailingWhitespace\": true,</span><br><span class=\"line\">    // 在react的jsx中添加对emmet的支持</span><br><span class=\"line\">    \"emmet.includeLanguages\": &#123;</span><br><span class=\"line\">        \"jsx-sublime-babel-tags\": \"javascriptreact\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"[cpp]\": &#123;</span><br><span class=\"line\">        \"editor.quickSuggestions\": true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"[c]\": &#123;</span><br><span class=\"line\">        \"editor.quickSuggestions\": true</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"liveServer.settings.port\": 5555,</span><br><span class=\"line\">    \"window.zoomLevel\": 1,</span><br><span class=\"line\">    \"javascript.validate.enable\": false,</span><br><span class=\"line\">    \"vetur.validation.template\": false,</span><br><span class=\"line\">    \"tslint.autoFixOnSave\": false,</span><br><span class=\"line\">    \"C_Cpp.errorSquiggles\": \"Disabled\",</span><br><span class=\"line\">    \"javascript.implicitProjectConfig.experimentalDecorators\": true,</span><br><span class=\"line\">    \"workbench.colorTheme\": \"One Dark Pro\",</span><br><span class=\"line\">    \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\",</span><br><span class=\"line\">    \"liveServer.settings.donotShowInfoMsg\": true,</span><br><span class=\"line\">    \"[html]\": &#123;</span><br><span class=\"line\">        \"editor.defaultFormatter\": \"vscode.html-language-features\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    \"explorer.confirmDelete\": false</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 17:22:03 GMT+0800 (GMT+08:00)","title":"vscode 常用配置","path":"2019/10/14/开发工具/vscode 常用配置/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T06:48:00.000Z","pv":0,"totalPV":0,"categories":"vscode","tags":["vscode"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"SSH 上传下载文件","author":"Tutu","date":"2019-10-14T01:46:01.000Z","_content":"### 1、上传本地文件到服务器\n```shell\n    scp /path/filename username@servername:/path/\n```\n例如scp /var/www/test.php root@192.168.0.101:/var/www/ 把本机/var/www/目录下的test.php文件上传到192.168.0.101这台服务器上的/var/www/目录中\n\n### 2、从服务器上下载文件\n下载文件我们经常使用wget，但是如果没有http服务，如何从服务器上下载文件呢？\n```shell\nscp username@servername:/path/filename /var/www/local_dir（本地目录）\n```\n例如scp root@192.168.0.101:/var/www/test.txt 把192.168.0.101上的/var/www/test.txt 的文件下载到/var/www/local_dir（本地目录）\n\n### 3、从服务器下载整个目录\n```shell\nscp -r username@servername:/var/www/remote_dir/（远程目录） /var/www/local_dir（本地目录）\n```\n例如:scp -r root@192.168.0.101:/var/www/test /var/www/\n\n### 4、上传目录到服务器\n```shell\nscp -r local_dir username@servername:remote_dir\n```\n例如：scp -r ui root@192.168.8.88:/var/share/nginx/ (ui 桌面文件，/var/share/nginx/远程文件 );\n>上传的时候应该断开连接SSH 会提示输入密码","source":"_posts/终端/SSH 上传下载文件.md","raw":"title: SSH 上传下载文件\nauthor: Tutu\ndate: 2019-10-14 09:46:01\ntags:\n  - shell\ncategory:\n  - shell\n---\n### 1、上传本地文件到服务器\n```shell\n    scp /path/filename username@servername:/path/\n```\n例如scp /var/www/test.php root@192.168.0.101:/var/www/ 把本机/var/www/目录下的test.php文件上传到192.168.0.101这台服务器上的/var/www/目录中\n\n### 2、从服务器上下载文件\n下载文件我们经常使用wget，但是如果没有http服务，如何从服务器上下载文件呢？\n```shell\nscp username@servername:/path/filename /var/www/local_dir（本地目录）\n```\n例如scp root@192.168.0.101:/var/www/test.txt 把192.168.0.101上的/var/www/test.txt 的文件下载到/var/www/local_dir（本地目录）\n\n### 3、从服务器下载整个目录\n```shell\nscp -r username@servername:/var/www/remote_dir/（远程目录） /var/www/local_dir（本地目录）\n```\n例如:scp -r root@192.168.0.101:/var/www/test /var/www/\n\n### 4、上传目录到服务器\n```shell\nscp -r local_dir username@servername:remote_dir\n```\n例如：scp -r ui root@192.168.8.88:/var/share/nginx/ (ui 桌面文件，/var/share/nginx/远程文件 );\n>上传的时候应该断开连接SSH 会提示输入密码","slug":"终端/SSH 上传下载文件","published":1,"updated":"2019-10-17T09:23:27.073Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318x00011gooo303scjb1","content":"<h3 id=\"1、上传本地文件到服务器\"><a href=\"#1、上传本地文件到服务器\" class=\"headerlink\" title=\"1、上传本地文件到服务器\"></a>1、上传本地文件到服务器</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp /path/filename username@servername:/path/</span><br></pre></td></tr></table></figure><a id=\"more\"></a>\n\n<p>例如scp /var/www/test.php <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/ 把本机/var/www/目录下的test.php文件上传到192.168.0.101这台服务器上的/var/www/目录中</p>\n<h3 id=\"2、从服务器上下载文件\"><a href=\"#2、从服务器上下载文件\" class=\"headerlink\" title=\"2、从服务器上下载文件\"></a>2、从服务器上下载文件</h3><p>下载文件我们经常使用wget，但是如果没有http服务，如何从服务器上下载文件呢？</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp username@servername:/path/filename /var/www/local_dir（本地目录）</span><br></pre></td></tr></table></figure>\n\n<p>例如scp <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/test.txt 把192.168.0.101上的/var/www/test.txt 的文件下载到/var/www/local_dir（本地目录）</p>\n<h3 id=\"3、从服务器下载整个目录\"><a href=\"#3、从服务器下载整个目录\" class=\"headerlink\" title=\"3、从服务器下载整个目录\"></a>3、从服务器下载整个目录</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r username@servername:/var/www/remote_dir/（远程目录） /var/www/local_dir（本地目录）</span><br></pre></td></tr></table></figure>\n\n<p>例如:scp -r <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/test /var/www/</p>\n<h3 id=\"4、上传目录到服务器\"><a href=\"#4、上传目录到服务器\" class=\"headerlink\" title=\"4、上传目录到服务器\"></a>4、上传目录到服务器</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r local_dir username@servername:remote_dir</span><br></pre></td></tr></table></figure>\n\n<p>例如：scp -r ui <a href=\"mailto:root@192.168.8.88\" target=\"_blank\" rel=\"noopener\">root@192.168.8.88</a>:/var/share/nginx/ (ui 桌面文件，/var/share/nginx/远程文件 );</p>\n<blockquote>\n<p>上传的时候应该断开连接SSH 会提示输入密码</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h3 id=\"1、上传本地文件到服务器\"><a href=\"#1、上传本地文件到服务器\" class=\"headerlink\" title=\"1、上传本地文件到服务器\"></a>1、上传本地文件到服务器</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp /path/filename username@servername:/path/</span><br></pre></td></tr></table></figure>","more":"\n\n<p>例如scp /var/www/test.php <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/ 把本机/var/www/目录下的test.php文件上传到192.168.0.101这台服务器上的/var/www/目录中</p>\n<h3 id=\"2、从服务器上下载文件\"><a href=\"#2、从服务器上下载文件\" class=\"headerlink\" title=\"2、从服务器上下载文件\"></a>2、从服务器上下载文件</h3><p>下载文件我们经常使用wget，但是如果没有http服务，如何从服务器上下载文件呢？</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp username@servername:/path/filename /var/www/local_dir（本地目录）</span><br></pre></td></tr></table></figure>\n\n<p>例如scp <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/test.txt 把192.168.0.101上的/var/www/test.txt 的文件下载到/var/www/local_dir（本地目录）</p>\n<h3 id=\"3、从服务器下载整个目录\"><a href=\"#3、从服务器下载整个目录\" class=\"headerlink\" title=\"3、从服务器下载整个目录\"></a>3、从服务器下载整个目录</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r username@servername:/var/www/remote_dir/（远程目录） /var/www/local_dir（本地目录）</span><br></pre></td></tr></table></figure>\n\n<p>例如:scp -r <a href=\"mailto:root@192.168.0.101\" target=\"_blank\" rel=\"noopener\">root@192.168.0.101</a>:/var/www/test /var/www/</p>\n<h3 id=\"4、上传目录到服务器\"><a href=\"#4、上传目录到服务器\" class=\"headerlink\" title=\"4、上传目录到服务器\"></a>4、上传目录到服务器</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r local_dir username@servername:remote_dir</span><br></pre></td></tr></table></figure>\n\n<p>例如：scp -r ui <a href=\"mailto:root@192.168.8.88\" target=\"_blank\" rel=\"noopener\">root@192.168.8.88</a>:/var/share/nginx/ (ui 桌面文件，/var/share/nginx/远程文件 );</p>\n<blockquote>\n<p>上传的时候应该断开连接SSH 会提示输入密码</p>\n</blockquote>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 17:23:27 GMT+0800 (GMT+08:00)","title":"SSH 上传下载文件","path":"2019/10/14/终端/SSH 上传下载文件/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T01:46:01.000Z","pv":0,"totalPV":0,"categories":"shell","tags":["shell"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"shell中curl 的用法","author":"Tutu","date":"2019-10-14T06:32:00.000Z","_content":"curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。\n\n它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。\n\n### 1.不带有任何参数时，curl 就是发出 GET 请求。\n```shell\ncurl https://www.example.com\n```\n![](https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212)\n\n### 2.-b参数用来向服务器发送 Cookie。\n```shell\n$ curl -b 'foo=bar' https://google.com\n```\n上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。\n```shell\n$ curl -b 'foo1=bar' -b 'foo2=baz' https://google.com\n```\n上面命令发送两个 Cookie。\n```shell\n curl -b cookies.txt https://www.google.com\n ```\n 上面命令读取本地文件cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。\n\n\n  ### -c\n  参数将服务器设置的 Cookie 写入一个文件。\n ```shell\n $ curl -c cookies.txt https://www.google.com\n ```\n 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。\n  ### -d\n  参数用于发送 POST 请求的数据体。\n ```shell\n$ curl -d 'login=emma＆password=123'-X POST https://google.com/login\n# 或者\n$ curl -d 'login=emma' -d 'password=123' -X POST  https://google.com/login\n```\n使用-d参数以后，HTTP 请求会自动加上标头Content-Type : application/x-www-form-urlencoded。并且会自动将请求转为 POST 方法，因此可以省略-X POST。\n\n-d参数可以读取本地文本文件的数据，向服务器发送。\n```shell\n$ curl -d '@data.txt' https://google.com/login\n```\n上面命令读取data.txt文件的内容，作为数据体向服务器发送。","source":"_posts/终端/shell中curl 的用法.md","raw":"title: shell中curl 的用法\nauthor: Tutu\ntags:\n  - shell\ncategories:\n  - shell\ndate: 2019-10-14 14:32:00\n---\ncurl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。\n\n它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。\n\n### 1.不带有任何参数时，curl 就是发出 GET 请求。\n```shell\ncurl https://www.example.com\n```\n![](https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212)\n\n### 2.-b参数用来向服务器发送 Cookie。\n```shell\n$ curl -b 'foo=bar' https://google.com\n```\n上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。\n```shell\n$ curl -b 'foo1=bar' -b 'foo2=baz' https://google.com\n```\n上面命令发送两个 Cookie。\n```shell\n curl -b cookies.txt https://www.google.com\n ```\n 上面命令读取本地文件cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。\n\n\n  ### -c\n  参数将服务器设置的 Cookie 写入一个文件。\n ```shell\n $ curl -c cookies.txt https://www.google.com\n ```\n 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。\n  ### -d\n  参数用于发送 POST 请求的数据体。\n ```shell\n$ curl -d 'login=emma＆password=123'-X POST https://google.com/login\n# 或者\n$ curl -d 'login=emma' -d 'password=123' -X POST  https://google.com/login\n```\n使用-d参数以后，HTTP 请求会自动加上标头Content-Type : application/x-www-form-urlencoded。并且会自动将请求转为 POST 方法，因此可以省略-X POST。\n\n-d参数可以读取本地文本文件的数据，向服务器发送。\n```shell\n$ curl -d '@data.txt' https://google.com/login\n```\n上面命令读取data.txt文件的内容，作为数据体向服务器发送。","slug":"终端/shell中curl 的用法","published":1,"updated":"2019-10-17T09:23:17.947Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318x10014goooo7qqwxvj","content":"<p>curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。</p><a id=\"more\"></a>\n<p>它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。</p>\n<h3 id=\"1-不带有任何参数时，curl-就是发出-GET-请求。\"><a href=\"#1-不带有任何参数时，curl-就是发出-GET-请求。\" class=\"headerlink\" title=\"1.不带有任何参数时，curl 就是发出 GET 请求。\"></a>1.不带有任何参数时，curl 就是发出 GET 请求。</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://www.example.com</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212\" alt></p>\n<h3 id=\"2-b参数用来向服务器发送-Cookie。\"><a href=\"#2-b参数用来向服务器发送-Cookie。\" class=\"headerlink\" title=\"2.-b参数用来向服务器发送 Cookie。\"></a>2.-b参数用来向服务器发送 Cookie。</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -b <span class=\"string\">'foo=bar'</span> https://google.com</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -b <span class=\"string\">'foo1=bar'</span> -b <span class=\"string\">'foo2=baz'</span> https://google.com</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令发送两个 Cookie。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -b cookies.txt https://www.google.com</span><br></pre></td></tr></table></figure>\n\n<p> 上面命令读取本地文件cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。</p>\n<h3 id=\"c\"><a href=\"#c\" class=\"headerlink\" title=\"-c\"></a>-c</h3><p>  参数将服务器设置的 Cookie 写入一个文件。<br> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -c cookies.txt https://www.google.com</span></span><br></pre></td></tr></table></figure></p>\n<p> 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。</p>\n<h3 id=\"d\"><a href=\"#d\" class=\"headerlink\" title=\"-d\"></a>-d</h3><p>  参数用于发送 POST 请求的数据体。<br> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'login=emma＆password=123'</span>-X POST https://google.com/login</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 或者</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'login=emma'</span> -d <span class=\"string\">'password=123'</span> -X POST  https://google.com/login</span></span><br></pre></td></tr></table></figure></p>\n<p>使用-d参数以后，HTTP 请求会自动加上标头Content-Type : application/x-www-form-urlencoded。并且会自动将请求转为 POST 方法，因此可以省略-X POST。</p>\n<p>-d参数可以读取本地文本文件的数据，向服务器发送。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'@data.txt'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令读取data.txt文件的内容，作为数据体向服务器发送。</p>\n","site":{"data":{}},"excerpt":"<p>curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。</p>","more":"\n<p>它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。</p>\n<h3 id=\"1-不带有任何参数时，curl-就是发出-GET-请求。\"><a href=\"#1-不带有任何参数时，curl-就是发出-GET-请求。\" class=\"headerlink\" title=\"1.不带有任何参数时，curl 就是发出 GET 请求。\"></a>1.不带有任何参数时，curl 就是发出 GET 请求。</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://www.example.com</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212\" alt></p>\n<h3 id=\"2-b参数用来向服务器发送-Cookie。\"><a href=\"#2-b参数用来向服务器发送-Cookie。\" class=\"headerlink\" title=\"2.-b参数用来向服务器发送 Cookie。\"></a>2.-b参数用来向服务器发送 Cookie。</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -b <span class=\"string\">'foo=bar'</span> https://google.com</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -b <span class=\"string\">'foo1=bar'</span> -b <span class=\"string\">'foo2=baz'</span> https://google.com</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令发送两个 Cookie。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -b cookies.txt https://www.google.com</span><br></pre></td></tr></table></figure>\n\n<p> 上面命令读取本地文件cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。</p>\n<h3 id=\"c\"><a href=\"#c\" class=\"headerlink\" title=\"-c\"></a>-c</h3><p>  参数将服务器设置的 Cookie 写入一个文件。<br> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -c cookies.txt https://www.google.com</span></span><br></pre></td></tr></table></figure></p>\n<p> 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。</p>\n<h3 id=\"d\"><a href=\"#d\" class=\"headerlink\" title=\"-d\"></a>-d</h3><p>  参数用于发送 POST 请求的数据体。<br> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'login=emma＆password=123'</span>-X POST https://google.com/login</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 或者</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'login=emma'</span> -d <span class=\"string\">'password=123'</span> -X POST  https://google.com/login</span></span><br></pre></td></tr></table></figure></p>\n<p>使用-d参数以后，HTTP 请求会自动加上标头Content-Type : application/x-www-form-urlencoded。并且会自动将请求转为 POST 方法，因此可以省略-X POST。</p>\n<p>-d参数可以读取本地文本文件的数据，向服务器发送。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl -d <span class=\"string\">'@data.txt'</span> https://google.com/login</span></span><br></pre></td></tr></table></figure>\n\n<p>上面命令读取data.txt文件的内容，作为数据体向服务器发送。</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212","popularPost_tmp_gaData":{"updated":"Thu Oct 17 2019 17:23:17 GMT+0800 (GMT+08:00)","title":"shell中curl 的用法","path":"2019/10/14/终端/shell中curl 的用法/","eyeCatchImage":"https://user-gold-cdn.xitu.io/2019/9/19/16d495a71b078a30?w=1414&h=216&f=png&s=70212","excerpt":null,"date":"2019-10-14T06:32:00.000Z","pv":0,"totalPV":0,"categories":"shell","tags":["shell"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"vim基础教程","date":"2019-10-22T08:32:10.000Z","_content":"### 1.保存文件\n|命令|解释|\n|--|--|\n|:w 或者 :write|保存正在工作状态的文件|\n|:up 或者:update | 保存正在工作状态的文件 |   up在windows下面不生效 |\n| :w newfile.txt | 另存为文件 newfile.txt |\n| :up newfile.txt | 另存为newfile.txt |\n\n### 2.关闭文件\n|命令|解释|\n|--|--|\n|:x |保存当前文件再退出 |\n| :wq |保存当前文件再退出 |\n| :q!  | 不保存文件直接退出|\n\n### 3.光标移动：\n|命令|解释|\n|-- | -- |\n|h：| 向左移动|\n|j：| 向下移动|\n|k：| 向上移动|\n|l：| 向右移动|\n\n### 4.翻一页/半页\n|命令|解释|\n|--|--|\n|CTRL+f|向下翻一页\n|CTRL+b|向上翻一页\n|CTRL+d|向下翻半页\n|CTRL+u|向上翻半页\n\n### 5.光标一次移动一个单词的长度\n|命令|解释|\n|--|--|\n|w：|移动到下一个单词的起始处(代表单词world意思)|\n|W：|移动到下一个单词的起始处\n\n**与之相反的两个操作时b和B**\n\nb：移动到前一个单词的起始处\nB：移动到前一个单词的起始处（b和B的区别与w和W是同理的）\n\n### 6.光标在一行内的移动\n|命令|解释|\n|--- |--|\n| 0(零) | 移动到行首|\n| $ |移动到行未|\n| ^ |移动到当前行的第一个非空字符处 |\n| g_ | 移动到当前行的最后一个非空格字符处 |\n| gg | 移动到首行|\n| G   | 移动末行 |\n| ngg | n表示数子 移动到n行|\n\n### 7.插入,追加字符\n|命令|解释|\n|--- |--|\n|i|在当前光标位置插入字符  |\n|I|光标跳至行首 |\n|o|在当前行往下插入新的一空行 |\n|O|在当前行往上插入新的一空行 |\n|a|在当前光标后追加字符  |\n|A|定位到行末|\n|R|替换当前光标的字符直到推出插入模式(按ESC)|\n|:r filename|把文件名为filename的内容插入当当前行的下一行\n|r! command|把command返回的结果插入到当前行的下一行\n\n### 8.拷贝一个单词、行首、行尾、整行\n|命令|解释|\n|--- |--|\n|yw|拷贝当前的一个单词\n|y0|拷贝的范围是当前光标处到行首\n|y$|拷贝的范围是当前光标处到行尾\n|yy|拷贝当前行\n|nyy|从当前行开始拷贝n行（这里的n是数字）\n\n**拷贝完后用p就可以粘贴了**\n\n### 9.删除一个单词，行首、行尾、整行\n|命令|解释|\n|--- |--|\n|x | 删除当前光标处字符<br>(严格来说x不属于插入，因为你还要按i才能插入)|\n|dw|删除当前光标出一个单词   |\n|d0|删除光标处到行首的字符  |\n|d$|删除光标处到行尾的字符  |\n|dd|删除整行  |\n|ndd|删除n行(同样n代表数字) |\n\n### 10.查找字符串\n|命令|解释|\n|--- |-------|\n|/ward | 向光标之下寻找一个名称为 word 的字符串ward ，按下回车，可以看到vim把光标移动到该字符处，n（小写）查看下一个匹配，N(大写）查看上一个匹配|\n|?word | 向光标之上寻找一个名称为word的字符串;|\n|:1,$s/word1/word2/g 或 :%s/word1/word2/g | 从第一行到最后一行寻找word1取代为 word2 |\n|:1,$s/word1/word2/gc 或 :%s/word1/word2/gc|从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)|\n>查找到某个匹配后按n跳至下一个 搜索后，取消高亮，:nohlsearch,也可以:set nohlsearch,可以简写成noh或set-noh\n\n### 11.选择\n|命令|解释|\n|--- |-------|\n|全选(高亮显示)| 按esc后，然后ggvG或者ggVG |\n|全部复制 | 按esc后，然后ggyG |\n|全部删除 | 按esc后，然后dG |\n\n","source":"_posts/终端/vim基础教程.md","raw":"---\ntitle: vim基础教程\ndate: 2019-10-22 16:32:10\ntags:\n  - ssh\ncategory:\n - \"终端\"\n---\n### 1.保存文件\n|命令|解释|\n|--|--|\n|:w 或者 :write|保存正在工作状态的文件|\n|:up 或者:update | 保存正在工作状态的文件 |   up在windows下面不生效 |\n| :w newfile.txt | 另存为文件 newfile.txt |\n| :up newfile.txt | 另存为newfile.txt |\n\n### 2.关闭文件\n|命令|解释|\n|--|--|\n|:x |保存当前文件再退出 |\n| :wq |保存当前文件再退出 |\n| :q!  | 不保存文件直接退出|\n\n### 3.光标移动：\n|命令|解释|\n|-- | -- |\n|h：| 向左移动|\n|j：| 向下移动|\n|k：| 向上移动|\n|l：| 向右移动|\n\n### 4.翻一页/半页\n|命令|解释|\n|--|--|\n|CTRL+f|向下翻一页\n|CTRL+b|向上翻一页\n|CTRL+d|向下翻半页\n|CTRL+u|向上翻半页\n\n### 5.光标一次移动一个单词的长度\n|命令|解释|\n|--|--|\n|w：|移动到下一个单词的起始处(代表单词world意思)|\n|W：|移动到下一个单词的起始处\n\n**与之相反的两个操作时b和B**\n\nb：移动到前一个单词的起始处\nB：移动到前一个单词的起始处（b和B的区别与w和W是同理的）\n\n### 6.光标在一行内的移动\n|命令|解释|\n|--- |--|\n| 0(零) | 移动到行首|\n| $ |移动到行未|\n| ^ |移动到当前行的第一个非空字符处 |\n| g_ | 移动到当前行的最后一个非空格字符处 |\n| gg | 移动到首行|\n| G   | 移动末行 |\n| ngg | n表示数子 移动到n行|\n\n### 7.插入,追加字符\n|命令|解释|\n|--- |--|\n|i|在当前光标位置插入字符  |\n|I|光标跳至行首 |\n|o|在当前行往下插入新的一空行 |\n|O|在当前行往上插入新的一空行 |\n|a|在当前光标后追加字符  |\n|A|定位到行末|\n|R|替换当前光标的字符直到推出插入模式(按ESC)|\n|:r filename|把文件名为filename的内容插入当当前行的下一行\n|r! command|把command返回的结果插入到当前行的下一行\n\n### 8.拷贝一个单词、行首、行尾、整行\n|命令|解释|\n|--- |--|\n|yw|拷贝当前的一个单词\n|y0|拷贝的范围是当前光标处到行首\n|y$|拷贝的范围是当前光标处到行尾\n|yy|拷贝当前行\n|nyy|从当前行开始拷贝n行（这里的n是数字）\n\n**拷贝完后用p就可以粘贴了**\n\n### 9.删除一个单词，行首、行尾、整行\n|命令|解释|\n|--- |--|\n|x | 删除当前光标处字符<br>(严格来说x不属于插入，因为你还要按i才能插入)|\n|dw|删除当前光标出一个单词   |\n|d0|删除光标处到行首的字符  |\n|d$|删除光标处到行尾的字符  |\n|dd|删除整行  |\n|ndd|删除n行(同样n代表数字) |\n\n### 10.查找字符串\n|命令|解释|\n|--- |-------|\n|/ward | 向光标之下寻找一个名称为 word 的字符串ward ，按下回车，可以看到vim把光标移动到该字符处，n（小写）查看下一个匹配，N(大写）查看上一个匹配|\n|?word | 向光标之上寻找一个名称为word的字符串;|\n|:1,$s/word1/word2/g 或 :%s/word1/word2/g | 从第一行到最后一行寻找word1取代为 word2 |\n|:1,$s/word1/word2/gc 或 :%s/word1/word2/gc|从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)|\n>查找到某个匹配后按n跳至下一个 搜索后，取消高亮，:nohlsearch,也可以:set nohlsearch,可以简写成noh或set-noh\n\n### 11.选择\n|命令|解释|\n|--- |-------|\n|全选(高亮显示)| 按esc后，然后ggvG或者ggVG |\n|全部复制 | 按esc后，然后ggyG |\n|全部删除 | 按esc后，然后dG |\n\n","slug":"终端/vim基础教程","published":1,"updated":"2019-10-22T09:23:51.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318x20018goookh9e5g0s","content":"<h3 id=\"1-保存文件\"><a href=\"#1-保存文件\" class=\"headerlink\" title=\"1.保存文件\"></a>1.保存文件</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:w 或者 :write</td>\n<td>保存正在工作状态的文件</td>\n</tr>\n<tr>\n<td>:up 或者:update</td>\n<td>保存正在工作状态的文件</td>\n</tr>\n<tr>\n<td>:w newfile.txt</td>\n<td>另存为文件 newfile.txt</td>\n</tr>\n<tr>\n<td>:up newfile.txt</td>\n<td>另存为newfile.txt</td>\n</tr>\n</tbody></table><a id=\"more\"></a>\n<h3 id=\"2-关闭文件\"><a href=\"#2-关闭文件\" class=\"headerlink\" title=\"2.关闭文件\"></a>2.关闭文件</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:x</td>\n<td>保存当前文件再退出</td>\n</tr>\n<tr>\n<td>:wq</td>\n<td>保存当前文件再退出</td>\n</tr>\n<tr>\n<td>:q!</td>\n<td>不保存文件直接退出</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-光标移动：\"><a href=\"#3-光标移动：\" class=\"headerlink\" title=\"3.光标移动：\"></a>3.光标移动：</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>h：</td>\n<td>向左移动</td>\n</tr>\n<tr>\n<td>j：</td>\n<td>向下移动</td>\n</tr>\n<tr>\n<td>k：</td>\n<td>向上移动</td>\n</tr>\n<tr>\n<td>l：</td>\n<td>向右移动</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-翻一页-半页\"><a href=\"#4-翻一页-半页\" class=\"headerlink\" title=\"4.翻一页/半页\"></a>4.翻一页/半页</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CTRL+f</td>\n<td>向下翻一页</td>\n</tr>\n<tr>\n<td>CTRL+b</td>\n<td>向上翻一页</td>\n</tr>\n<tr>\n<td>CTRL+d</td>\n<td>向下翻半页</td>\n</tr>\n<tr>\n<td>CTRL+u</td>\n<td>向上翻半页</td>\n</tr>\n</tbody></table>\n<h3 id=\"5-光标一次移动一个单词的长度\"><a href=\"#5-光标一次移动一个单词的长度\" class=\"headerlink\" title=\"5.光标一次移动一个单词的长度\"></a>5.光标一次移动一个单词的长度</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>w：</td>\n<td>移动到下一个单词的起始处(代表单词world意思)</td>\n</tr>\n<tr>\n<td>W：</td>\n<td>移动到下一个单词的起始处</td>\n</tr>\n</tbody></table>\n<p><strong>与之相反的两个操作时b和B</strong></p>\n<p>b：移动到前一个单词的起始处<br>B：移动到前一个单词的起始处（b和B的区别与w和W是同理的）</p>\n<h3 id=\"6-光标在一行内的移动\"><a href=\"#6-光标在一行内的移动\" class=\"headerlink\" title=\"6.光标在一行内的移动\"></a>6.光标在一行内的移动</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0(零)</td>\n<td>移动到行首</td>\n</tr>\n<tr>\n<td>$</td>\n<td>移动到行未</td>\n</tr>\n<tr>\n<td>^</td>\n<td>移动到当前行的第一个非空字符处</td>\n</tr>\n<tr>\n<td>g_</td>\n<td>移动到当前行的最后一个非空格字符处</td>\n</tr>\n<tr>\n<td>gg</td>\n<td>移动到首行</td>\n</tr>\n<tr>\n<td>G</td>\n<td>移动末行</td>\n</tr>\n<tr>\n<td>ngg</td>\n<td>n表示数子 移动到n行</td>\n</tr>\n</tbody></table>\n<h3 id=\"7-插入-追加字符\"><a href=\"#7-插入-追加字符\" class=\"headerlink\" title=\"7.插入,追加字符\"></a>7.插入,追加字符</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>i</td>\n<td>在当前光标位置插入字符</td>\n</tr>\n<tr>\n<td>I</td>\n<td>光标跳至行首</td>\n</tr>\n<tr>\n<td>o</td>\n<td>在当前行往下插入新的一空行</td>\n</tr>\n<tr>\n<td>O</td>\n<td>在当前行往上插入新的一空行</td>\n</tr>\n<tr>\n<td>a</td>\n<td>在当前光标后追加字符</td>\n</tr>\n<tr>\n<td>A</td>\n<td>定位到行末</td>\n</tr>\n<tr>\n<td>R</td>\n<td>替换当前光标的字符直到推出插入模式(按ESC)</td>\n</tr>\n<tr>\n<td>:r filename</td>\n<td>把文件名为filename的内容插入当当前行的下一行</td>\n</tr>\n<tr>\n<td>r! command</td>\n<td>把command返回的结果插入到当前行的下一行</td>\n</tr>\n</tbody></table>\n<h3 id=\"8-拷贝一个单词、行首、行尾、整行\"><a href=\"#8-拷贝一个单词、行首、行尾、整行\" class=\"headerlink\" title=\"8.拷贝一个单词、行首、行尾、整行\"></a>8.拷贝一个单词、行首、行尾、整行</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>yw</td>\n<td>拷贝当前的一个单词</td>\n</tr>\n<tr>\n<td>y0</td>\n<td>拷贝的范围是当前光标处到行首</td>\n</tr>\n<tr>\n<td>y$</td>\n<td>拷贝的范围是当前光标处到行尾</td>\n</tr>\n<tr>\n<td>yy</td>\n<td>拷贝当前行</td>\n</tr>\n<tr>\n<td>nyy</td>\n<td>从当前行开始拷贝n行（这里的n是数字）</td>\n</tr>\n</tbody></table>\n<p><strong>拷贝完后用p就可以粘贴了</strong></p>\n<h3 id=\"9-删除一个单词，行首、行尾、整行\"><a href=\"#9-删除一个单词，行首、行尾、整行\" class=\"headerlink\" title=\"9.删除一个单词，行首、行尾、整行\"></a>9.删除一个单词，行首、行尾、整行</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>x</td>\n<td>删除当前光标处字符<br>(严格来说x不属于插入，因为你还要按i才能插入)</td>\n</tr>\n<tr>\n<td>dw</td>\n<td>删除当前光标出一个单词</td>\n</tr>\n<tr>\n<td>d0</td>\n<td>删除光标处到行首的字符</td>\n</tr>\n<tr>\n<td>d$</td>\n<td>删除光标处到行尾的字符</td>\n</tr>\n<tr>\n<td>dd</td>\n<td>删除整行</td>\n</tr>\n<tr>\n<td>ndd</td>\n<td>删除n行(同样n代表数字)</td>\n</tr>\n</tbody></table>\n<h3 id=\"10-查找字符串\"><a href=\"#10-查找字符串\" class=\"headerlink\" title=\"10.查找字符串\"></a>10.查找字符串</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/ward</td>\n<td>向光标之下寻找一个名称为 word 的字符串ward ，按下回车，可以看到vim把光标移动到该字符处，n（小写）查看下一个匹配，N(大写）查看上一个匹配</td>\n</tr>\n<tr>\n<td>?word</td>\n<td>向光标之上寻找一个名称为word的字符串;</td>\n</tr>\n<tr>\n<td>:1,$s/word1/word2/g 或 :%s/word1/word2/g</td>\n<td>从第一行到最后一行寻找word1取代为 word2</td>\n</tr>\n<tr>\n<td>:1,$s/word1/word2/gc 或 :%s/word1/word2/gc</td>\n<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>查找到某个匹配后按n跳至下一个 搜索后，取消高亮，:nohlsearch,也可以:set nohlsearch,可以简写成noh或set-noh</p>\n</blockquote>\n<h3 id=\"11-选择\"><a href=\"#11-选择\" class=\"headerlink\" title=\"11.选择\"></a>11.选择</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全选(高亮显示)</td>\n<td>按esc后，然后ggvG或者ggVG</td>\n</tr>\n<tr>\n<td>全部复制</td>\n<td>按esc后，然后ggyG</td>\n</tr>\n<tr>\n<td>全部删除</td>\n<td>按esc后，然后dG</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<h3 id=\"1-保存文件\"><a href=\"#1-保存文件\" class=\"headerlink\" title=\"1.保存文件\"></a>1.保存文件</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:w 或者 :write</td>\n<td>保存正在工作状态的文件</td>\n</tr>\n<tr>\n<td>:up 或者:update</td>\n<td>保存正在工作状态的文件</td>\n</tr>\n<tr>\n<td>:w newfile.txt</td>\n<td>另存为文件 newfile.txt</td>\n</tr>\n<tr>\n<td>:up newfile.txt</td>\n<td>另存为newfile.txt</td>\n</tr>\n</tbody></table>","more":"\n<h3 id=\"2-关闭文件\"><a href=\"#2-关闭文件\" class=\"headerlink\" title=\"2.关闭文件\"></a>2.关闭文件</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:x</td>\n<td>保存当前文件再退出</td>\n</tr>\n<tr>\n<td>:wq</td>\n<td>保存当前文件再退出</td>\n</tr>\n<tr>\n<td>:q!</td>\n<td>不保存文件直接退出</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-光标移动：\"><a href=\"#3-光标移动：\" class=\"headerlink\" title=\"3.光标移动：\"></a>3.光标移动：</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>h：</td>\n<td>向左移动</td>\n</tr>\n<tr>\n<td>j：</td>\n<td>向下移动</td>\n</tr>\n<tr>\n<td>k：</td>\n<td>向上移动</td>\n</tr>\n<tr>\n<td>l：</td>\n<td>向右移动</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-翻一页-半页\"><a href=\"#4-翻一页-半页\" class=\"headerlink\" title=\"4.翻一页/半页\"></a>4.翻一页/半页</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CTRL+f</td>\n<td>向下翻一页</td>\n</tr>\n<tr>\n<td>CTRL+b</td>\n<td>向上翻一页</td>\n</tr>\n<tr>\n<td>CTRL+d</td>\n<td>向下翻半页</td>\n</tr>\n<tr>\n<td>CTRL+u</td>\n<td>向上翻半页</td>\n</tr>\n</tbody></table>\n<h3 id=\"5-光标一次移动一个单词的长度\"><a href=\"#5-光标一次移动一个单词的长度\" class=\"headerlink\" title=\"5.光标一次移动一个单词的长度\"></a>5.光标一次移动一个单词的长度</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>w：</td>\n<td>移动到下一个单词的起始处(代表单词world意思)</td>\n</tr>\n<tr>\n<td>W：</td>\n<td>移动到下一个单词的起始处</td>\n</tr>\n</tbody></table>\n<p><strong>与之相反的两个操作时b和B</strong></p>\n<p>b：移动到前一个单词的起始处<br>B：移动到前一个单词的起始处（b和B的区别与w和W是同理的）</p>\n<h3 id=\"6-光标在一行内的移动\"><a href=\"#6-光标在一行内的移动\" class=\"headerlink\" title=\"6.光标在一行内的移动\"></a>6.光标在一行内的移动</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0(零)</td>\n<td>移动到行首</td>\n</tr>\n<tr>\n<td>$</td>\n<td>移动到行未</td>\n</tr>\n<tr>\n<td>^</td>\n<td>移动到当前行的第一个非空字符处</td>\n</tr>\n<tr>\n<td>g_</td>\n<td>移动到当前行的最后一个非空格字符处</td>\n</tr>\n<tr>\n<td>gg</td>\n<td>移动到首行</td>\n</tr>\n<tr>\n<td>G</td>\n<td>移动末行</td>\n</tr>\n<tr>\n<td>ngg</td>\n<td>n表示数子 移动到n行</td>\n</tr>\n</tbody></table>\n<h3 id=\"7-插入-追加字符\"><a href=\"#7-插入-追加字符\" class=\"headerlink\" title=\"7.插入,追加字符\"></a>7.插入,追加字符</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>i</td>\n<td>在当前光标位置插入字符</td>\n</tr>\n<tr>\n<td>I</td>\n<td>光标跳至行首</td>\n</tr>\n<tr>\n<td>o</td>\n<td>在当前行往下插入新的一空行</td>\n</tr>\n<tr>\n<td>O</td>\n<td>在当前行往上插入新的一空行</td>\n</tr>\n<tr>\n<td>a</td>\n<td>在当前光标后追加字符</td>\n</tr>\n<tr>\n<td>A</td>\n<td>定位到行末</td>\n</tr>\n<tr>\n<td>R</td>\n<td>替换当前光标的字符直到推出插入模式(按ESC)</td>\n</tr>\n<tr>\n<td>:r filename</td>\n<td>把文件名为filename的内容插入当当前行的下一行</td>\n</tr>\n<tr>\n<td>r! command</td>\n<td>把command返回的结果插入到当前行的下一行</td>\n</tr>\n</tbody></table>\n<h3 id=\"8-拷贝一个单词、行首、行尾、整行\"><a href=\"#8-拷贝一个单词、行首、行尾、整行\" class=\"headerlink\" title=\"8.拷贝一个单词、行首、行尾、整行\"></a>8.拷贝一个单词、行首、行尾、整行</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>yw</td>\n<td>拷贝当前的一个单词</td>\n</tr>\n<tr>\n<td>y0</td>\n<td>拷贝的范围是当前光标处到行首</td>\n</tr>\n<tr>\n<td>y$</td>\n<td>拷贝的范围是当前光标处到行尾</td>\n</tr>\n<tr>\n<td>yy</td>\n<td>拷贝当前行</td>\n</tr>\n<tr>\n<td>nyy</td>\n<td>从当前行开始拷贝n行（这里的n是数字）</td>\n</tr>\n</tbody></table>\n<p><strong>拷贝完后用p就可以粘贴了</strong></p>\n<h3 id=\"9-删除一个单词，行首、行尾、整行\"><a href=\"#9-删除一个单词，行首、行尾、整行\" class=\"headerlink\" title=\"9.删除一个单词，行首、行尾、整行\"></a>9.删除一个单词，行首、行尾、整行</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>x</td>\n<td>删除当前光标处字符<br>(严格来说x不属于插入，因为你还要按i才能插入)</td>\n</tr>\n<tr>\n<td>dw</td>\n<td>删除当前光标出一个单词</td>\n</tr>\n<tr>\n<td>d0</td>\n<td>删除光标处到行首的字符</td>\n</tr>\n<tr>\n<td>d$</td>\n<td>删除光标处到行尾的字符</td>\n</tr>\n<tr>\n<td>dd</td>\n<td>删除整行</td>\n</tr>\n<tr>\n<td>ndd</td>\n<td>删除n行(同样n代表数字)</td>\n</tr>\n</tbody></table>\n<h3 id=\"10-查找字符串\"><a href=\"#10-查找字符串\" class=\"headerlink\" title=\"10.查找字符串\"></a>10.查找字符串</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/ward</td>\n<td>向光标之下寻找一个名称为 word 的字符串ward ，按下回车，可以看到vim把光标移动到该字符处，n（小写）查看下一个匹配，N(大写）查看上一个匹配</td>\n</tr>\n<tr>\n<td>?word</td>\n<td>向光标之上寻找一个名称为word的字符串;</td>\n</tr>\n<tr>\n<td>:1,$s/word1/word2/g 或 :%s/word1/word2/g</td>\n<td>从第一行到最后一行寻找word1取代为 word2</td>\n</tr>\n<tr>\n<td>:1,$s/word1/word2/gc 或 :%s/word1/word2/gc</td>\n<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>查找到某个匹配后按n跳至下一个 搜索后，取消高亮，:nohlsearch,也可以:set nohlsearch,可以简写成noh或set-noh</p>\n</blockquote>\n<h3 id=\"11-选择\"><a href=\"#11-选择\" class=\"headerlink\" title=\"11.选择\"></a>11.选择</h3><table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全选(高亮显示)</td>\n<td>按esc后，然后ggvG或者ggVG</td>\n</tr>\n<tr>\n<td>全部复制</td>\n<td>按esc后，然后ggyG</td>\n</tr>\n<tr>\n<td>全部删除</td>\n<td>按esc后，然后dG</td>\n</tr>\n</tbody></table>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 17:23:51 GMT+0800 (GMT+08:00)","title":"vim基础教程","path":"2019/10/22/终端/vim基础教程/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-22T08:32:10.000Z","pv":0,"totalPV":0,"categories":"终端","tags":["ssh"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"CentOS系统下各文件夹的作用","author":"Tutu","date":"2019-10-14T06:32:48.000Z","_content":"\nCentOS 是一个基于Red Hat Linux 提供的可自由使用源代码的企业级Linux发行版本。每个版本的 CentOS都会获得十年的支持（通过安全更新方式）。新版本的 CentOS 大约每两年发行一次，而每个版本的 CentOS 会定期（大概每六个月）更新一次，以便支持新的硬件。这样，建立一个安全、低维护、稳定、高预测性、高重复性的 Linux 环境。CentOS是Community Enterprise Operating System的缩写。\n\n| 命令 | 解释 |\n| --| --|\n| /bin |二进制可执行命令\n| /dev |设备特殊文件\n| /etc |系统管理和配置文件\n| /etc/rc.d | 启动的配置文件和脚本\n| /home |用户主目录的基点，比如用户user的主目录就是/home / user，可以用~user表示\n| /lib |标准程序设计库，又叫动态链接共享库，作用类似windows里的.dll文件\n| /sbin |系统管理命令，这里存放的是系统管理员使用的管理程序\n| /tmp |公用的临时文件存储点\n| /root | 系统管理员的主目录（呵呵，特权阶级）\n| /mnt |系统提供这个目录是让用户临时挂载其他的文件系统。\n| /lost+found| 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里\n| /proc |虚拟的目录，是系统内存的映射。可直接访问这个目录来获取系统信息。\n| /var |某些大文件的溢出区，比方说各种服务的日志文件\n| /usr |最庞大的目录，要用到的应用程序和文件几乎都在这个目录。其中包含：\n| /usr/x11r6 | 存放x window的目录\n| /usr/bin | 众多的应用程序\n| /usr/sbin | 超级用户的一些管理程序\n| /usr/doc | linux文档\n| /usr/include | linux下开发和编译应用程序所需要的头文件\n| /usr/lib | 常用的动态链接库和软件包的配置文件\n| /usr/man | 帮助文档\n| /usr/src | 源代码，linux内核的源代码就放在 / usr / src / linux里\n| /usr/local / bin | 本地增加的命令\n| /usr/local / lib | 本地增加的库\n\n### 一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。\n\n1. / bin：/bin 目录包含了引导启动所需的命令或普通用户可能用的命令(可能在引导启动后)。这些命令都是二进制文件的可执行程序( b i n是b i n a r-二进制的简称)，多是系统中重要的系统文件。\n2. / sbin：/sbin 目录类似/bin，也用于存储二进制文件。因为其中的大部分文件多是系统管理员使用的基本的系统程序，所以虽然普通用户必要且允许时可以使用，但一般不给普通用户使用。\n\n3. / etc：/etc目录存放着各种系统配置文件，其中包括了用户信息文件/etc / passwd，系统初始化文件 / etc / rc等。linux正是 * 这些文件才得以正常地运行。\n\n4. / root：/root目录是超级用户的目录。\n\n5. / lib：/lib目录是根文件系统上的程序所需的共享库，存放了根文件系统程序运行所需的共享文件。这些文件包含了可被许多程序共享的代码，以避免每个程序都包含有相同的子程序的副本，故可以使得可执行文件变得更小，节省空间。\n\n6. / lib / modules：/lib/modules 目录包含系统核心可加载各种模块，尤其是那些在恢复损坏的系统时重新引导系统所需的模块(例如网络和文件系统驱动) 。\n\n7. / dev：/dev目录存放了设备文件，即设备驱动程序，用户通过这些文件访问外部设备。比如，用户可以通过访问/dev / mouse来访问鼠标的输入，就像访问其他文件一样。\n\n8. / tmp：/tmp目录存放程序在运行时产生的信息和数据。但在引导启动后，运行的程序最好使用/var / tmp来代替 / tmp ，因为前者可能拥有一个更大的磁盘空间。\n\n9. / boot：/boot目录存放引导加载器(bootstrap loader)使用的文件，如l i l o，核心映像也经常放在这里，而不是放在根目录中。但是如果有许多核心映像，这个目录就可能变得很大，这时使用单独的文件系统会更好一些。还有一点要注意的是，要确保核心映像必须在i d e硬盘的前1 0 2 4柱面内。\n\n10. / mnt：/mnt目录是系统管理员临时安装(mount)文件系统的安装点。程序并不自动支持安装到/mnt 。/mnt下面可以分为许多子目录，例如/mnt / dosa 可能是使用msdos文件系统的软驱，而 / mnt / exta 可能是使用ext2文件系统的软驱，/mnt/cdrom光驱等等。\n\n11. / proc, /usr,/var, /home：其他文件系统的安装点。\n\n###  二、详细介绍：/etc文件系统：/etc\n\n目录包含各种系统配置文件，下面说明其中的一些。其他的你应该知道它们属于哪个程序，并阅读该程序的man页。许多网络配置文件也在 / etc中。\n\n1. / etc / rc或 / etc / rc.d或 / etc / rc ?.d : 启动、或改变运行级时运行的脚本或脚本的目录。\n\n2. / etc / passwd : 用户数据库，其中的域给出了用户名、真实姓名、用户起始目录、加密口令和用户的其他信息。\n\n3. / etc / fdprm : 软盘参数表，用以说明不同的软盘格式。可用setfdprm 进行设置。更多的信息见setfdprm的帮助页。\n\n4. / etc / fstab ：指定启动时需要自动安装的文件系统列表。也包括用swapon - a启用的s w a p区的信息。\n\n5. / etc / group ：类似 / etc / passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。\n\n6. / etc / inittab ：init 的配置文件。\n\n7. / etc / issue ：包括用户在登录提示符前的输出信息。通常包括系统的一段短说明或欢迎信息。具体内容由系统管理员确定。\n\n8. / etc / magic ：“file”的配置文件。包含不同文件格式的说明，“file”基于它猜测文件类型。\n\n9. / etc / motd ：motd是message of the day的缩写，用户成功登录后自动输出。内容由系统管理员确定。 常用于通告信息，如计划关机时间的警告等。\n\n10. / etc / mtab ：当前安装的文件系统列表。由脚本(scritp)初始化，并由mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如df 命令) 。\n\n11. / etc / shadow ：在安装了影子(shadow)口令软件的系统上的影子口令文件。影子口令文件将 / etc / passwd文件中的加密口令移动到 / etc / shadow中，而后者只对超级用户(root)可读。这使破译口令更困难，以此增加系统的安全性。\n\n12. / etc / login.defs ：login命令的配置文件。\n\n13. / etc / printcap ：类似 / etc / termcap ，但针对打印机。语法不同。\n\n14. / etc / profile 、/etc/csh.login、/etc/csh.cshrc ：登录或启动时b o u r n e或c shells执行的文件。这允许系统管理员为所有用户建立全局缺省环境。\n\n15. / etc / securetty : 确认安全终端，即哪个终端允许超级用户(root)登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem)或网络闯入系统并得到超级用户特权。\n\n16. / etc / shells : 列出可以使用的shell。chsh命令允许用户在本文件指定范围内改变登录的shell。提供一台机器f t p服务的服务进程ftpd 检查用户s h e l l是否列在 / etc / shells 文件中，如果不是，将不允许该用户登录。\n\n17. / etc / termcap ：终端性能数据库。说明不同的终端用什么“转义序列”控制。写程序时不直接输出转义序列(这样只能工作于特定品牌的终端) ，而是从 / etc / termcap 中查找要做的工作的正确序列。这样，多数的程序可以在多数终端上运行。\n\n### 三、/dev文件系统 ：/dev\n\n目录包括所有设备的设备文件。设备文件用特定的约定命名，这在设备列表中说明。 设备文件在安装时由系统产生，以后可以用 / dev / makedev 描述。/dev/makedev.local是 系统管理员为本地设备文件(或连接)写的描述文稿(即如一些非标准设备驱动不是标准 makedev 的一部分) 。下面简要介绍 / dev下一些常用文件。\n\n1. / dev / console ：系统控制台，也就是直接和系统连接的监视器。\n\n2. / dev / hd ：ide硬盘驱动程序接口。如：/dev/hda指的是第一个硬盘，had1则是指 / dev / hda的第一个分区。如系统中有其他的硬盘，则依次为 / dev / hdb、/dev/hdc、. . . . . .；如有多个分区则依次为hda1、hda2. . . . . .\n\n3. / dev / sd ：scsi磁盘驱动程序接口。如有系统有scsi硬盘，就不会访问 / dev / had，而会访问 / dev / sda。\n\n4. / dev / fd ：软驱设备驱动程序。如：/dev/fd0指系统的第一个软盘，也就是通常所说的a：盘，/dev/fd1指第二个软盘，. . . . . .而 / dev / fd1h1440则表示访问驱动器1中的4. 5高密盘。\n\n5. / dev / st : scsi磁带驱动器驱动程序。\n\n6. / dev / tty : 提供虚拟控制台支持。如：/dev/tty1指的是系统的第一个虚拟控制台，/dev/tty2则是系统的第二个虚拟控制台。\n\n7. / dev / pty : 提供远程登陆伪终端支持。在进行telnet登录时就要用到 / dev / pty设备。\n\n8. / dev / ttys : 计算机串行接口，对于dos来说就是\"com1\"口。\n\n9. / dev / cua : 计算机串行接口，与调制解调器一起使用的设备。\n\n10. / dev / null : \"黑洞\"，所有写入该设备的信息都将消失。例如：当想要将屏幕上的输出信息隐藏起来时，只要将输出信息输入到 / dev / null中即可。\n\n### 五、/var文件系统：/var\n\n包含系统一般运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化或扩充的。原来 / var目录中有些内容是在 / usr中的，但为了保持 / usr目录的相对稳定，就把那些需要经常改变的目录放到 / var中了。每个系统是特定的，即不通过网络与其他计算机共享。\n\n1. /var/catman:包括了格式化过的帮助(man)页。帮助页的源文件一般存在/usr / man / man中；有些man页可能有预格式化的版本，存在 / usr / man / cat中。而其他的man页在第一次看时都需要格式化，格式化完的版本存在 /var/man 中，这样其他人再看相同的页时就无须等待格式化了。(/var / catman 经常被清除，就像清除临时目录一样。)\n\n2. /var/lib :存放系统正常运行时要改变的文件。\n\n3. /var/local:存放/usr / local 中安装的程序的可变数据(即系统管理员安装的程序) 。注意，如果必要，即使本地安装的程序也会使用其他 /var 目录，例如/var/lock 。\n\n4. /var/lock :锁定文件。许多程序遵循在/var / lock中产生一个锁定文件的约定，以用来支持他们正在使用某个特定的设备或文件。其他程序注意到这个锁定文件时，就不会再使用这个设备或文件。\n\n5. /var/log :各种程序的日志( l o g )文件，尤其是login (/var / log / wtmplog纪录所有到系统的登录和注销) 和syslog(/var/log / messages 纪录存储所有核心和系统程序信息) 。/var/log 里的文件经常不确定地增长，应该定期清除。\n\n6. /var/run :保存在下一次系统引导前有效的关于系统的信息文件。例如， /var / run / utmp 包含当前登录的用户的信息。\n\n7. /var/spool :放置“假脱机( s p o o l )”程序的目录，如m a i l、n e w s、打印队列和其他队列工作的目录。每个不同的s p o o l在/var / spool 下有自己的子目录，例如，用户的邮箱就存放在 /var/spool/mail 中。\n\n8. /var/tmp :比/tmp 允许更大的或需要存在较长时间的临时文件。注意系统管理员可能不允许 /var/tmp 有很旧的文件。\n\n### 六、/proc文件系统:/proc\n\n文件系统是一个伪的文件系统，就是说它是一个实际上不存在的目录，因而这是一个非常特殊的目录。它并不存在于某个磁盘上，而是由核心在内存中产生。这个目录用于提 供关于系统的信息。下面说明一些最重要的文件和目录(/proc文件系统在procman页中有更详细的说)。\n\n1. / proc / x : 关于进程x的信息目录，这一x是这一进程的标识号。每个进程在/proc下有一个名为自己进程号的目录。\n\n2. / proc / cpuinfo: 存放处理器(cpu)的信息，如cpu的类型、制造商、型号和性能等。\n\n3. / proc / devices : 当前运行的核心配置的设备驱动的列表。\n\n4. / proc / dma : 显示当前使用的d m a通道。\n\n5. / proc / filesystems: 核心配置的文件系统信息。\n\n6. / proc / interrupts : 显示被占用的中断信息和占用者的信息，以及被占用的数量。\n\n7. / proc / ioports : 当前使用的i / o端口。\n\n8. / proc / kcore : 系统物理内存映像。与物理内存大小完全一样，然而实际上没有占用这么多内存；它仅仅是在程序访问它时才被创建。(注意：除非你把它拷贝到什么地方，否则 / proc 下没有任何东西占用任何磁盘空间。)\n\n9. / proc / kmsg : 核心输出的消息。也会被送到syslog。\n\n10. / proc / ksyms : 核心符号表。\n\n11. / proc / loadavg : 系统“平均负载”; 3个没有意义的指示器指出系统当前的工作量。\n\n12. / proc / meminfo : 各种存储器使用信息，包括物理内存和交换分区(swap) 。\n\n13. / proc / modules : 存放当前加载了哪些核心模块信息。\n\n14. / proc / net : 网络协议状态信息。\n\n15. / proc / self : 存放到查看 / proc 的程序的进程目录的符号连接。当2个进程查看 / proc 时，这将会是不同的连接。这主要便于程序得到它自己的进程目录。\n\n16. / proc / stat : 系统的不同状态，例如，系统启动后页面发生错误的次数。\n\n17. / proc / uptime : 系统启动的时间长度。\n\n18. / proc / version : 核心版本。","source":"_posts/linux/CentOS系统下各文件夹的作用.md","raw":"title: CentOS系统下各文件夹的作用\nauthor: Tutu\ndate: 2019-10-14 14:32:48\ntags:\ncategory:\n  - Linux\n---\n\nCentOS 是一个基于Red Hat Linux 提供的可自由使用源代码的企业级Linux发行版本。每个版本的 CentOS都会获得十年的支持（通过安全更新方式）。新版本的 CentOS 大约每两年发行一次，而每个版本的 CentOS 会定期（大概每六个月）更新一次，以便支持新的硬件。这样，建立一个安全、低维护、稳定、高预测性、高重复性的 Linux 环境。CentOS是Community Enterprise Operating System的缩写。\n\n| 命令 | 解释 |\n| --| --|\n| /bin |二进制可执行命令\n| /dev |设备特殊文件\n| /etc |系统管理和配置文件\n| /etc/rc.d | 启动的配置文件和脚本\n| /home |用户主目录的基点，比如用户user的主目录就是/home / user，可以用~user表示\n| /lib |标准程序设计库，又叫动态链接共享库，作用类似windows里的.dll文件\n| /sbin |系统管理命令，这里存放的是系统管理员使用的管理程序\n| /tmp |公用的临时文件存储点\n| /root | 系统管理员的主目录（呵呵，特权阶级）\n| /mnt |系统提供这个目录是让用户临时挂载其他的文件系统。\n| /lost+found| 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里\n| /proc |虚拟的目录，是系统内存的映射。可直接访问这个目录来获取系统信息。\n| /var |某些大文件的溢出区，比方说各种服务的日志文件\n| /usr |最庞大的目录，要用到的应用程序和文件几乎都在这个目录。其中包含：\n| /usr/x11r6 | 存放x window的目录\n| /usr/bin | 众多的应用程序\n| /usr/sbin | 超级用户的一些管理程序\n| /usr/doc | linux文档\n| /usr/include | linux下开发和编译应用程序所需要的头文件\n| /usr/lib | 常用的动态链接库和软件包的配置文件\n| /usr/man | 帮助文档\n| /usr/src | 源代码，linux内核的源代码就放在 / usr / src / linux里\n| /usr/local / bin | 本地增加的命令\n| /usr/local / lib | 本地增加的库\n\n### 一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。\n\n1. / bin：/bin 目录包含了引导启动所需的命令或普通用户可能用的命令(可能在引导启动后)。这些命令都是二进制文件的可执行程序( b i n是b i n a r-二进制的简称)，多是系统中重要的系统文件。\n2. / sbin：/sbin 目录类似/bin，也用于存储二进制文件。因为其中的大部分文件多是系统管理员使用的基本的系统程序，所以虽然普通用户必要且允许时可以使用，但一般不给普通用户使用。\n\n3. / etc：/etc目录存放着各种系统配置文件，其中包括了用户信息文件/etc / passwd，系统初始化文件 / etc / rc等。linux正是 * 这些文件才得以正常地运行。\n\n4. / root：/root目录是超级用户的目录。\n\n5. / lib：/lib目录是根文件系统上的程序所需的共享库，存放了根文件系统程序运行所需的共享文件。这些文件包含了可被许多程序共享的代码，以避免每个程序都包含有相同的子程序的副本，故可以使得可执行文件变得更小，节省空间。\n\n6. / lib / modules：/lib/modules 目录包含系统核心可加载各种模块，尤其是那些在恢复损坏的系统时重新引导系统所需的模块(例如网络和文件系统驱动) 。\n\n7. / dev：/dev目录存放了设备文件，即设备驱动程序，用户通过这些文件访问外部设备。比如，用户可以通过访问/dev / mouse来访问鼠标的输入，就像访问其他文件一样。\n\n8. / tmp：/tmp目录存放程序在运行时产生的信息和数据。但在引导启动后，运行的程序最好使用/var / tmp来代替 / tmp ，因为前者可能拥有一个更大的磁盘空间。\n\n9. / boot：/boot目录存放引导加载器(bootstrap loader)使用的文件，如l i l o，核心映像也经常放在这里，而不是放在根目录中。但是如果有许多核心映像，这个目录就可能变得很大，这时使用单独的文件系统会更好一些。还有一点要注意的是，要确保核心映像必须在i d e硬盘的前1 0 2 4柱面内。\n\n10. / mnt：/mnt目录是系统管理员临时安装(mount)文件系统的安装点。程序并不自动支持安装到/mnt 。/mnt下面可以分为许多子目录，例如/mnt / dosa 可能是使用msdos文件系统的软驱，而 / mnt / exta 可能是使用ext2文件系统的软驱，/mnt/cdrom光驱等等。\n\n11. / proc, /usr,/var, /home：其他文件系统的安装点。\n\n###  二、详细介绍：/etc文件系统：/etc\n\n目录包含各种系统配置文件，下面说明其中的一些。其他的你应该知道它们属于哪个程序，并阅读该程序的man页。许多网络配置文件也在 / etc中。\n\n1. / etc / rc或 / etc / rc.d或 / etc / rc ?.d : 启动、或改变运行级时运行的脚本或脚本的目录。\n\n2. / etc / passwd : 用户数据库，其中的域给出了用户名、真实姓名、用户起始目录、加密口令和用户的其他信息。\n\n3. / etc / fdprm : 软盘参数表，用以说明不同的软盘格式。可用setfdprm 进行设置。更多的信息见setfdprm的帮助页。\n\n4. / etc / fstab ：指定启动时需要自动安装的文件系统列表。也包括用swapon - a启用的s w a p区的信息。\n\n5. / etc / group ：类似 / etc / passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。\n\n6. / etc / inittab ：init 的配置文件。\n\n7. / etc / issue ：包括用户在登录提示符前的输出信息。通常包括系统的一段短说明或欢迎信息。具体内容由系统管理员确定。\n\n8. / etc / magic ：“file”的配置文件。包含不同文件格式的说明，“file”基于它猜测文件类型。\n\n9. / etc / motd ：motd是message of the day的缩写，用户成功登录后自动输出。内容由系统管理员确定。 常用于通告信息，如计划关机时间的警告等。\n\n10. / etc / mtab ：当前安装的文件系统列表。由脚本(scritp)初始化，并由mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如df 命令) 。\n\n11. / etc / shadow ：在安装了影子(shadow)口令软件的系统上的影子口令文件。影子口令文件将 / etc / passwd文件中的加密口令移动到 / etc / shadow中，而后者只对超级用户(root)可读。这使破译口令更困难，以此增加系统的安全性。\n\n12. / etc / login.defs ：login命令的配置文件。\n\n13. / etc / printcap ：类似 / etc / termcap ，但针对打印机。语法不同。\n\n14. / etc / profile 、/etc/csh.login、/etc/csh.cshrc ：登录或启动时b o u r n e或c shells执行的文件。这允许系统管理员为所有用户建立全局缺省环境。\n\n15. / etc / securetty : 确认安全终端，即哪个终端允许超级用户(root)登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem)或网络闯入系统并得到超级用户特权。\n\n16. / etc / shells : 列出可以使用的shell。chsh命令允许用户在本文件指定范围内改变登录的shell。提供一台机器f t p服务的服务进程ftpd 检查用户s h e l l是否列在 / etc / shells 文件中，如果不是，将不允许该用户登录。\n\n17. / etc / termcap ：终端性能数据库。说明不同的终端用什么“转义序列”控制。写程序时不直接输出转义序列(这样只能工作于特定品牌的终端) ，而是从 / etc / termcap 中查找要做的工作的正确序列。这样，多数的程序可以在多数终端上运行。\n\n### 三、/dev文件系统 ：/dev\n\n目录包括所有设备的设备文件。设备文件用特定的约定命名，这在设备列表中说明。 设备文件在安装时由系统产生，以后可以用 / dev / makedev 描述。/dev/makedev.local是 系统管理员为本地设备文件(或连接)写的描述文稿(即如一些非标准设备驱动不是标准 makedev 的一部分) 。下面简要介绍 / dev下一些常用文件。\n\n1. / dev / console ：系统控制台，也就是直接和系统连接的监视器。\n\n2. / dev / hd ：ide硬盘驱动程序接口。如：/dev/hda指的是第一个硬盘，had1则是指 / dev / hda的第一个分区。如系统中有其他的硬盘，则依次为 / dev / hdb、/dev/hdc、. . . . . .；如有多个分区则依次为hda1、hda2. . . . . .\n\n3. / dev / sd ：scsi磁盘驱动程序接口。如有系统有scsi硬盘，就不会访问 / dev / had，而会访问 / dev / sda。\n\n4. / dev / fd ：软驱设备驱动程序。如：/dev/fd0指系统的第一个软盘，也就是通常所说的a：盘，/dev/fd1指第二个软盘，. . . . . .而 / dev / fd1h1440则表示访问驱动器1中的4. 5高密盘。\n\n5. / dev / st : scsi磁带驱动器驱动程序。\n\n6. / dev / tty : 提供虚拟控制台支持。如：/dev/tty1指的是系统的第一个虚拟控制台，/dev/tty2则是系统的第二个虚拟控制台。\n\n7. / dev / pty : 提供远程登陆伪终端支持。在进行telnet登录时就要用到 / dev / pty设备。\n\n8. / dev / ttys : 计算机串行接口，对于dos来说就是\"com1\"口。\n\n9. / dev / cua : 计算机串行接口，与调制解调器一起使用的设备。\n\n10. / dev / null : \"黑洞\"，所有写入该设备的信息都将消失。例如：当想要将屏幕上的输出信息隐藏起来时，只要将输出信息输入到 / dev / null中即可。\n\n### 五、/var文件系统：/var\n\n包含系统一般运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化或扩充的。原来 / var目录中有些内容是在 / usr中的，但为了保持 / usr目录的相对稳定，就把那些需要经常改变的目录放到 / var中了。每个系统是特定的，即不通过网络与其他计算机共享。\n\n1. /var/catman:包括了格式化过的帮助(man)页。帮助页的源文件一般存在/usr / man / man中；有些man页可能有预格式化的版本，存在 / usr / man / cat中。而其他的man页在第一次看时都需要格式化，格式化完的版本存在 /var/man 中，这样其他人再看相同的页时就无须等待格式化了。(/var / catman 经常被清除，就像清除临时目录一样。)\n\n2. /var/lib :存放系统正常运行时要改变的文件。\n\n3. /var/local:存放/usr / local 中安装的程序的可变数据(即系统管理员安装的程序) 。注意，如果必要，即使本地安装的程序也会使用其他 /var 目录，例如/var/lock 。\n\n4. /var/lock :锁定文件。许多程序遵循在/var / lock中产生一个锁定文件的约定，以用来支持他们正在使用某个特定的设备或文件。其他程序注意到这个锁定文件时，就不会再使用这个设备或文件。\n\n5. /var/log :各种程序的日志( l o g )文件，尤其是login (/var / log / wtmplog纪录所有到系统的登录和注销) 和syslog(/var/log / messages 纪录存储所有核心和系统程序信息) 。/var/log 里的文件经常不确定地增长，应该定期清除。\n\n6. /var/run :保存在下一次系统引导前有效的关于系统的信息文件。例如， /var / run / utmp 包含当前登录的用户的信息。\n\n7. /var/spool :放置“假脱机( s p o o l )”程序的目录，如m a i l、n e w s、打印队列和其他队列工作的目录。每个不同的s p o o l在/var / spool 下有自己的子目录，例如，用户的邮箱就存放在 /var/spool/mail 中。\n\n8. /var/tmp :比/tmp 允许更大的或需要存在较长时间的临时文件。注意系统管理员可能不允许 /var/tmp 有很旧的文件。\n\n### 六、/proc文件系统:/proc\n\n文件系统是一个伪的文件系统，就是说它是一个实际上不存在的目录，因而这是一个非常特殊的目录。它并不存在于某个磁盘上，而是由核心在内存中产生。这个目录用于提 供关于系统的信息。下面说明一些最重要的文件和目录(/proc文件系统在procman页中有更详细的说)。\n\n1. / proc / x : 关于进程x的信息目录，这一x是这一进程的标识号。每个进程在/proc下有一个名为自己进程号的目录。\n\n2. / proc / cpuinfo: 存放处理器(cpu)的信息，如cpu的类型、制造商、型号和性能等。\n\n3. / proc / devices : 当前运行的核心配置的设备驱动的列表。\n\n4. / proc / dma : 显示当前使用的d m a通道。\n\n5. / proc / filesystems: 核心配置的文件系统信息。\n\n6. / proc / interrupts : 显示被占用的中断信息和占用者的信息，以及被占用的数量。\n\n7. / proc / ioports : 当前使用的i / o端口。\n\n8. / proc / kcore : 系统物理内存映像。与物理内存大小完全一样，然而实际上没有占用这么多内存；它仅仅是在程序访问它时才被创建。(注意：除非你把它拷贝到什么地方，否则 / proc 下没有任何东西占用任何磁盘空间。)\n\n9. / proc / kmsg : 核心输出的消息。也会被送到syslog。\n\n10. / proc / ksyms : 核心符号表。\n\n11. / proc / loadavg : 系统“平均负载”; 3个没有意义的指示器指出系统当前的工作量。\n\n12. / proc / meminfo : 各种存储器使用信息，包括物理内存和交换分区(swap) 。\n\n13. / proc / modules : 存放当前加载了哪些核心模块信息。\n\n14. / proc / net : 网络协议状态信息。\n\n15. / proc / self : 存放到查看 / proc 的程序的进程目录的符号连接。当2个进程查看 / proc 时，这将会是不同的连接。这主要便于程序得到它自己的进程目录。\n\n16. / proc / stat : 系统的不同状态，例如，系统启动后页面发生错误的次数。\n\n17. / proc / uptime : 系统启动的时间长度。\n\n18. / proc / version : 核心版本。","slug":"linux/CentOS系统下各文件夹的作用","published":1,"updated":"2019-10-22T07:55:13.270Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d318xu0027gooohxov7dzj","content":"<p>CentOS 是一个基于Red Hat Linux 提供的可自由使用源代码的企业级Linux发行版本。每个版本的 CentOS都会获得十年的支持（通过安全更新方式）。新版本的 CentOS 大约每两年发行一次，而每个版本的 CentOS 会定期（大概每六个月）更新一次，以便支持新的硬件。这样，建立一个安全、低维护、稳定、高预测性、高重复性的 Linux 环境。CentOS是Community Enterprise Operating System的缩写。</p><a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/bin</td>\n<td>二进制可执行命令</td>\n</tr>\n<tr>\n<td>/dev</td>\n<td>设备特殊文件</td>\n</tr>\n<tr>\n<td>/etc</td>\n<td>系统管理和配置文件</td>\n</tr>\n<tr>\n<td>/etc/rc.d</td>\n<td>启动的配置文件和脚本</td>\n</tr>\n<tr>\n<td>/home</td>\n<td>用户主目录的基点，比如用户user的主目录就是/home / user，可以用~user表示</td>\n</tr>\n<tr>\n<td>/lib</td>\n<td>标准程序设计库，又叫动态链接共享库，作用类似windows里的.dll文件</td>\n</tr>\n<tr>\n<td>/sbin</td>\n<td>系统管理命令，这里存放的是系统管理员使用的管理程序</td>\n</tr>\n<tr>\n<td>/tmp</td>\n<td>公用的临时文件存储点</td>\n</tr>\n<tr>\n<td>/root</td>\n<td>系统管理员的主目录（呵呵，特权阶级）</td>\n</tr>\n<tr>\n<td>/mnt</td>\n<td>系统提供这个目录是让用户临时挂载其他的文件系统。</td>\n</tr>\n<tr>\n<td>/lost+found</td>\n<td>这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里</td>\n</tr>\n<tr>\n<td>/proc</td>\n<td>虚拟的目录，是系统内存的映射。可直接访问这个目录来获取系统信息。</td>\n</tr>\n<tr>\n<td>/var</td>\n<td>某些大文件的溢出区，比方说各种服务的日志文件</td>\n</tr>\n<tr>\n<td>/usr</td>\n<td>最庞大的目录，要用到的应用程序和文件几乎都在这个目录。其中包含：</td>\n</tr>\n<tr>\n<td>/usr/x11r6</td>\n<td>存放x window的目录</td>\n</tr>\n<tr>\n<td>/usr/bin</td>\n<td>众多的应用程序</td>\n</tr>\n<tr>\n<td>/usr/sbin</td>\n<td>超级用户的一些管理程序</td>\n</tr>\n<tr>\n<td>/usr/doc</td>\n<td>linux文档</td>\n</tr>\n<tr>\n<td>/usr/include</td>\n<td>linux下开发和编译应用程序所需要的头文件</td>\n</tr>\n<tr>\n<td>/usr/lib</td>\n<td>常用的动态链接库和软件包的配置文件</td>\n</tr>\n<tr>\n<td>/usr/man</td>\n<td>帮助文档</td>\n</tr>\n<tr>\n<td>/usr/src</td>\n<td>源代码，linux内核的源代码就放在 / usr / src / linux里</td>\n</tr>\n<tr>\n<td>/usr/local / bin</td>\n<td>本地增加的命令</td>\n</tr>\n<tr>\n<td>/usr/local / lib</td>\n<td>本地增加的库</td>\n</tr>\n</tbody></table>\n<h3 id=\"一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要-经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫-vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有-其他文件在根文件系统的子目录中。\"><a href=\"#一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要-经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫-vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有-其他文件在根文件系统的子目录中。\" class=\"headerlink\" title=\"一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。\"></a>一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。</h3><ol>\n<li><p>/ bin：/bin 目录包含了引导启动所需的命令或普通用户可能用的命令(可能在引导启动后)。这些命令都是二进制文件的可执行程序( b i n是b i n a r-二进制的简称)，多是系统中重要的系统文件。</p>\n</li>\n<li><p>/ sbin：/sbin 目录类似/bin，也用于存储二进制文件。因为其中的大部分文件多是系统管理员使用的基本的系统程序，所以虽然普通用户必要且允许时可以使用，但一般不给普通用户使用。</p>\n</li>\n<li><p>/ etc：/etc目录存放着各种系统配置文件，其中包括了用户信息文件/etc / passwd，系统初始化文件 / etc / rc等。linux正是 * 这些文件才得以正常地运行。</p>\n</li>\n<li><p>/ root：/root目录是超级用户的目录。</p>\n</li>\n<li><p>/ lib：/lib目录是根文件系统上的程序所需的共享库，存放了根文件系统程序运行所需的共享文件。这些文件包含了可被许多程序共享的代码，以避免每个程序都包含有相同的子程序的副本，故可以使得可执行文件变得更小，节省空间。</p>\n</li>\n<li><p>/ lib / modules：/lib/modules 目录包含系统核心可加载各种模块，尤其是那些在恢复损坏的系统时重新引导系统所需的模块(例如网络和文件系统驱动) 。</p>\n</li>\n<li><p>/ dev：/dev目录存放了设备文件，即设备驱动程序，用户通过这些文件访问外部设备。比如，用户可以通过访问/dev / mouse来访问鼠标的输入，就像访问其他文件一样。</p>\n</li>\n<li><p>/ tmp：/tmp目录存放程序在运行时产生的信息和数据。但在引导启动后，运行的程序最好使用/var / tmp来代替 / tmp ，因为前者可能拥有一个更大的磁盘空间。</p>\n</li>\n<li><p>/ boot：/boot目录存放引导加载器(bootstrap loader)使用的文件，如l i l o，核心映像也经常放在这里，而不是放在根目录中。但是如果有许多核心映像，这个目录就可能变得很大，这时使用单独的文件系统会更好一些。还有一点要注意的是，要确保核心映像必须在i d e硬盘的前1 0 2 4柱面内。</p>\n</li>\n<li><p>/ mnt：/mnt目录是系统管理员临时安装(mount)文件系统的安装点。程序并不自动支持安装到/mnt 。/mnt下面可以分为许多子目录，例如/mnt / dosa 可能是使用msdos文件系统的软驱，而 / mnt / exta 可能是使用ext2文件系统的软驱，/mnt/cdrom光驱等等。</p>\n</li>\n<li><p>/ proc, /usr,/var, /home：其他文件系统的安装点。</p>\n</li>\n</ol>\n<h3 id=\"二、详细介绍：-etc文件系统：-etc\"><a href=\"#二、详细介绍：-etc文件系统：-etc\" class=\"headerlink\" title=\"二、详细介绍：/etc文件系统：/etc\"></a>二、详细介绍：/etc文件系统：/etc</h3><p>目录包含各种系统配置文件，下面说明其中的一些。其他的你应该知道它们属于哪个程序，并阅读该程序的man页。许多网络配置文件也在 / etc中。</p>\n<ol>\n<li><p>/ etc / rc或 / etc / rc.d或 / etc / rc ?.d : 启动、或改变运行级时运行的脚本或脚本的目录。</p>\n</li>\n<li><p>/ etc / passwd : 用户数据库，其中的域给出了用户名、真实姓名、用户起始目录、加密口令和用户的其他信息。</p>\n</li>\n<li><p>/ etc / fdprm : 软盘参数表，用以说明不同的软盘格式。可用setfdprm 进行设置。更多的信息见setfdprm的帮助页。</p>\n</li>\n<li><p>/ etc / fstab ：指定启动时需要自动安装的文件系统列表。也包括用swapon - a启用的s w a p区的信息。</p>\n</li>\n<li><p>/ etc / group ：类似 / etc / passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。</p>\n</li>\n<li><p>/ etc / inittab ：init 的配置文件。</p>\n</li>\n<li><p>/ etc / issue ：包括用户在登录提示符前的输出信息。通常包括系统的一段短说明或欢迎信息。具体内容由系统管理员确定。</p>\n</li>\n<li><p>/ etc / magic ：“file”的配置文件。包含不同文件格式的说明，“file”基于它猜测文件类型。</p>\n</li>\n<li><p>/ etc / motd ：motd是message of the day的缩写，用户成功登录后自动输出。内容由系统管理员确定。 常用于通告信息，如计划关机时间的警告等。</p>\n</li>\n<li><p>/ etc / mtab ：当前安装的文件系统列表。由脚本(scritp)初始化，并由mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如df 命令) 。</p>\n</li>\n<li><p>/ etc / shadow ：在安装了影子(shadow)口令软件的系统上的影子口令文件。影子口令文件将 / etc / passwd文件中的加密口令移动到 / etc / shadow中，而后者只对超级用户(root)可读。这使破译口令更困难，以此增加系统的安全性。</p>\n</li>\n<li><p>/ etc / login.defs ：login命令的配置文件。</p>\n</li>\n<li><p>/ etc / printcap ：类似 / etc / termcap ，但针对打印机。语法不同。</p>\n</li>\n<li><p>/ etc / profile 、/etc/csh.login、/etc/csh.cshrc ：登录或启动时b o u r n e或c shells执行的文件。这允许系统管理员为所有用户建立全局缺省环境。</p>\n</li>\n<li><p>/ etc / securetty : 确认安全终端，即哪个终端允许超级用户(root)登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem)或网络闯入系统并得到超级用户特权。</p>\n</li>\n<li><p>/ etc / shells : 列出可以使用的shell。chsh命令允许用户在本文件指定范围内改变登录的shell。提供一台机器f t p服务的服务进程ftpd 检查用户s h e l l是否列在 / etc / shells 文件中，如果不是，将不允许该用户登录。</p>\n</li>\n<li><p>/ etc / termcap ：终端性能数据库。说明不同的终端用什么“转义序列”控制。写程序时不直接输出转义序列(这样只能工作于特定品牌的终端) ，而是从 / etc / termcap 中查找要做的工作的正确序列。这样，多数的程序可以在多数终端上运行。</p>\n</li>\n</ol>\n<h3 id=\"三、-dev文件系统-：-dev\"><a href=\"#三、-dev文件系统-：-dev\" class=\"headerlink\" title=\"三、/dev文件系统 ：/dev\"></a>三、/dev文件系统 ：/dev</h3><p>目录包括所有设备的设备文件。设备文件用特定的约定命名，这在设备列表中说明。 设备文件在安装时由系统产生，以后可以用 / dev / makedev 描述。/dev/makedev.local是 系统管理员为本地设备文件(或连接)写的描述文稿(即如一些非标准设备驱动不是标准 makedev 的一部分) 。下面简要介绍 / dev下一些常用文件。</p>\n<ol>\n<li><p>/ dev / console ：系统控制台，也就是直接和系统连接的监视器。</p>\n</li>\n<li><p>/ dev / hd ：ide硬盘驱动程序接口。如：/dev/hda指的是第一个硬盘，had1则是指 / dev / hda的第一个分区。如系统中有其他的硬盘，则依次为 / dev / hdb、/dev/hdc、. . . . . .；如有多个分区则依次为hda1、hda2. . . . . .</p>\n</li>\n<li><p>/ dev / sd ：scsi磁盘驱动程序接口。如有系统有scsi硬盘，就不会访问 / dev / had，而会访问 / dev / sda。</p>\n</li>\n<li><p>/ dev / fd ：软驱设备驱动程序。如：/dev/fd0指系统的第一个软盘，也就是通常所说的a：盘，/dev/fd1指第二个软盘，. . . . . .而 / dev / fd1h1440则表示访问驱动器1中的4. 5高密盘。</p>\n</li>\n<li><p>/ dev / st : scsi磁带驱动器驱动程序。</p>\n</li>\n<li><p>/ dev / tty : 提供虚拟控制台支持。如：/dev/tty1指的是系统的第一个虚拟控制台，/dev/tty2则是系统的第二个虚拟控制台。</p>\n</li>\n<li><p>/ dev / pty : 提供远程登陆伪终端支持。在进行telnet登录时就要用到 / dev / pty设备。</p>\n</li>\n<li><p>/ dev / ttys : 计算机串行接口，对于dos来说就是”com1”口。</p>\n</li>\n<li><p>/ dev / cua : 计算机串行接口，与调制解调器一起使用的设备。</p>\n</li>\n<li><p>/ dev / null : “黑洞”，所有写入该设备的信息都将消失。例如：当想要将屏幕上的输出信息隐藏起来时，只要将输出信息输入到 / dev / null中即可。</p>\n</li>\n</ol>\n<h3 id=\"五、-var文件系统：-var\"><a href=\"#五、-var文件系统：-var\" class=\"headerlink\" title=\"五、/var文件系统：/var\"></a>五、/var文件系统：/var</h3><p>包含系统一般运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化或扩充的。原来 / var目录中有些内容是在 / usr中的，但为了保持 / usr目录的相对稳定，就把那些需要经常改变的目录放到 / var中了。每个系统是特定的，即不通过网络与其他计算机共享。</p>\n<ol>\n<li><p>/var/catman:包括了格式化过的帮助(man)页。帮助页的源文件一般存在/usr / man / man中；有些man页可能有预格式化的版本，存在 / usr / man / cat中。而其他的man页在第一次看时都需要格式化，格式化完的版本存在 /var/man 中，这样其他人再看相同的页时就无须等待格式化了。(/var / catman 经常被清除，就像清除临时目录一样。)</p>\n</li>\n<li><p>/var/lib :存放系统正常运行时要改变的文件。</p>\n</li>\n<li><p>/var/local:存放/usr / local 中安装的程序的可变数据(即系统管理员安装的程序) 。注意，如果必要，即使本地安装的程序也会使用其他 /var 目录，例如/var/lock 。</p>\n</li>\n<li><p>/var/lock :锁定文件。许多程序遵循在/var / lock中产生一个锁定文件的约定，以用来支持他们正在使用某个特定的设备或文件。其他程序注意到这个锁定文件时，就不会再使用这个设备或文件。</p>\n</li>\n<li><p>/var/log :各种程序的日志( l o g )文件，尤其是login (/var / log / wtmplog纪录所有到系统的登录和注销) 和syslog(/var/log / messages 纪录存储所有核心和系统程序信息) 。/var/log 里的文件经常不确定地增长，应该定期清除。</p>\n</li>\n<li><p>/var/run :保存在下一次系统引导前有效的关于系统的信息文件。例如， /var / run / utmp 包含当前登录的用户的信息。</p>\n</li>\n<li><p>/var/spool :放置“假脱机( s p o o l )”程序的目录，如m a i l、n e w s、打印队列和其他队列工作的目录。每个不同的s p o o l在/var / spool 下有自己的子目录，例如，用户的邮箱就存放在 /var/spool/mail 中。</p>\n</li>\n<li><p>/var/tmp :比/tmp 允许更大的或需要存在较长时间的临时文件。注意系统管理员可能不允许 /var/tmp 有很旧的文件。</p>\n</li>\n</ol>\n<h3 id=\"六、-proc文件系统-proc\"><a href=\"#六、-proc文件系统-proc\" class=\"headerlink\" title=\"六、/proc文件系统:/proc\"></a>六、/proc文件系统:/proc</h3><p>文件系统是一个伪的文件系统，就是说它是一个实际上不存在的目录，因而这是一个非常特殊的目录。它并不存在于某个磁盘上，而是由核心在内存中产生。这个目录用于提 供关于系统的信息。下面说明一些最重要的文件和目录(/proc文件系统在procman页中有更详细的说)。</p>\n<ol>\n<li><p>/ proc / x : 关于进程x的信息目录，这一x是这一进程的标识号。每个进程在/proc下有一个名为自己进程号的目录。</p>\n</li>\n<li><p>/ proc / cpuinfo: 存放处理器(cpu)的信息，如cpu的类型、制造商、型号和性能等。</p>\n</li>\n<li><p>/ proc / devices : 当前运行的核心配置的设备驱动的列表。</p>\n</li>\n<li><p>/ proc / dma : 显示当前使用的d m a通道。</p>\n</li>\n<li><p>/ proc / filesystems: 核心配置的文件系统信息。</p>\n</li>\n<li><p>/ proc / interrupts : 显示被占用的中断信息和占用者的信息，以及被占用的数量。</p>\n</li>\n<li><p>/ proc / ioports : 当前使用的i / o端口。</p>\n</li>\n<li><p>/ proc / kcore : 系统物理内存映像。与物理内存大小完全一样，然而实际上没有占用这么多内存；它仅仅是在程序访问它时才被创建。(注意：除非你把它拷贝到什么地方，否则 / proc 下没有任何东西占用任何磁盘空间。)</p>\n</li>\n<li><p>/ proc / kmsg : 核心输出的消息。也会被送到syslog。</p>\n</li>\n<li><p>/ proc / ksyms : 核心符号表。</p>\n</li>\n<li><p>/ proc / loadavg : 系统“平均负载”; 3个没有意义的指示器指出系统当前的工作量。</p>\n</li>\n<li><p>/ proc / meminfo : 各种存储器使用信息，包括物理内存和交换分区(swap) 。</p>\n</li>\n<li><p>/ proc / modules : 存放当前加载了哪些核心模块信息。</p>\n</li>\n<li><p>/ proc / net : 网络协议状态信息。</p>\n</li>\n<li><p>/ proc / self : 存放到查看 / proc 的程序的进程目录的符号连接。当2个进程查看 / proc 时，这将会是不同的连接。这主要便于程序得到它自己的进程目录。</p>\n</li>\n<li><p>/ proc / stat : 系统的不同状态，例如，系统启动后页面发生错误的次数。</p>\n</li>\n<li><p>/ proc / uptime : 系统启动的时间长度。</p>\n</li>\n<li><p>/ proc / version : 核心版本。</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>CentOS 是一个基于Red Hat Linux 提供的可自由使用源代码的企业级Linux发行版本。每个版本的 CentOS都会获得十年的支持（通过安全更新方式）。新版本的 CentOS 大约每两年发行一次，而每个版本的 CentOS 会定期（大概每六个月）更新一次，以便支持新的硬件。这样，建立一个安全、低维护、稳定、高预测性、高重复性的 Linux 环境。CentOS是Community Enterprise Operating System的缩写。</p>","more":"\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/bin</td>\n<td>二进制可执行命令</td>\n</tr>\n<tr>\n<td>/dev</td>\n<td>设备特殊文件</td>\n</tr>\n<tr>\n<td>/etc</td>\n<td>系统管理和配置文件</td>\n</tr>\n<tr>\n<td>/etc/rc.d</td>\n<td>启动的配置文件和脚本</td>\n</tr>\n<tr>\n<td>/home</td>\n<td>用户主目录的基点，比如用户user的主目录就是/home / user，可以用~user表示</td>\n</tr>\n<tr>\n<td>/lib</td>\n<td>标准程序设计库，又叫动态链接共享库，作用类似windows里的.dll文件</td>\n</tr>\n<tr>\n<td>/sbin</td>\n<td>系统管理命令，这里存放的是系统管理员使用的管理程序</td>\n</tr>\n<tr>\n<td>/tmp</td>\n<td>公用的临时文件存储点</td>\n</tr>\n<tr>\n<td>/root</td>\n<td>系统管理员的主目录（呵呵，特权阶级）</td>\n</tr>\n<tr>\n<td>/mnt</td>\n<td>系统提供这个目录是让用户临时挂载其他的文件系统。</td>\n</tr>\n<tr>\n<td>/lost+found</td>\n<td>这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里</td>\n</tr>\n<tr>\n<td>/proc</td>\n<td>虚拟的目录，是系统内存的映射。可直接访问这个目录来获取系统信息。</td>\n</tr>\n<tr>\n<td>/var</td>\n<td>某些大文件的溢出区，比方说各种服务的日志文件</td>\n</tr>\n<tr>\n<td>/usr</td>\n<td>最庞大的目录，要用到的应用程序和文件几乎都在这个目录。其中包含：</td>\n</tr>\n<tr>\n<td>/usr/x11r6</td>\n<td>存放x window的目录</td>\n</tr>\n<tr>\n<td>/usr/bin</td>\n<td>众多的应用程序</td>\n</tr>\n<tr>\n<td>/usr/sbin</td>\n<td>超级用户的一些管理程序</td>\n</tr>\n<tr>\n<td>/usr/doc</td>\n<td>linux文档</td>\n</tr>\n<tr>\n<td>/usr/include</td>\n<td>linux下开发和编译应用程序所需要的头文件</td>\n</tr>\n<tr>\n<td>/usr/lib</td>\n<td>常用的动态链接库和软件包的配置文件</td>\n</tr>\n<tr>\n<td>/usr/man</td>\n<td>帮助文档</td>\n</tr>\n<tr>\n<td>/usr/src</td>\n<td>源代码，linux内核的源代码就放在 / usr / src / linux里</td>\n</tr>\n<tr>\n<td>/usr/local / bin</td>\n<td>本地增加的命令</td>\n</tr>\n<tr>\n<td>/usr/local / lib</td>\n<td>本地增加的库</td>\n</tr>\n</tbody></table>\n<h3 id=\"一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要-经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫-vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有-其他文件在根文件系统的子目录中。\"><a href=\"#一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要-经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫-vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有-其他文件在根文件系统的子目录中。\" class=\"headerlink\" title=\"一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。\"></a>一、通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要 经常改动，而且包括严格的文件和一个小的不经常改变的文件系统不容易损坏。除了可能的一个叫 / vmlinuz标准的系统引导映像之外，根目录一般不含任何文件。所有 其他文件在根文件系统的子目录中。</h3><ol>\n<li><p>/ bin：/bin 目录包含了引导启动所需的命令或普通用户可能用的命令(可能在引导启动后)。这些命令都是二进制文件的可执行程序( b i n是b i n a r-二进制的简称)，多是系统中重要的系统文件。</p>\n</li>\n<li><p>/ sbin：/sbin 目录类似/bin，也用于存储二进制文件。因为其中的大部分文件多是系统管理员使用的基本的系统程序，所以虽然普通用户必要且允许时可以使用，但一般不给普通用户使用。</p>\n</li>\n<li><p>/ etc：/etc目录存放着各种系统配置文件，其中包括了用户信息文件/etc / passwd，系统初始化文件 / etc / rc等。linux正是 * 这些文件才得以正常地运行。</p>\n</li>\n<li><p>/ root：/root目录是超级用户的目录。</p>\n</li>\n<li><p>/ lib：/lib目录是根文件系统上的程序所需的共享库，存放了根文件系统程序运行所需的共享文件。这些文件包含了可被许多程序共享的代码，以避免每个程序都包含有相同的子程序的副本，故可以使得可执行文件变得更小，节省空间。</p>\n</li>\n<li><p>/ lib / modules：/lib/modules 目录包含系统核心可加载各种模块，尤其是那些在恢复损坏的系统时重新引导系统所需的模块(例如网络和文件系统驱动) 。</p>\n</li>\n<li><p>/ dev：/dev目录存放了设备文件，即设备驱动程序，用户通过这些文件访问外部设备。比如，用户可以通过访问/dev / mouse来访问鼠标的输入，就像访问其他文件一样。</p>\n</li>\n<li><p>/ tmp：/tmp目录存放程序在运行时产生的信息和数据。但在引导启动后，运行的程序最好使用/var / tmp来代替 / tmp ，因为前者可能拥有一个更大的磁盘空间。</p>\n</li>\n<li><p>/ boot：/boot目录存放引导加载器(bootstrap loader)使用的文件，如l i l o，核心映像也经常放在这里，而不是放在根目录中。但是如果有许多核心映像，这个目录就可能变得很大，这时使用单独的文件系统会更好一些。还有一点要注意的是，要确保核心映像必须在i d e硬盘的前1 0 2 4柱面内。</p>\n</li>\n<li><p>/ mnt：/mnt目录是系统管理员临时安装(mount)文件系统的安装点。程序并不自动支持安装到/mnt 。/mnt下面可以分为许多子目录，例如/mnt / dosa 可能是使用msdos文件系统的软驱，而 / mnt / exta 可能是使用ext2文件系统的软驱，/mnt/cdrom光驱等等。</p>\n</li>\n<li><p>/ proc, /usr,/var, /home：其他文件系统的安装点。</p>\n</li>\n</ol>\n<h3 id=\"二、详细介绍：-etc文件系统：-etc\"><a href=\"#二、详细介绍：-etc文件系统：-etc\" class=\"headerlink\" title=\"二、详细介绍：/etc文件系统：/etc\"></a>二、详细介绍：/etc文件系统：/etc</h3><p>目录包含各种系统配置文件，下面说明其中的一些。其他的你应该知道它们属于哪个程序，并阅读该程序的man页。许多网络配置文件也在 / etc中。</p>\n<ol>\n<li><p>/ etc / rc或 / etc / rc.d或 / etc / rc ?.d : 启动、或改变运行级时运行的脚本或脚本的目录。</p>\n</li>\n<li><p>/ etc / passwd : 用户数据库，其中的域给出了用户名、真实姓名、用户起始目录、加密口令和用户的其他信息。</p>\n</li>\n<li><p>/ etc / fdprm : 软盘参数表，用以说明不同的软盘格式。可用setfdprm 进行设置。更多的信息见setfdprm的帮助页。</p>\n</li>\n<li><p>/ etc / fstab ：指定启动时需要自动安装的文件系统列表。也包括用swapon - a启用的s w a p区的信息。</p>\n</li>\n<li><p>/ etc / group ：类似 / etc / passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。</p>\n</li>\n<li><p>/ etc / inittab ：init 的配置文件。</p>\n</li>\n<li><p>/ etc / issue ：包括用户在登录提示符前的输出信息。通常包括系统的一段短说明或欢迎信息。具体内容由系统管理员确定。</p>\n</li>\n<li><p>/ etc / magic ：“file”的配置文件。包含不同文件格式的说明，“file”基于它猜测文件类型。</p>\n</li>\n<li><p>/ etc / motd ：motd是message of the day的缩写，用户成功登录后自动输出。内容由系统管理员确定。 常用于通告信息，如计划关机时间的警告等。</p>\n</li>\n<li><p>/ etc / mtab ：当前安装的文件系统列表。由脚本(scritp)初始化，并由mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如df 命令) 。</p>\n</li>\n<li><p>/ etc / shadow ：在安装了影子(shadow)口令软件的系统上的影子口令文件。影子口令文件将 / etc / passwd文件中的加密口令移动到 / etc / shadow中，而后者只对超级用户(root)可读。这使破译口令更困难，以此增加系统的安全性。</p>\n</li>\n<li><p>/ etc / login.defs ：login命令的配置文件。</p>\n</li>\n<li><p>/ etc / printcap ：类似 / etc / termcap ，但针对打印机。语法不同。</p>\n</li>\n<li><p>/ etc / profile 、/etc/csh.login、/etc/csh.cshrc ：登录或启动时b o u r n e或c shells执行的文件。这允许系统管理员为所有用户建立全局缺省环境。</p>\n</li>\n<li><p>/ etc / securetty : 确认安全终端，即哪个终端允许超级用户(root)登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem)或网络闯入系统并得到超级用户特权。</p>\n</li>\n<li><p>/ etc / shells : 列出可以使用的shell。chsh命令允许用户在本文件指定范围内改变登录的shell。提供一台机器f t p服务的服务进程ftpd 检查用户s h e l l是否列在 / etc / shells 文件中，如果不是，将不允许该用户登录。</p>\n</li>\n<li><p>/ etc / termcap ：终端性能数据库。说明不同的终端用什么“转义序列”控制。写程序时不直接输出转义序列(这样只能工作于特定品牌的终端) ，而是从 / etc / termcap 中查找要做的工作的正确序列。这样，多数的程序可以在多数终端上运行。</p>\n</li>\n</ol>\n<h3 id=\"三、-dev文件系统-：-dev\"><a href=\"#三、-dev文件系统-：-dev\" class=\"headerlink\" title=\"三、/dev文件系统 ：/dev\"></a>三、/dev文件系统 ：/dev</h3><p>目录包括所有设备的设备文件。设备文件用特定的约定命名，这在设备列表中说明。 设备文件在安装时由系统产生，以后可以用 / dev / makedev 描述。/dev/makedev.local是 系统管理员为本地设备文件(或连接)写的描述文稿(即如一些非标准设备驱动不是标准 makedev 的一部分) 。下面简要介绍 / dev下一些常用文件。</p>\n<ol>\n<li><p>/ dev / console ：系统控制台，也就是直接和系统连接的监视器。</p>\n</li>\n<li><p>/ dev / hd ：ide硬盘驱动程序接口。如：/dev/hda指的是第一个硬盘，had1则是指 / dev / hda的第一个分区。如系统中有其他的硬盘，则依次为 / dev / hdb、/dev/hdc、. . . . . .；如有多个分区则依次为hda1、hda2. . . . . .</p>\n</li>\n<li><p>/ dev / sd ：scsi磁盘驱动程序接口。如有系统有scsi硬盘，就不会访问 / dev / had，而会访问 / dev / sda。</p>\n</li>\n<li><p>/ dev / fd ：软驱设备驱动程序。如：/dev/fd0指系统的第一个软盘，也就是通常所说的a：盘，/dev/fd1指第二个软盘，. . . . . .而 / dev / fd1h1440则表示访问驱动器1中的4. 5高密盘。</p>\n</li>\n<li><p>/ dev / st : scsi磁带驱动器驱动程序。</p>\n</li>\n<li><p>/ dev / tty : 提供虚拟控制台支持。如：/dev/tty1指的是系统的第一个虚拟控制台，/dev/tty2则是系统的第二个虚拟控制台。</p>\n</li>\n<li><p>/ dev / pty : 提供远程登陆伪终端支持。在进行telnet登录时就要用到 / dev / pty设备。</p>\n</li>\n<li><p>/ dev / ttys : 计算机串行接口，对于dos来说就是”com1”口。</p>\n</li>\n<li><p>/ dev / cua : 计算机串行接口，与调制解调器一起使用的设备。</p>\n</li>\n<li><p>/ dev / null : “黑洞”，所有写入该设备的信息都将消失。例如：当想要将屏幕上的输出信息隐藏起来时，只要将输出信息输入到 / dev / null中即可。</p>\n</li>\n</ol>\n<h3 id=\"五、-var文件系统：-var\"><a href=\"#五、-var文件系统：-var\" class=\"headerlink\" title=\"五、/var文件系统：/var\"></a>五、/var文件系统：/var</h3><p>包含系统一般运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化或扩充的。原来 / var目录中有些内容是在 / usr中的，但为了保持 / usr目录的相对稳定，就把那些需要经常改变的目录放到 / var中了。每个系统是特定的，即不通过网络与其他计算机共享。</p>\n<ol>\n<li><p>/var/catman:包括了格式化过的帮助(man)页。帮助页的源文件一般存在/usr / man / man中；有些man页可能有预格式化的版本，存在 / usr / man / cat中。而其他的man页在第一次看时都需要格式化，格式化完的版本存在 /var/man 中，这样其他人再看相同的页时就无须等待格式化了。(/var / catman 经常被清除，就像清除临时目录一样。)</p>\n</li>\n<li><p>/var/lib :存放系统正常运行时要改变的文件。</p>\n</li>\n<li><p>/var/local:存放/usr / local 中安装的程序的可变数据(即系统管理员安装的程序) 。注意，如果必要，即使本地安装的程序也会使用其他 /var 目录，例如/var/lock 。</p>\n</li>\n<li><p>/var/lock :锁定文件。许多程序遵循在/var / lock中产生一个锁定文件的约定，以用来支持他们正在使用某个特定的设备或文件。其他程序注意到这个锁定文件时，就不会再使用这个设备或文件。</p>\n</li>\n<li><p>/var/log :各种程序的日志( l o g )文件，尤其是login (/var / log / wtmplog纪录所有到系统的登录和注销) 和syslog(/var/log / messages 纪录存储所有核心和系统程序信息) 。/var/log 里的文件经常不确定地增长，应该定期清除。</p>\n</li>\n<li><p>/var/run :保存在下一次系统引导前有效的关于系统的信息文件。例如， /var / run / utmp 包含当前登录的用户的信息。</p>\n</li>\n<li><p>/var/spool :放置“假脱机( s p o o l )”程序的目录，如m a i l、n e w s、打印队列和其他队列工作的目录。每个不同的s p o o l在/var / spool 下有自己的子目录，例如，用户的邮箱就存放在 /var/spool/mail 中。</p>\n</li>\n<li><p>/var/tmp :比/tmp 允许更大的或需要存在较长时间的临时文件。注意系统管理员可能不允许 /var/tmp 有很旧的文件。</p>\n</li>\n</ol>\n<h3 id=\"六、-proc文件系统-proc\"><a href=\"#六、-proc文件系统-proc\" class=\"headerlink\" title=\"六、/proc文件系统:/proc\"></a>六、/proc文件系统:/proc</h3><p>文件系统是一个伪的文件系统，就是说它是一个实际上不存在的目录，因而这是一个非常特殊的目录。它并不存在于某个磁盘上，而是由核心在内存中产生。这个目录用于提 供关于系统的信息。下面说明一些最重要的文件和目录(/proc文件系统在procman页中有更详细的说)。</p>\n<ol>\n<li><p>/ proc / x : 关于进程x的信息目录，这一x是这一进程的标识号。每个进程在/proc下有一个名为自己进程号的目录。</p>\n</li>\n<li><p>/ proc / cpuinfo: 存放处理器(cpu)的信息，如cpu的类型、制造商、型号和性能等。</p>\n</li>\n<li><p>/ proc / devices : 当前运行的核心配置的设备驱动的列表。</p>\n</li>\n<li><p>/ proc / dma : 显示当前使用的d m a通道。</p>\n</li>\n<li><p>/ proc / filesystems: 核心配置的文件系统信息。</p>\n</li>\n<li><p>/ proc / interrupts : 显示被占用的中断信息和占用者的信息，以及被占用的数量。</p>\n</li>\n<li><p>/ proc / ioports : 当前使用的i / o端口。</p>\n</li>\n<li><p>/ proc / kcore : 系统物理内存映像。与物理内存大小完全一样，然而实际上没有占用这么多内存；它仅仅是在程序访问它时才被创建。(注意：除非你把它拷贝到什么地方，否则 / proc 下没有任何东西占用任何磁盘空间。)</p>\n</li>\n<li><p>/ proc / kmsg : 核心输出的消息。也会被送到syslog。</p>\n</li>\n<li><p>/ proc / ksyms : 核心符号表。</p>\n</li>\n<li><p>/ proc / loadavg : 系统“平均负载”; 3个没有意义的指示器指出系统当前的工作量。</p>\n</li>\n<li><p>/ proc / meminfo : 各种存储器使用信息，包括物理内存和交换分区(swap) 。</p>\n</li>\n<li><p>/ proc / modules : 存放当前加载了哪些核心模块信息。</p>\n</li>\n<li><p>/ proc / net : 网络协议状态信息。</p>\n</li>\n<li><p>/ proc / self : 存放到查看 / proc 的程序的进程目录的符号连接。当2个进程查看 / proc 时，这将会是不同的连接。这主要便于程序得到它自己的进程目录。</p>\n</li>\n<li><p>/ proc / stat : 系统的不同状态，例如，系统启动后页面发生错误的次数。</p>\n</li>\n<li><p>/ proc / uptime : 系统启动的时间长度。</p>\n</li>\n<li><p>/ proc / version : 核心版本。</p>\n</li>\n</ol>\n","popularPost_tmp_postPath":true,"eyeCatchImage":null,"popularPost_tmp_gaData":{"updated":"Tue Oct 22 2019 15:55:13 GMT+0800 (GMT+08:00)","title":"CentOS系统下各文件夹的作用","path":"2019/10/14/linux/CentOS系统下各文件夹的作用/","eyeCatchImage":null,"excerpt":null,"date":"2019-10-14T06:32:48.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":[],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"玩转Linux操作系统","date":"2019-10-11T08:14:40.000Z","_content":"> 说明：本文中对Linux命令的讲解都是基于名为CentOS的Linux发行版本，我自己使用的是阿里云服务器，系统版本为CentOS Linux release 7.6.1810。不同的Linux发行版本在Shell命令和工具程序上会有一些差别，但是这些差别是很小的。\n\n### 操作系统发展史\n\n只有硬件没有软件的计算机系统被称之为“裸机”，我们很难用“裸机”来完成计算机日常的工作（如存储和运算），所以必须用特定的软件来控制硬件的工作。最靠近计算机硬件的软件是系统软件，其中最为重要的就是“操作系统”。“操作系统”是控制和管理整个计算机硬件和软件资源、实现资源分配和任务调配、为系统用户以及其他软件提供接口和环境的程序的集合。\n<!-- more -->\n#### 没有操作系统（手工操作）\n\n在计算机诞生之初没有操作系统的年代，人们先把程序纸带（或卡片）装上计算机，然后启动输入机把程序送入计算机，接着通过控制台开关启动程序运行。当程序执行完毕，打印机输出计算的结果，用户卸下并取走纸带（或卡片）。第二个用户上机，重复同样的步骤。在整个过程中用户独占机器，CPU等待手工操作，资源利用率极低。\n\n#### 批处理系统\n\n首先启动计算机上的一个监督程序，在监督程序的控制下，计算机能够自动的、成批的处理一个或多个用户的作业。完成一批作业后，监督程度又从输入机读取作业存入磁带机。按照上面的步骤重复处理任务。监督程序不停的处理各个作业，实现了作业的自动转接，减少了作业的建立时间和手工操作时间，提高了计算机资源的利用率。 批处理系统又可以分为单道批处理系统、多道批处理系统、联机批处理系统、脱机批处理系统。\n\n#### 分时系统和实时系统\n\n分时系统是把处理器的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。 若某个作业在分配给它的时间片内不能完成其计算，则该作业暂时中断，把处理机让给另一作业使用，等待下一轮调度时再继续其运行。由于计算机速度很快，作业运行轮转得很快，给每个用户的感觉是他独占了一台计算机。而每个用户可以通过自己的终端向系统发出各种操作控制命令，在充分的人机交互情况下，完成作业的运行。为了解决分时系统不能及时响应用户指令的情况，又出现了能够在在严格的时间范围内完成事件处理，及时响应随机外部事件的实时系统。\n\n#### 通用操作系统\n\n1. 1960s：IBM的System/360系列的机器有了统一的操作系统OS/360。\n\n2. 1965年：AT&T的贝尔实验室加入GE和MIT的合作计划开始开发MULTICS。\n\n3. 1969年：MULTICS项目失败，Ken Tompson赋闲在家，为了玩“Space Travel”游戏用汇编语言在当时已经被淘汰的PDP-7上开发了Unics。\n\n   > 注：很难想象，Unix这么伟大的系统，居然是一个赋闲在家的程序员（关键是老婆回娘家还带上了孩子）在一台被淘汰的设备上为了玩游戏开发出来的。\n\n4. 1970年~1971年：Ken Tompson和Dennis Ritchie用B语言在PDP-11上重写了Unics，并在Brian Kernighan的建议下将其更名为Unix。\n\n![upload successful](/images/pasted-8.png)\n\n5. 1972年~1973年：Dennis Ritchie发明了C语言来取代可移植性较差的B语言，并开启了用C语言重写Unix的工作。\n\n6. 1974年：Unix推出了里程碑意义的第5版，几乎完全用C语言来实现。\n\n7. 1979年：从Unix第7版开始，AT&T发布新的使用条款，将Unix私有化。\n\n8. 1987年：Andrew S. Tanenbaum教授为了能在课堂上为学生讲解操作系统运作的细节，决定在不使用任何AT&T的源代码前提下，自行开发与Unix兼容的操作系统以避免版权上的争议，该系统被命名为Minix。\n\n![upload successful](/images/pasted-9.png)\n\n9. 1991年：Linus Torvalds就读于芬兰赫尔辛基大学期间，尝试在Minix上做一些开发工作，但因为Minix只是作为教学用途的操作系统，功能并不强大，为了方便在学校的新闻组和邮件系统中读写和下载文件，Linus编写了磁盘驱动程序和文件系统，这些东西形成了Linux系统内核的雏形。\n\n![upload successful](/images/pasted-10.png)\n\n下图是Unix操作系统家族的图谱。\n\n![upload successful](/images/pasted-11.png)\n\n### Linux概述\n\nLinux是一个通用操作系统。一个操作系统要负责任务调度、内存分配、处理外围设备I/O等操作。操作系统通常由内核（运行其他程序，管理像磁盘、打印机等硬件设备的核心程序）和系统程序（设备驱动、底层库、shell、服务程序等）两部分组成。\n\nLinux内核是芬兰人Linus Torvalds开发的，于1991年9月发布。而Linux操作系统作为Internet时代的产物，它是由全世界许多开发者共同合作开发的，是一个自由的操作系统（注意自由和免费并不是同一个概念，想了解二者的差别可以[点击这里](https://www.debian.org/intro/free)）。\n\n### Linux系统优点\n\n1. 通用操作系统，不跟特定的硬件绑定。\n2. 用C语言编写，可移植性强，有内核编程接口。\n3. 支持多用户和多任务，支持安全的分层文件系统。\n4. 大量的实用程序，完善的网络功能以及强大的支持文档。\n5. 可靠的安全性和良好的稳定性，对开发者更友好。\n\n### Linux系统发行版本\n\n1. [Redhat](https://www.redhat.com/en)\n2. [Ubuntu](https://www.ubuntu.com/)\n3. [CentOS](https://www.centos.org/)\n4. [Fedora](https://getfedora.org/)\n5. [Debian](https://www.debian.org/)\n6. [openSUSE](https://www.opensuse.org/)\n\n### 基础命令\n\nLinux系统的命令通常都是如下所示的格式：\n\n```Shell\n命令名称 [命名参数] [命令对象]\n```\n\n1. 获取登录信息 - **w** / **who** / **last**/ **lastb**。\n\n   ```Shell\n   [root ~]# w\n    23:31:16 up 12:16,  2 users,  load average: 0.00, 0.01, 0.05\n   USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\n   root     pts/0    182.139.66.250   23:03    4.00s  0.02s  0.00s w\n   jackfrue pts/1    182.139.66.250   23:26    3:56   0.00s  0.00s -bash\n   [root ~]# who\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   jackfrued pts/1        2018-04-12 23:26 (182.139.66.250)\n   [root ~]# who am i\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   [root ~]# who mom likes\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   [root ~]# last\n   root     pts/0        117.136.63.184   Sun May 26 18:57   still logged in\n   reboot   system boot  3.10.0-957.10.1. Mon May 27 02:52 - 19:10  (-7:-42)\n   root     pts/4        117.136.63.184   Sun May 26 18:51 - crash  (08:01)\n   root     pts/4        117.136.63.184   Sun May 26 18:49 - 18:49  (00:00)\n   root     pts/3        117.136.63.183   Sun May 26 18:35 - crash  (08:17)\n   root     pts/2        117.136.63.183   Sun May 26 18:34 - crash  (08:17)\n   root     pts/0        117.136.63.183   Sun May 26 18:10 - crash  (08:42)\n   ```\n\n2. 查看自己使用的Shell - **ps**。\n\n   Shell也被称为“壳”或“壳程序”，它是用户与操作系统内核交流的翻译官，简单的说就是人与计算机交互的界面和接口。目前很多Linux系统默认的Shell都是bash（<u>B</u>ourne <u>A</u>gain <u>SH</u>ell），因为它可以使用tab键进行命令和路径补全、可以保存历史命令、可以方便的配置环境变量以及执行批处理操作。\n\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# ps\n     PID TTY          TIME CMD\n    3531 pts/0    00:00:00 bash\n    3553 pts/0    00:00:00 ps\n   ```\n\n3. 查看命令的说明和位置 - **whatis** / **which** / **whereis**。\n\n   ```Shell\n   [root ~]# whatis ps\n   ps (1)        - report a snapshot of the current processes.\n   [root ~]# whatis python\n   python (1)    - an interpreted, interactive, object-oriented programming language\n   [root ~]# whereis ps\n   ps: /usr/bin/ps /usr/share/man/man1/ps.1.gz\n   [root ~]# whereis python\n   python: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz\n   [root ~]# which ps\n   /usr/bin/ps\n   [root ~]# which python\n   /usr/bin/python\n   ```\n\n4. 清除屏幕上显示的内容 - **clear**。\n\n5. 查看帮助文档 - **man** / **info** / **help** / **apropos**。\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# ps --help\n   Usage:\n    ps [options]\n    Try 'ps --help <simple|list|output|threads|misc|all>'\n     or 'ps --help <s|l|o|t|m|a>'\n    for additional help text.\n   For more details see ps(1).\n   [root@izwz97tbgo9lkabnat2lo8z ~]# man ps\n   PS(1)                                User Commands                                PS(1)\n   NAME\n          ps - report a snapshot of the current processes.\n   SYNOPSIS\n          ps [options]\n   DESCRIPTION\n   ...\n   ```\n\n6. 查看系统和主机名 - **uname** / **hostname**。\n\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# uname\n   Linux\n   [root@izwz97tbgo9lkabnat2lo8z ~]# hostname\n   izwz97tbgo9lkabnat2lo8z\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\n   CentOS Linux release 7.6.1810 (Core)\n   ```\n\n   > 说明：`cat`是连接文件内容并打印到标准输出的命令，后面会讲到该命令；`/etc`是Linux系统上的一个非常重要的目录，它保存了很多的配置文件；`centos-release`是该目录下的一个文件，因为我自己使用的Linux发行版本是CentOS 7.6，因此这里会有一个这样的文件。\n\n7. 时间和日期 - **date** / **cal**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# date\n   Wed Jun 20 12:53:19 CST 2018\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cal\n         June 2018\n   Su Mo Tu We Th Fr Sa\n                   1  2\n    3  4  5  6  7  8  9\n   10 11 12 13 14 15 16\n   17 18 19 20 21 22 23\n   24 25 26 27 28 29 30\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cal 5 2017\n         May 2017\n   Su Mo Tu We Th Fr Sa\n       1  2  3  4  5  6\n    7  8  9 10 11 12 13\n   14 15 16 17 18 19 20\n   21 22 23 24 25 26 27\n   28 29 30 31\n   ```\n\n8. 重启和关机 - **reboot** / **shutdown**。\n\n   ```Shell\n   [root ~]# shutdown -h +5\n   Shutdown scheduled for Sun 2019-05-26 19:34:27 CST, use 'shutdown -c' to cancel.\n   [root ~]#\n   Broadcast message from root (Sun 2019-05-26 19:29:27 CST):\n\n   The system is going down for power-off at Sun 2019-05-26 19:34:27 CST!\n   [root ~]# shutdown -c\n\n   Broadcast message from root (Sun 2019-05-26 19:30:22 CST):\n\n   The system shutdown has been cancelled at Sun 2019-05-26 19:31:22 CST!\n   [root ~]# shutdown -r 23:58\n   Shutdown scheduled for Sun 2019-05-26 23:58:00 CST, use 'shutdown -c' to cancel.\n   [root ~]# shutdown -c\n\n   Broadcast message from root (Sun 2019-05-26 19:31:06 CST):\n\n   The system shutdown has been cancelled at Sun 2019-05-26 19:32:06 CST!\n   ```\n\n   > 说明：在执行`shutdown`命令时会向登录系统的用户发出警告，可以在命令后面跟上警告消息来替换默认的警告消息，也可以在`-h`参数后通过`now`来表示立刻关机。\n\n9. 退出登录 -  **exit** / **logout**。\n\n10. 查看历史命令 - **history**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# history\n  ...\n  452  ls\n  453  cd Python-3.6.5/\n  454  clear\n  455  history\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# !454\n  ```\n\n  > 说明：查看到历史命令之后，可以用`!历史命令编号`来重新执行该命令；通过`history -c`可以清除历史命令。\n\n### 实用程序\n\n#### 文件和文件夹操作\n\n1. 创建/删除空目录 - **mkdir** / **rmdir**。\n\n   ```Shell\n   [root ~]# mkdir abc\n   [root ~]# mkdir -p xyz/abc\n   [root ~]# rmdir abc\n   ```\n\n2. 创建/删除文件 - **touch** / **rm**。\n\n   ```Shell\n   [root ~]# touch readme.txt\n   [root ~]# touch error.txt\n   [root ~]# rm error.txt\n   rm: remove regular empty file ‘error.txt’? y\n   [root ~]# rm -rf xyz\n   ```\n\n   - `touch`命令用于创建空白文件或修改文件时间。在Linux系统中一个文件有三种时间：\n     - 更改内容的时间 - mtime。\n     - 更改权限的时间 - ctime。\n     - 最后访问时间 - atime。\n   - `rm`的几个重要参数：\n     - `-i`：交互式删除，每个删除项都会进行询问。\n     - `-r`：删除目录并递归的删除目录中的文件和目录。\n     - `-f`：强制删除，忽略不存在的文件，没有任何提示。\n\n3. 切换和查看当前工作目录 - **cd** / **pwd**。\n\n   > 说明：`cd`命令后面可以跟相对路径（以当前路径作为参照）或绝对路径（以`/`开头）来切换到指定的目录，也可以用`cd ..`来返回上一级目录。请大家想一想，如果要返回到上上一级目录应该给`cd`命令加上什么样的参数呢？\n\n4. 查看目录内容 - **ls**。\n\n   - `-l`：以长格式查看文件和目录。\n   - `-a`：显示以点开头的文件和目录（隐藏文件）。\n   - `-R`：遇到目录要进行递归展开（继续列出目录下面的文件和目录）。\n   - `-d`：只列出目录，不列出其他内容。\n   - `-S` / `-t`：按大小/时间排序。\n\n5. 查看文件内容 - **cat** / **tac** / **head** / **tail** / **more** / **less** / **rev** / **od**。\n\n   ```Shell\n   [root ~]# wget http://www.sohu.com/ -O sohu.html\n   --2018-06-20 18:42:34--  http://www.sohu.com/\n   Resolving www.sohu.com (www.sohu.com)... 14.18.240.6\n   Connecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.\n   HTTP request sent, awaiting response... 200 OK\n   Length: 212527 (208K) [text/html]\n   Saving to: ‘sohu.html’\n   100%[==================================================>] 212,527     --.-K/s   in 0.03s\n   2018-06-20 18:42:34 (7.48 MB/s) - ‘sohu.html’ saved [212527/212527]\n   [root ~]# cat sohu.html\n   ...\n   [root ~]# head -10 sohu.html\n   <!DOCTYPE html>\n   <html>\n   <head>\n   <title>搜狐</title>\n   <meta name=\"Keywords\" content=\"搜狐,门户网站,新媒体,网络媒体,新闻,财经,体育,娱乐,时尚,汽车,房产,科技,图片,论坛,微博,博客,视频,电影,电视剧\"/>\n   <meta name=\"Description\" content=\"搜狐网为用户提供24小时不间断的最新资讯，及搜索、邮件等网络服务。内容包括全球热点事件、突发新闻、时事评论、热播影视剧、体育赛事、行业动态、生活服务信息，以及论坛、博客、微博、我的搜狐等互动空间。\" />\n   <meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\">\n   <meta charset=\"utf-8\"/>\n   <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/>\n   [root ~]# tail -2 sohu.html\n   </body>\n   </html>\n   [root ~]# less sohu.html\n   ...\n   [root ~]# cat -n sohu.html | more\n   ...\n   ```\n\n   > 说明：上面用到了一个名为`wget`的命令，它是一个网络下载器程序，可以从指定的URL下载资源。\n\n6. 拷贝/移动文件 - **cp** / **mv**。\n\n   ```Shell\n   [root ~]# mkdir backup\n   [root ~]# cp sohu.html backup/\n   [root ~]# cd backup\n   [root backup]# ls\n   sohu.html\n   [root backup]# mv sohu.html sohu_index.html\n   [root backup]# ls\n   sohu_index.html\n   ```\n\n7. 文件重命名 - **rename**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# rename .htm .html *.htm\n  ```\n\n8. 查找文件和查找内容 - **find** / **grep**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# find / -name \"*.html\"\n   /root/sohu.html\n   /root/backup/sohu_index.html\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -atime 7 -type f -print\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -size +2k\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -name \"*.swp\" -delete\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# grep \"<script>\" sohu.html -n\n   20:<script>\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# grep -E \\<\\/?script.*\\> sohu.html -n\n   20:<script>\n   22:</script>\n   24:<script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"></script>\n   25:<script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"></script>\n   26:<script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"></script>\n   29:<script type=\"text/javascript\">\n   52:</script>\n   ...\n   ```\n   > 说明：`grep`在搜索字符串时可以使用正则表达式，如果需要使用正则表达式可以用`grep -E`或者直接使用`egrep`。\n\n9. 创建链接和查看链接 - **ln** / **readlink**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup2\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /etc/centos-release sysinfo\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sysinfo\n   lrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -> /etc/centos-release\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sysinfo\n   CentOS Linux release 7.4.1708 (Core)\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\n   CentOS Linux release 7.4.1708 (Core)\n   ```\n\n   > 说明：链接可以分为硬链接和软链接（符号链接）。硬链接可以认为是一个指向文件数据的指针，就像Python中对象的引用计数，每添加一个硬链接，文件的对应链接数就增加1，只有当文件的链接数为0时，文件所对应的存储空间才有可能被其他文件覆盖。我们平常删除文件时其实并没有删除硬盘上的数据，我们删除的只是一个指针，或者说是数据的一条使用记录，所以类似于“文件粉碎机”之类的软件在“粉碎”文件时除了删除文件指针，还会在文件对应的存储区域填入数据来保证文件无法再恢复。软链接类似于Windows系统下的快捷方式，当软链接链接的文件被删除时，软链接也就失效了。\n\n10. 压缩/解压缩和归档/解归档 - **gzip** / **gunzip** / **xz**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz\n  --2018-06-20 19:29:59--  http://download.redis.io/releases/redis-4.0.10.tar.gz\n  Resolving download.redis.io (download.redis.io)... 109.74.203.151\n  Connecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.\n  HTTP request sent, awaiting response... 200 OK\n  Length: 1738465 (1.7M) [application/x-gzip]\n  Saving to: ‘redis-4.0.10.tar.gz’\n  100%[==================================================>] 1,738,465   70.1KB/s   in 74s\n  2018-06-20 19:31:14 (22.9 KB/s) - ‘redis-4.0.10.tar.gz’ saved [1738465/1738465]\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\n  redis-4.0.10.tar.gz\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-4.0.10.tar.gz\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\n  redis-4.0.10.tar\n  ```\n\n11. 归档和解归档 - **tar**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-4.0.10.tar\n   redis-4.0.10/\n   redis-4.0.10/.gitignore\n   redis-4.0.10/00-RELEASENOTES\n   redis-4.0.10/BUGS\n   redis-4.0.10/CONTRIBUTING\n   redis-4.0.10/COPYING\n   redis-4.0.10/INSTALL\n   redis-4.0.10/MANIFESTO\n   redis-4.0.10/Makefile\n   redis-4.0.10/README.md\n   redis-4.0.10/deps/\n   redis-4.0.10/deps/Makefile\n   redis-4.0.10/deps/README.md\n   ...\n   ```\n\n   > 说明：归档（也称为创建归档）和解归档都使用`tar`命令，通常创建归档需要`-cvf`三个参数，其中`c`表示创建（create），`v`表示显示创建归档详情（verbose），`f`表示指定归档的文件（file）；解归档需要加上`-xvf`参数，其中`x`表示抽取（extract），其他两个参数跟创建归档相同。\n\n12. 将标准输入转成命令行参数 - **xargs**。\n\n   下面的命令会将查找当前路径下的html文件，然后通过`xargs`将这些文件作为参数传给`rm`命令，实现查找并删除文件的操作。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -type f -name \"*.html\" | xargs rm -f\n   ```\n\n   下面的命令将a.txt文件中的多行内容变成一行输出到b.txt文件中，其中`<`表示从a.txt中读取输入，`>`表示将命令的执行结果输出到b.txt中。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# xargs < a.txt > b.txt\n   ```\n\n   > 说明：这个命令就像上面演示的那样常在管道（实现进程间通信的一种方式）和重定向（重新指定输入输出的位置）操作中用到，后面的内容中会讲到管道操作和输入输出重定向操作。\n\n13. 显示文件或目录 - **basename** / **dirname**。\n\n14. 其他相关工具。\n\n   - **sort** - 对内容排序\n   - **uniq** - 去掉相邻重复内容\n   - **tr** - 替换指定内容为新内容\n   - **cut** / **paste** - 剪切/黏贴内容\n   - **split** - 拆分文件\n   - **file** - 判断文件类型\n   - **wc** - 统计文件行数、单词数、字节数\n   - **iconv** - 编码转换\n\n   ```Shell\n   [root ~]# cat foo.txt\n   grape\n   apple\n   pitaya\n   [root ~]# cat bar.txt\n   100\n   200\n   300\n   400\n   [root ~]# paste foo.txt bar.txt\n   grape   100\n   apple   200\n   pitaya  300\n           400\n   [root ~]# paste foo.txt bar.txt > hello.txt\n   [root ~]# cut -b 4-8 hello.txt\n   pe      10\n   le      20\n   aya     3\n   0\n   [root ~]# cat hello.txt | tr '\\t' ','\n   grape,100\n   apple,200\n   pitaya,300\n   ,400\n   [root ~]# split -l 100 sohu.html hello\n   [root ~]# wget https://www.baidu.com/img/bd_logo1.png\n   [root ~]# file bd_logo1.png\n   bd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced\n   [root ~]# wc sohu.html\n     2979   6355 212527 sohu.html\n   [root ~]# wc -l sohu.html\n   2979 sohu.html\n   [root ~]# wget http://www.qq.com -O qq.html\n   [root ~]# iconv -f gb2312 -t utf-8 qq.html\n   ```\n\n#### 管道和重定向\n\n1. 管道的使用 - **\\|**。\n\n   例子：查找当前目录下文件个数。\n\n   ```Shell\n   [root ~]# find ./ | wc -l\n   6152\n   ```\n\n   例子：列出当前路径下的文件和文件夹，给每一项加一个编号。\n\n   ```Shell\n   [root ~]# ls | cat -n\n        1  dump.rdb\n        2  mongodb-3.6.5\n        3  Python-3.6.5\n        4  redis-3.2.11\n        5  redis.conf\n   ```\n\n   例子：查找record.log中包含AAA，但不包含BBB的记录的总数\n\n   ```Shell\n   [root ~]# cat record.log | grep AAA | grep -v BBB | wc -l\n   ```\n\n2. 输出重定向和错误重定向 - **\\>** / **>>** / **2\\>**。\n\n   ```Shell\n   [root ~]# cat readme.txt\n   banana\n   apple\n   grape\n   apple\n   grape\n   watermelon\n   pear\n   pitaya\n   [root ~]# cat readme.txt | sort | uniq > result.txt\n   [root ~]# cat result.txt\n   apple\n   banana\n   grape\n   pear\n   pitaya\n   watermelon\n   ```\n\n3. 输入重定向 - **\\<**。\n\n   ```Shell\n   [root ~]# echo 'hello, world!' > hello.txt\n   [root ~]# wall < hello.txt\n   [root ~]#\n   Broadcast message from root (Wed Jun 20 19:43:05 2018):\n   hello, world!\n   [root ~]# echo 'I will show you some code.' >> hello.txt\n   [root ~]# wall < hello.txt\n   [root ~]#\n   Broadcast message from root (Wed Jun 20 19:43:55 2018):\n   hello, world!\n   I will show you some code.\n   ```\n\n4. 多重定向 - **tee**。\n\n   下面的命令除了在终端显示命令`ls`的结果之外，还会追加输出到`ls.txt`文件中。\n\n   ```Shell\n   [root ~]# ls | tee -a ls.txt\n   ```\n\n#### 别名\n\n1. **alias**\n\n   ```Shell\n   [root ~]# alias ll='ls -l'\n   [root ~]# alias frm='rm -rf'\n   [root ~]# ll\n   ...\n   drwxr-xr-x  2 root       root   4096 Jun 20 12:52 abc\n   ...\n   [root ~]# frm abc\n   ```\n\n2. **unalias**\n\n   ```Shell\n   [root ~]# unalias frm\n   [root ~]# frm sohu.html\n   -bash: frm: command not found\n   ```\n\n#### 文本处理\n\n1. 字符流编辑器 - **sed**。\n\n   sed是操作、过滤和转换文本内容的工具。假设有一个名为fruit.txt的文件，内容如下所示。\n\n   ```Shell\n   [root ~]# cat -n fruit.txt\n        1  banana\n        2  grape\n        3  apple\n        4  watermelon\n        5  orange\n   ```\n\n   接下来，我们在第2行后面添加一个pitaya。\n\n   ```Shell\n   [root ~]# sed '2a pitaya' fruit.txt\n   banana\n   grape\n   pitaya\n   apple\n   watermelon\n   orange\n   ```\n\n   > 注意：刚才的命令和之前我们讲过的很多命令一样并没有改变fruit.txt文件，而是将添加了新行的内容输出到终端中，如果想保存到fruit.txt中，可以使用输出重定向操作。\n\n   在第2行前面插入一个waxberry。\n\n   ```Shell\n   [root ~]# sed '2i waxberry' fruit.txt\n   banana\n   waxberry\n   grape\n   apple\n   watermelon\n   orange\n   ```\n\n   删除第3行。\n\n   ```Shell\n   [root ~]# sed '3d' fruit.txt\n   banana\n   grape\n   watermelon\n   orange\n   ```\n\n   删除第2行到第4行。\n\n   ```Shell\n   [root ~]# sed '2,4d' fruit.txt\n   banana\n   orange\n   ```\n\n   将文本中的字符a替换为@。\n\n   ```Shell\n   [root ~]# sed 's#a#@#' fruit.txt\n   b@nana\n   gr@pe\n   @pple\n   w@termelon\n   or@nge\n   ```\n\n   将文本中的字符a替换为@，使用全局模式。\n\n   ```Shell\n   [root ~]# sed 's#a#@#g' fruit.txt\n   b@n@n@\n   gr@pe\n   @pple\n   w@termelon\n   or@nge\n   ```\n\n2. 模式匹配和处理语言 - **awk**。\n\n   awk是一种编程语言，也是Linux系统中处理文本最为强大的工具，它的作者之一和现在的维护者就是之前提到过的Brian Kernighan（ken和dmr最亲密的伙伴）。通过该命令可以从文本中提取出指定的列、用正则表达式从文本中取出我们想要的内容、显示指定的行以及进行统计和运算，总之它非常强大。\n\n   假设有一个名为fruit2.txt的文件，内容如下所示。\n\n   ```Shell\n   [root ~]# cat fruit2.txt\n   1       banana      120\n   2       grape       500\n   3       apple       1230\n   4       watermelon  80\n   5       orange      400\n   ```\n\n   显示文件的第3行。\n\n   ```Shell\n   [root ~]# awk 'NR==3' fruit2.txt\n   3       apple       1230\n   ```\n\n   显示文件的第2列。\n\n   ```Shell\n   [root ~]# awk '{print $2}' fruit2.txt\n   banana\n   grape\n   apple\n   watermelon\n   orange\n   ```\n\n   显示文件的最后一列。\n\n   ```Shell\n   [root ~]# awk '{print $NF}' fruit2.txt\n   120\n   500\n   1230\n   80\n   400\n   ```\n\n   输出末尾数字大于等于300的行。\n\n   ```Shell\n   [root ~]# awk '{if($3 >= 300) {print $0}}' fruit2.txt\n   2       grape       500\n   3       apple       1230\n   5       orange      400\n   ```\n\n   上面展示的只是awk命令的冰山一角，更多的内容留给读者自己在实践中去探索。\n\n### 用户管理\n\n1. 创建和删除用户 - **useradd** / **userdel**。\n\n   ```Shell\n   [root home]# useradd hellokitty\n   [root home]# userdel hellokitty\n   ```\n\n   - `-d` - 创建用户时为用户指定用户主目录\n   - `-g` - 创建用户时指定用户所属的用户组\n\n2. 创建和删除用户组 - **groupadd** / **groupdel**。\n\n   > 说明：用户组主要是为了方便对一个组里面所有用户的管理。\n\n3. 修改密码 - **passwd**。\n\n   ```Shell\n   [root ~]# passwd hellokitty\n   New password:\n   Retype new password:\n   passwd: all authentication tokens updated successfully.\n   ```\n\n   > 说明：输入密码和确认密码没有回显且必须一气呵成的输入完成（不能使用退格键），密码和确认密码需要一致。如果使用`passwd`命令时没有指定命令作用的对象，则表示要修改当前用户的密码。如果想批量修改用户密码，可以使用`chpasswd`命令。\n\n   - `-l` / `-u` - 锁定/解锁用户。\n   - `-d` - 清除用户密码。\n   - `-e` - 设置密码立即过期，用户登录时会强制要求修改密码。\n   - `-i` - 设置密码过期多少天以后禁用该用户。\n\n4. 查看和修改密码有效期 - **chage**。\n\n   设置hellokitty用户100天后必须修改密码，过期前15天通知该用户，过期后15天禁用该用户。\n\n   ```Shell\n   chage -M 100 -W 15 -I 15 hellokitty\n   ```\n\n5. 切换用户 - **su**。\n\n   ```Shell\n   [root ~]# su hellokitty\n   [hellokitty root]$\n   ```\n\n6. 以管理员身份执行命令 - **sudo**。\n\n   ```Shell\n   [hellokitty ~]$ ls /root\n   ls: cannot open directory /root: Permission denied\n   [hellokitty ~]$ sudo ls /root\n   [sudo] password for hellokitty:\n   ```\n\n   > **说明**：如果希望用户能够以管理员身份执行命令，用户必须要出现在sudoers名单中，sudoers文件在 `/etc`目录下，如果希望直接编辑该文件也可以使用下面的命令。\n\n7. 编辑sudoers文件 - **visudo**。\n\n   这里使用的编辑器是vi，关于vi的知识在后面有讲解。该文件的部分内容如下所示：\n\n   ```\n   ## Allow root to run any commands anywhere\n   root    ALL=(ALL)   ALL\n\n   ## Allows members of the 'sys' group to run networking, software,\n   ## service management apps and more.\n   # %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS\n   ## Allows people in group wheel to run all commands\n   %wheel  ALL=(ALL)   ALL\n\n   ## Same thing without a password\n   # %wheel    ALL=(ALL)   NOPASSWD: ALL\n\n   ## Allows members of the users group to mount and unmount the\n   ## cdrom as root\n   # %users  ALL=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom\n\n   ## Allows members of the users group to shutdown this system\n   # %users  localhost=/sbin/shutdown -h now\n   ```\n\n8. 显示用户与用户组的信息 - **id**。\n\n9. 给其他用户发消息 -**write** / **wall**。\n\n   发送方：\n\n   ```Shell\n   [root ~]# write hellokitty\n   Dinner is on me.\n   Call me at 6pm.\n   ```\n\n   接收方：\n\n   ```Shell\n   [hellokitty ~]$\n   Message from root on pts/0 at 17:41 ...\n   Dinner is on me.\n   Call me at 6pm.\n   EOF\n   ```\n\n10. 查看/设置是否接收其他用户发送的消息 - **mesg**。\n\n   ```Shell\n   [hellokitty ~]$ mesg\n   is y\n   [hellokitty ~]$ mesg n\n   [hellokitty ~]$ mesg\n   is n\n   ```\n\n### 文件系统\n\n#### 文件和路径\n\n1. 命名规则：文件名的最大长度与文件系统类型有关，一般情况下，文件名不应该超过255个字符，虽然绝大多数的字符都可以用于文件名，但是最好使用英文大小写字母、数字、下划线、点这样的符号。文件名中虽然可以使用空格，但应该尽可能避免使用空格，否则在输入文件名时需要用将文件名放在双引号中或者通过`\\`对空格进行转义。\n2. 扩展名：在Linux系统下文件的扩展名是可选的，但是使用扩展名有助于对文件内容的理解。有些应用程序要通过扩展名来识别文件，但是更多的应用程序并不依赖文件的扩展名，就像`file`命令在识别文件时并不是依据扩展名来判定文件的类型。\n3. 隐藏文件：以点开头的文件在Linux系统中是隐藏文件（不可见文件）。\n\n#### 目录结构\n\n1. /bin - 基本命令的二进制文件。\n2. /boot - 引导加载程序的静态文件。\n3. /dev - 设备文件。\n4. **/etc** - 配置文件。\n5. /home - 普通用户主目录的父目录。\n6. /lib - 共享库文件。\n7. /lib64 - 共享64位库文件。\n8. /lost+found - 存放未链接文件。\n9. /media - 自动识别设备的挂载目录。\n10. /mnt - 临时挂载文件系统的挂载点。\n11. /opt - 可选插件软件包安装位置。\n12. /proc -  内核和进程信息。\n13. **/root** - 超级管理员用户主目录。\n14. /run - 存放系统运行时需要的东西。\n15. /sbin - 超级用户的二进制文件。\n16. /sys - 设备的伪文件系统。\n17. /tmp - 临时文件夹。\n18. **/usr** - 用户应用目录。\n19. /var - 变量数据目录。\n\n#### 访问权限\n\n1. **chmod** - 改变文件模式比特。\n\n   ```Shell\n   [root ~]# ls -l\n   ...\n   -rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   [root ~]# chmod g+w,o+w sohu.html\n   [root ~]# ls -l\n   ...\n   -rw-rw-rw-  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   [root ~]# chmod 644 sohu.html\n   [root ~]# ls -l\n   ...\n   -rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   ```\n   > 说明：通过上面的例子可以看出，用`chmod`改变文件模式比特有两种方式：一种是字符设定法，另一种是数字设定法。除了`chmod`之外，可以通过`umask`来设定哪些权限将在新文件的默认权限中被删除。\n\n   长格式查看目录或文件时显示结果及其对应权限的数值如下表所示。\n\n![upload successful](/images/pasted-14.png)\n\n2. **chown** - 改变文件所有者。\n\n    ```Shell\n    [root ~]# ls -l\n    ...\n    -rw-r--r--  1 root root     54 Jun 20 10:06 readme.txt\n    ...\n    [root ~]# chown hellokitty readme.txt\n    [root ~]# ls -l\n    ...\n    -rw-r--r--  1 hellokitty root     54 Jun 20 10:06 readme.txt\n    ...\n    ```\n\n3. **chgrp** - 改变用户组。\n\n#### 磁盘管理\n\n1. 列出文件系统的磁盘使用状况 - **df**。\n\n   ```Shell\n   [root ~]# df -h\n   Filesystem      Size  Used Avail Use% Mounted on\n   /dev/vda1        40G  5.0G   33G  14% /\n   devtmpfs        486M     0  486M   0% /dev\n   tmpfs           497M     0  497M   0% /dev/shm\n   tmpfs           497M  356K  496M   1% /run\n   tmpfs           497M     0  497M   0% /sys/fs/cgroup\n   tmpfs           100M     0  100M   0% /run/user/0\n   ```\n\n2. 磁盘分区表操作 - **fdisk**。\n\n   ```Shell\n   [root ~]# fdisk -l\n   Disk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors\n   Units = sectors of 1 * 512 = 512 bytes\n   Sector size (logical/physical): 512 bytes / 512 bytes\n   I/O size (minimum/optimal): 512 bytes / 512 bytes\n   Disk label type: dos\n   Disk identifier: 0x000a42f4\n      Device Boot      Start         End      Blocks   Id  System\n   /dev/vda1   *        2048    83884031    41940992   83  Linux\n   Disk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectors\n   Units = sectors of 1 * 512 = 512 bytes\n   Sector size (logical/physical): 512 bytes / 512 bytes\n   I/O size (minimum/optimal): 512 bytes / 512 bytes\n   ```\n\n3. 磁盘分区工具 - **parted**。\n\n4. 格式化文件系统 - **mkfs**。\n\n   ```Shell\n   [root ~]# mkfs -t ext4 -v /dev/sdb\n   ```\n\n   - `-t` - 指定文件系统的类型。\n   - `-c` - 创建文件系统时检查磁盘损坏情况。\n   - `-v` - 显示详细信息。\n\n5. 文件系统检查 - **fsck**。\n\n6. 转换或拷贝文件 - **dd**。\n\n7. 挂载/卸载 - **mount** / **umount**。\n\n8. 创建/激活/关闭交换分区 - **mkswap** / **swapon** / **swapoff**。\n\n> 说明：执行上面这些命令会带有一定的风险，如果不清楚这些命令的用法，最好不用随意使用，在使用的过程中，最好对照参考资料进行操作，并在操作前确认是否要这么做。\n\n### 编辑器 - vim\n\n1. 启动vim。可以通过`vi`或`vim`命令来启动vim，启动时可以指定文件名来打开一个文件，如果没有指定文件名，也可以在保存的时候指定文件名。\n\n   ```Shell\n   [root ~]# vim guess.py\n   ```\n\n2. 命令模式、编辑模式和末行模式：启动vim进入的是命令模式（也称为Normal模式），在命令模式下输入英文字母`i`会进入编辑模式（Insert模式），屏幕下方出现`-- INSERT --`提示；在编辑模式下按下`Esc`会回到命令模式，此时如果输入英文`:`会进入末行模式，在末行模式下输入`q!`可以在不保存当前工作的情况下强行退出vim；在命令模式下输入`v`会进入可视模式（Visual模式），可以用光标选择一个区域再完成对应的操作。\n\n3. 保存和退出vim：在命令模式下输入`:` 进入末行模式，输入`wq`可以实现保存退出；如果想放弃编辑的内容输入`q!`强行退出，这一点刚才已经提到过了；在命令模式下也可以直接输入`ZZ`实现保存退出。如果只想保存文件不退出，那么可以在末行模式下输入`w`；可以在`w`后面输入空格再指定要保存的文件名。\n\n4. 光标操作。\n\n   - 在命令模式下可以通过`h`、`j`、`k`、`l`来控制光标向左、下、上、右的方向移动，可以在字母前输入数字来表示移动的距离，例如：`10h`表示向左移动10个字符。\n   - 在命令模式下可以通过`Ctrl+y`和`Ctrl+e`来实现向上、向下滚动一行文本的操作，可以通过`Ctrl+f`和`Ctrl+b`来实现向前和向后翻页的操作。\n   - 在命令模式下可以通过输入英文字母`G`将光标移到文件的末尾，可以通过`gg`将光标移到文件的开始，也可以通过在`G`前输入数字来将光标移动到指定的行。\n\n5. 文本操作。\n\n   - 删除：在命令模式下可以用`dd`来删除整行；可以在`dd`前加数字来指定删除的行数；可以用`d$`来实现删除从光标处删到行尾的操作，也可以通过`d0`来实现从光标处删到行首的操作；如果想删除一个单词，可以使用`dw`；如果要删除全文，可以在输入`:%d`（其中`:`用来从命令模式进入末行模式）。\n   - 复制和粘贴：在命令模式下可以用`yy`来复制整行；可以在`yy`前加数字来指定复制的行数；可以通过`p`将复制的内容粘贴到光标所在的地方。\n   - 撤销和恢复：在命令模式下输入`u`可以撤销之前的操作；通过`Ctrl+r`可以恢复被撤销的操作。\n   - 对内容进行排序：在命令模式下输入`%!sort`。\n\n6. 查找和替换。\n\n   - 查找操作需要输入`/`进入末行模式并提供正则表达式来匹配与之对应的内容，例如：`/doc.*\\.`，输入`n`来向前搜索，也可以输入`N`来向后搜索。\n   - 替换操作需要输入`:`进入末行模式并指定搜索的范围、正则表达式以及替换后的内容和匹配选项，例如：`:1,$s/doc.*/hello/gice`，其中：\n     - `g` - global：全局匹配。\n     - `i` - ignore case：忽略大小写匹配。\n     - `c` - confirm：替换时需要确认。\n     - `e` - error：忽略错误。\n\n7. 参数设定：在输入`:`进入末行模式后可以对vim进行设定。\n\n   - 设置Tab键的空格数：`set ts=4`\n\n   - 设置显示/不显示行号：`set nu` / `set nonu`\n\n   - 设置启用/关闭高亮语法：`syntax on` / `syntax off`\n\n   - 设置显示标尺（光标所在的行和列）： `set ruler`\n\n   - 设置启用/关闭搜索结果高亮：`set hls` / `set nohls`\n\n     > 说明：如果希望上面的这些设定在每次启动vim时都能自动生效，需要将这些设定写到用户主目录下的.vimrc文件中。\n\n8. 高级技巧\n\n   - 比较多个文件。\n\n     ```Shell\n     [root ~]# vim -d foo.txt bar.txt\n     ```\n     \n![upload successful](/images/pasted-15.png)\n\n   - 打开多个文件。\n\n     ```Shell\n     [root ~]# vim foo.txt bar.txt hello.txt\n     ```\n\n     启动vim后只有一个窗口显示的是foo.txt，可以在末行模式中输入`ls`查看到打开的三个文件，也可以在末行模式中输入`b <num>`来显示另一个文件，例如可以用`:b 2`将bar.txt显示出来，可以用`:b 3`将hello.txt显示出来。\n\n   - 拆分和切换窗口。\n\n     可以在末行模式中输入`sp`或`vs`来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次`Ctrl+w`就可以实现编辑窗口的切换，在一个窗口中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。\n\n![upload successful](/images/pasted-12.png)\n\n   - 映射快捷键：在vim下可以将一些常用操作映射为快捷键来提升工作效率。\n     - 例子1：在命令模式下输入`F4`执行从第一行开始删除10000行代码的操作。\n\n       `:map <F4> gg10000dd`。\n\n       例子2：在编辑模式下输入`__main`直接补全为`if __name__ == '__main__':`。\n\n       `:inoremap __main if __name__ == '__main__':`\n\n     > 说明：上面例子2的`inoremap`中的`i`表示映射的键在编辑模式使用， `nore`表示不要递归，这一点非常重要，否则如果键对应的内容中又出现键本身，就会引发递归（相当于进入了死循环）。如果希望映射的快捷键每次启动vim时都能生效，需要将映射写到用户主目录下的.vimrc文件中。\n\n   - 录制宏。\n\n     - 在命令模式下输入`qa`开始录制宏（其中`a`是寄存器的名字，也可以是其他英文字母或0-9的数字）。\n\n     - 执行你的操作（光标操作、编辑操作等），这些操作都会被录制下来。\n\n     - 如果录制的操作已经完成了，按`q`结束录制。\n\n     - 通过`@a`（`a`是刚才使用的寄存器的名字）播放宏，如果要多次执行宏可以在前面加数字，例如`100@a`表示将宏播放100次。\n\n     - 可以试一试下面的例子来体验录制宏的操作，该例子来源于[Harttle Land网站](https://harttle.land/tags.html#Vim)，该网站上提供了很多关于vim的使用技巧，有兴趣的可以了解一下。\n\n![upload successful](/images/pasted-13.png)\n\n### 软件安装和配置\n\n#### 使用包管理工具\n\n1. **yum** - Yellowdog Updater Modified。\n   - `yum search`：搜索软件包，例如`yum search nginx`。\n   - `yum list installed`：列出已经安装的软件包，例如`yum list installed | grep zlib`。\n   - `yum install`：安装软件包，例如`yum install nginx`。\n   - `yum remove`：删除软件包，例如`yum remove nginx`。\n   - `yum update`：更新软件包，例如`yum update`可以更新所有软件包，而`yum update tar`只会更新tar。\n   - `yum check-update`：检查有哪些可以更新的软件包。\n   - `yum info`：显示软件包的相关信息，例如`yum info nginx`。\n2. **rpm** - Redhat Package Manager。\n   - 安装软件包：`rpm -ivh <packagename>.rpm`。\n   - 移除软件包：`rpm -e <packagename>`。\n   - 查询软件包：`rpm -qa`，例如可以用`rpm -qa | grep mysql`来检查是否安装了MySQL相关的软件包。\n\n下面以Nginx为例，演示如何使用yum安装软件。\n\n```Shell\n[root ~]# yum -y install nginx\n...\nInstalled:\n  nginx.x86_64 1:1.12.2-2.el7\nDependency Installed:\n  nginx-all-modules.noarch 1:1.12.2-2.el7\n  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-mail.x86_64 1:1.12.2-2.el7\n  nginx-mod-stream.x86_64 1:1.12.2-2.el7\nComplete!\n[root ~]# yum info nginx\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nInstalled Packages\nName        : nginx\nArch        : x86_64\nEpoch       : 1\nVersion     : 1.12.2\nRelease     : 2.el7\nSize        : 1.5 M\nRepo        : installed\nFrom repo   : epel\nSummary     : A high performance web server and reverse proxy server\nURL         : http://nginx.org/\nLicense     : BSD\nDescription : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and\n            : IMAP protocols, with a strong focus on high concurrency, performance and low\n            : memory usage.\n[root ~]# nginx -v\nnginx version: nginx/1.12.2\n```\n\n移除Nginx。\n\n```Shell\n[root ~]# yum -y remove nginx\n```\n\n下面以MySQL为例，演示如何使用rpm安装软件。要安装MySQL需要先到[MySQL官方网站](https://www.mysql.com/)下载对应的[RPM文件](https://dev.mysql.com/downloads/mysql/)，当然要选择和你使用的Linux系统对应的版本。MySQL现在是Oracle公司旗下的产品，在MySQL被收购后，MySQL的作者重新制作了一个MySQL的分支MariaDB，可以通过yum进行安装。\n\n```Shell\n[root mysql]# ls\nmysql-community-client-5.7.22-1.el7.x86_64.rpm\nmysql-community-common-5.7.22-1.el7.x86_64.rpm\nmysql-community-libs-5.7.22-1.el7.x86_64.rpm\nmysql-community-server-5.7.22-1.el7.x86_64.rpm\n[root mysql]# yum -y remove mariadb-libs\n[root mysql]# yum -y install libaio\n[root mysql]#rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm\n...\n```\n\n> 说明：由于MySQL和[MariaDB](https://mariadb.org/)的底层依赖库是有冲突的，所以上面我们首先用`yum`移除了名为mariadb-libs的依赖库并安装了名为libaio支持异步I/O操作的依赖库。关于MySQL和MariaDB之间的关系，可以阅读[维基百科](https://zh.wikipedia.org/wiki/MariaDB)上关于MariaDB的介绍。\n\n移除安装的MySQL。\n\n```Shell\n[root ~]# rpm -qa | grep mysql | xargs rpm -e\n```\n\n#### 下载解压配置环境变量\n\n下面以安装MongoDB为例，演示这类软件应该如何安装。\n\n```Shell\n[root ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\n--2018-06-21 18:32:53--  https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\nResolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...\nConnecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 100564462 (96M) [application/x-gzip]\nSaving to: ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’\n100%[==================================================>] 100,564,462  630KB/s   in 2m 9s\n2018-06-21 18:35:04 (760 KB/s) - ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’ saved [100564462/100564462]\n[root ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz\n[root ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tar\nmongodb-linux-x86_64-rhel70-3.6.5/README\nmongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICES\nmongodb-linux-x86_64-rhel70-3.6.5/MPL-2\nmongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongodump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestore\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongostat\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongotop\nmongodb-linux-x86_64-rhel70-3.6.5/bin/bsondump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongofiles\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplay\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperf\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongod\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongos\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongo\nmongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass\n[root ~]# vim .bash_profile\n...\nPATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/bin\nexport PATH\n...\n[root ~]# source .bash_profile\n[root ~]# mongod --version\ndb version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n[root ~]# mongo --version\nMongoDB shell version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n```\n\n> 说明：当然也可以通过yum来安装MongoDB，具体可以参照[官方网站](https://docs.mongodb.com/master/administration/install-on-linux/)上给出的说明。\n\n#### 源代码构建安装\n\n1. 安装Python 3.6。\n\n   ```Shell\n   [root ~]# yum install gcc\n   [root ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz\n   [root ~]# gunzip Python-3.6.5.tgz\n   [root ~]# tar -xvf Python-3.6.5.tar\n   [root ~]# cd Python-3.6.5\n   [root ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations\n   [root ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n   [root ~]# make && make install\n   ...\n   [root ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3\n   [root ~]# python3 --version\n   Python 3.6.5\n   [root ~]# python3 -m pip install -U pip\n   [root ~]# pip3 --version\n   ```\n\n   > 说明：上面在安装好Python之后还需要注册PATH环境变量，将Python安装路径下bin文件夹的绝对路径注册到PATH环境变量中。注册环境变量可以修改用户主目录下的.bash_profile或者/etc目录下的profile文件，二者的区别在于前者相当于是用户环境变量，而后者相当于是系统环境变量。\n\n2. 安装Redis-3.2.12。\n\n   ```Shell\n   [root ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz\n   [root ~]# gunzip redis-3.2.12.tar.gz\n   [root ~]# tar -xvf redis-3.2.12.tar\n   [root ~]# cd redis-3.2.12\n   [root ~]# make && make install\n   [root ~]# redis-server --version\n   Redis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6\n   [root ~]# redis-cli --version\n   redis-cli 3.2.12\n   ```\n\n### 配置服务\n\n我们可以Linux系统下安装和配置各种服务，也就是说我们可以把Linux系统打造成数据库服务器、Web服务器、缓存服务器、文件服务器、消息队列服务器等等。Linux下的大多数服务都被设置为守护进程（驻留在系统后台运行，但不会因为服务还在运行而导致Linux无法停止运行），所以我们安装的服务通常名字后面都有一个字母`d`，它是英文单词`daemon`的缩写，例如：防火墙服务叫firewalld，我们之前安装的MySQL服务叫mysqld，Apache服务器叫httpd等。在安装好服务之后，可以使用`systemctl`命令或`service`命令来完成对服务的启动、停止等操作，具体操作如下所示。\n\n1. 启动防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl start firewalld\n   ```\n\n2. 终止防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl stop firewalld\n   ```\n\n3. 重启防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl restart firewalld\n   ```\n\n4. 查看防火墙服务状态。\n\n    ```Shell\n    [root ~]# systemctl status firewalld\n    ```\n\n5. 设置/禁用防火墙服务开机自启。\n\n   ```Shell\n   [root ~]# systemctl enable firewalld\n   Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.\n   Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.\n   [root ~]# systemctl disable firewalld\n   Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.\n   Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.\n   ```\n\n### 计划任务\n\n1. 在指定的时间执行命令\n\n   - **at** - 将任务排队，在指定的时间执行。\n   - **atq** - 查看待执行的任务队列。\n   - **atrm** - 从队列中删除待执行的任务。\n\n   指定3天以后下午5点要执行的任务。\n\n   ```Shell\n   [root ~]# at 5pm+3days\n   at> rm -f /root/*.html\n   at> <EOT>\n   job 9 at Wed Jun  5 17:00:00 2019\n   ```\n\n   查看待执行的任务队列。\n\n   ```Shell\n   [root ~]# atq\n   9       Wed Jun  5 17:00:00 2019 a root\n   ```\n\n   从队列中删除指定的任务。\n\n   ```Shell\n   [root ~]$ atrm 9\n   ```\n\n2. 计划任务表 - **crontab**。\n\n   ```Shell\n   [root ~]# crontab -e\n   * * * * * echo \"hello, world!\" >> /root/hello.txt\n   59 23 * * * rm -f /root/*.log\n   ```\n   > 说明：输入`crontab -e`命令会打开vim来编辑Cron表达式并指定触发的任务，上面我们定制了两个计划任务，一个是每分钟向/root目录下的hello.txt中追加输出`hello, world!`；另一个是每天23时59分执行删除/root目录下以log为后缀名的文件。如果不知道Cron表达式如何书写，可以参照/etc/crontab文件中的提示（下面会讲到）或者用搜索引擎找一下“Cron表达式在线生成器”来生成Cron表达式。\n\n   和crontab相关的文件在`/etc`目录下，通过修改`/etc`目录下的crontab文件也能够定制计划任务。\n\n   ```Shell\n   [root ~]# cd /etc\n   [root etc]# ls -l | grep cron\n   -rw-------.  1 root root      541 Aug  3  2017 anacrontab\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:56 cron.d\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:51 cron.daily\n   -rw-------.  1 root root        0 Aug  3  2017 cron.deny\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:50 cron.hourly\n   drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.monthly\n   -rw-r--r--   1 root root      493 Jun 23 15:09 crontab\n   drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.weekly\n   [root etc]# vim crontab\n     1 SHELL=/bin/bash\n     2 PATH=/sbin:/bin:/usr/sbin:/usr/bin\n     3 MAILTO=root\n     4\n     5 # For details see man 4 crontabs\n     6\n     7 # Example of job definition:\n     8 # .---------------- minute (0 - 59)\n     9 # |  .------------- hour (0 - 23)\n    10 # |  |  .---------- day of month (1 - 31)\n    11 # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n    12 # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n    13 # |  |  |  |  |\n    14 # *  *  *  *  * user-name  command to be executed\n   ```\n\n\n### 网络访问和管理\n\n1. 安全远程连接 - **ssh**。\n\n    ```Shell\n    [root ~]$ ssh root@120.77.222.217\n    The authenticity of host '120.77.222.217 (120.77.222.217)' can't be established.\n    ECDSA key fingerprint is SHA256:BhUhykv+FvnIL03I9cLRpWpaCxI91m9n7zBWrcXRa8w.\n    ECDSA key fingerprint is MD5:cc:85:e9:f0:d7:07:1a:26:41:92:77:6b:7f:a0:92:65.\n    Are you sure you want to continue connecting (yes/no)? yes\n    Warning: Permanently added '120.77.222.217' (ECDSA) to the list of known hosts.\n    root@120.77.222.217's password:\n    ```\n\n2. 通过网络获取资源 - **wget**。\n\n   - -b 后台下载模式\n   - -O 下载到指定的目录\n   - -r 递归下载\n\n3. 发送和接收邮件 - **mail**。\n\n4. 网络配置工具（旧） - **ifconfig**。\n\n   ```Shell\n   [root ~]# ifconfig eth0\n   eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n           inet 172.18.61.250  netmask 255.255.240.0  broadcast 172.18.63.255\n           ether 00:16:3e:02:b6:46  txqueuelen 1000  (Ethernet)\n           RX packets 1067841  bytes 1296732947 (1.2 GiB)\n           RX errors 0  dropped 0  overruns 0  frame 0\n           TX packets 409912  bytes 43569163 (41.5 MiB)\n           TX errors 0  dropped 0 overruns 0  carrier 0  collisions\n   ```\n\n5. 网络配置工具（新） - **ip**。\n\n   ```Shell\n   [root ~]# ip address\n   1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1\n       link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n       inet 127.0.0.1/8 scope host lo\n          valid_lft forever preferred_lft forever\n   2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n       link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff\n       inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0\n          valid_lft forever preferred_lft forever\n   ```\n\n6. 网络可达性检查 - **ping**。\n\n   ```Shell\n   [root ~]# ping www.baidu.com -c 3\n   PING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms\n   --- www.a.shifen.com ping statistics ---\n   3 packets transmitted, 3 received, 0% packet loss, time 2002ms\n   rtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms\n   ```\n\n7. 显示或管理路由表 - **route**。\n\n8. 查看网络服务和端口 - **netstat** / **ss**。\n\n   ```Shell\n   [root ~]# netstat -nap | grep nginx\n   ```\n\n9. 网络监听抓包 - **tcpdump**。\n\n10. 安全文件拷贝 - **scp**。\n\n  ```Shell\n  [root ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg\n  ```\n\n11. 文件同步工具 - **rsync**。\n\n    > 说明：使用`rsync`可以实现文件的自动同步，这个对于文件服务器来说相当重要。关于这个命令的用法，我们在后面讲项目部署的时候为大家详细说明。\n\n12. 安全文件传输 - **sftp**。\n\n    ```Shell\n    [root ~]# sftp root@1.2.3.4\n    root@1.2.3.4's password:\n    Connected to 1.2.3.4.\n    sftp>\n    ```\n\n    - `help`：显示帮助信息。\n\n    - `ls`/`lls`：显示远端/本地目录列表。\n\n    - `cd`/`lcd`：切换远端/本地路径。\n\n    - `mkdir`/`lmkdir`：创建远端/本地目录。\n\n    - `pwd`/`lpwd`：显示远端/本地当前工作目录。\n\n    - `get`：下载文件。\n\n    - `put`：上传文件。\n\n    - `rm`：删除远端文件。\n\n    - `bye`/`exit`/`quit`：退出sftp。\n\n### 进程管理\n\n1. 查看进程 - **ps**。\n\n   ```Shell\n   [root ~]# ps -ef\n   UID        PID  PPID  C STIME TTY          TIME CMD\n   root         1     0  0 Jun23 ?        00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21\n   root         2     0  0 Jun23 ?        00:00:00 [kthreadd]\n   ...\n   [root ~]# ps -ef | grep mysqld\n   root      4943  4581  0 22:45 pts/0    00:00:00 grep --color=auto mysqld\n   mysql    25257     1  0 Jun25 ?        00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n   ```\n\n2. 显示进程状态树 - **pstree**。\n\n    ```Shell\n    [root ~]# pstree\n    systemd─┬─AliYunDun───18*[{AliYunDun}]\n            ├─AliYunDunUpdate───3*[{AliYunDunUpdate}]\n            ├─2*[agetty]\n            ├─aliyun-service───2*[{aliyun-service}]\n            ├─atd\n            ├─auditd───{auditd}\n            ├─dbus-daemon\n            ├─dhclient\n            ├─irqbalance\n            ├─lvmetad\n            ├─mysqld───28*[{mysqld}]\n            ├─nginx───2*[nginx]\n            ├─ntpd\n            ├─polkitd───6*[{polkitd}]\n            ├─rsyslogd───2*[{rsyslogd}]\n            ├─sshd───sshd───bash───pstree\n            ├─systemd-journal\n            ├─systemd-logind\n            ├─systemd-udevd\n            └─tuned───4*[{tuned}]\n    ```\n\n3. 查找与指定条件匹配的进程 - **pgrep**。\n\n   ```Shell\n   [root ~]$ pgrep mysqld\n   3584\n   ```\n\n4. 通过进程号终止进程 - **kill**。\n\n   ```Shell\n   [root ~]$ kill -l\n    1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP\n    6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1\n   11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM\n   16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP\n   21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ\n   26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR\n   31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3\n   38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8\n   43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13\n   48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12\n   53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7\n   58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2\n   63) SIGRTMAX-1  64) SIGRTMAX\n   [root ~]# kill 1234\n   [root ~]# kill -9 1234\n   ```\n\n   例子：用一条命令强制终止正在运行的Redis进程。\n\n    ```Shell\n   ps -ef | grep redis | grep -v grep | awk '{print $2}' | xargs kill\n    ```\n\n5. 通过进程名终止进程 - **killall** / **pkill**。\n\n    结束名为mysqld的进程。\n\n    ```Shell\n    [root ~]# pkill mysqld\n    ```\n\n    结束hellokitty用户的所有进程。\n\n    ```Shell\n    [root ~]# pkill -u hellokitty\n    ```\n\n    > 说明：这样的操作会让hellokitty用户和服务器断开连接。\n\n6. 将进程置于后台运行。\n\n   - `Ctrl+Z` - 快捷键，用于停止进程并置于后台。\n   - `&` - 将进程置于后台运行。\n\n   ```Shell\n   [root ~]# mongod &\n   [root ~]# redis-server\n   ...\n   ^Z\n   [4]+  Stopped                 redis-server\n   ```\n\n7. 查询后台进程 - **jobs**。\n\n   ```Shell\n   [root ~]# jobs\n   [2]   Running                 mongod &\n   [3]-  Stopped                 cat\n   [4]+  Stopped                 redis-server\n   ```\n\n8. 让进程在后台继续运行 - **bg**。\n\n   ```Shell\n   [root ~]# bg %4\n   [4]+ redis-server &\n   [root ~]# jobs\n   [2]   Running                 mongod &\n   [3]+  Stopped                 cat\n   [4]-  Running                 redis-server &\n   ```\n\n9. 将后台进程置于前台 - **fg**。\n\n    ```Shell\n    [root ~]# fg %4\n    redis-server\n    ```\n\n    > 说明：置于前台的进程可以使用`Ctrl+C`来终止它。\n\n10. 调整程序/进程运行时优先级 - **nice** / **renice**。\n\n11. 用户登出后进程继续工作 - **nohup**。\n\n     ```Shell\n     [root ~]# nohup ping www.baidu.com > result.txt &\n     ```\n\n12. 跟踪进程系统调用情况 - **strace**。\n\n     ```Shell\n     [root ~]# pgrep mysqld\n     8803\n     [root ~]# strace -c -p 8803\n     strace: Process 8803 attached\n     ^Cstrace: Process 8803 detached\n     % time     seconds  usecs/call     calls    errors syscall\n     ------ ----------- ----------- --------- --------- ----------------\n      99.18    0.005719        5719         1           restart_syscall\n       0.49    0.000028          28         1           mprotect\n       0.24    0.000014          14         1           clone\n       0.05    0.000003           3         1           mmap\n       0.03    0.000002           2         1           accept\n     ------ ----------- ----------- --------- --------- ----------------\n     100.00    0.005766                     5           total\n     ```\n\n     > 说明：这个命令的用法和参数都比较复杂，建议大家在真正用到这个命令的时候再根据实际需要进行了解。\n\n13. 查看当前运行级别 - **runlevel**。\n\n     ```Shell\n     [root ~]# runlevel\n     N 3\n     ```\n\n14. 实时监控进程占用资源状况 - **top**。\n\n     ```Shell\n     [root ~]# top\n     top - 23:04:23 up 3 days, 14:10,  1 user,  load average: 0.00, 0.01, 0.05\n     Tasks:  65 total,   1 running,  64 sleeping,   0 stopped,   0 zombie\n     %Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n     KiB Mem :  1016168 total,   191060 free,   324700 used,   500408 buff/cache\n     KiB Swap:        0 total,        0 free,        0 used.   530944 avail Mem\n     ...\n     ```\n\n     - `-c` - 显示进程的整个路径。\n     - `-d` - 指定两次刷屏之间的间隔时间（秒为单位）。\n     - `-i` - 不显示闲置进程或僵尸进程。\n     - `-p` - 显示指定进程的信息。\n\n### 系统诊断\n\n1. 系统启动异常诊断 - **dmesg**。\n\n2. 查看系统活动信息 - **sar**。\n\n   ```Shell\n   [root ~]# sar -u -r 5 10\n   Linux 3.10.0-957.10.1.el7.x86_64 (izwz97tbgo9lkabnat2lo8z)      06/02/2019      _x86_64_        (2 CPU)\n\n   06:48:30 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle\n   06:48:35 PM     all      0.10      0.00      0.10      0.00      0.00     99.80\n\n   06:48:30 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n   06:48:35 PM   1772012   2108392     54.33    102816   1634528    784940     20.23    793328   1164704         0\n   ```\n\n   - `-A` - 显示所有设备（CPU、内存、磁盘）的运行状况。\n   - `-u` - 显示所有CPU的负载情况。\n   - `-d` - 显示所有磁盘的使用情况。\n   - `-r` - 显示内存的使用情况。\n   - `-n` - 显示网络运行状态。\n\n3. 查看内存使用情况 - **free**。\n\n   ```Shell\n   [root ~]# free\n                 total        used        free      shared  buff/cache   available\n   Mem:        1016168      323924      190452         356      501792      531800\n   Swap:             0           0           0\n   ```\n\n4. 虚拟内存统计 - **vmstat**。\n\n   ```Shell\n   [root ~]# vmstat\n   procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n    r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n    2  0      0 204020  79036 667532    0    0     5    18  101   58  1  0 99  0  0\n   ```\n\n5. CPU信息统计 - **mpstat**。\n\n   ```Shell\n   [root ~]# mpstat\n   Linux 3.10.0-957.5.1.el7.x86_64 (iZ8vba0s66jjlfmo601w4xZ)       05/30/2019      _x86_64_        (1 CPU)\n\n   01:51:54 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle\n   01:51:54 AM  all    0.71    0.00    0.17    0.04    0.00    0.00    0.00    0.00    0.00   99.07\n   ```\n\n6. 查看进程使用内存状况 - **pmap**。\n\n   ```Shell\n   [root ~]# ps\n     PID TTY          TIME CMD\n    4581 pts/0    00:00:00 bash\n    5664 pts/0    00:00:00 ps\n   [root ~]# pmap 4581\n   4581:   -bash\n   0000000000400000    884K r-x-- bash\n   00000000006dc000      4K r---- bash\n   00000000006dd000     36K rw--- bash\n   00000000006e6000     24K rw---   [ anon ]\n   0000000001de0000    400K rw---   [ anon ]\n   00007f82fe805000     48K r-x-- libnss_files-2.17.so\n   00007f82fe811000   2044K ----- libnss_files-2.17.so\n   ...\n   ```\n\n7. 报告设备CPU和I/O统计信息 - **iostat**。\n\n   ```Shell\n   [root ~]# iostat\n   Linux 3.10.0-693.11.1.el7.x86_64 (iZwz97tbgo9lkabnat2lo8Z)      06/26/2018      _x86_64_       (1 CPU)\n   avg-cpu:  %user   %nice %system %iowait  %steal   %idle\n              0.79    0.00    0.20    0.04    0.00   98.97\n   Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\n   vda               0.85         6.78        21.32    2106565    6623024\n   vdb               0.00         0.01         0.00       2088          0\n   ```\n\n8. 显示所有PCI设备 - **lspci**。\n\n   ```Shell\n   [root ~]# lspci\n   00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)\n   00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II]\n   00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]\n   00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01)\n   00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03)\n   00:02.0 VGA compatible controller: Cirrus Logic GD 5446\n   00:03.0 Ethernet controller: Red Hat, Inc. Virtio network device\n   00:04.0 Communication controller: Red Hat, Inc. Virtio console\n   00:05.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n   00:06.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n   00:07.0 Unclassified device [00ff]: Red Hat, Inc. Virtio memory balloon\n   ```\n\n9. 显示进程间通信设施的状态 - **ipcs**。\n\n   ```Shell\n   [root ~]# ipcs\n\n   ------ Message Queues --------\n   key        msqid      owner      perms      used-bytes   messages\n\n   ------ Shared Memory Segments --------\n   key        shmid      owner      perms      bytes      nattch     status\n\n   ------ Semaphore Arrays --------\n   key        semid      owner      perms      nsems\n   ```\n\n### Shell编程\n\n之前我们提到过，Shell是一个连接用户和操作系统的应用程序，它提供了人机交互的界面（接口），用户通过这个界面访问操作系统内核的服务。Shell脚本是一种为Shell编写的脚本程序，我们可以通过Shell脚本来进行系统管理，同时也可以通过它进行文件操作。总之，编写Shell脚本对于使用Linux系统的人来说，应该是一项标配技能。\n\n互联网上有大量关于Shell脚本的相关知识，我不打算再此对Shell脚本做一个全面系统的讲解，我们通过下面的代码来感性的认识下Shell脚本就行了。\n\n例子1：输入两个整数m和n，计算从m到n的整数求和的结果。\n\n```Shell\n#!/usr/bin/bash\nprintf 'm = '\nread m\nprintf 'n = '\nread n\na=$m\nsum=0\nwhile [ $a -le $n ]\ndo\n    sum=$[ sum + a ]\n    a=$[ a + 1 ]\ndone\necho '结果: '$sum\n```\n\n例子2：自动创建文件夹和指定数量的文件。\n\n```Shell\n#!/usr/bin/bash\nprintf '输入文件名: '\nread file\nprintf '输入文件数量(<1000): '\nread num\nif [ $num -ge 1000 ]\nthen\n    echo '文件数量不能超过1000'\nelse\n    if [ -e $dir -a -d $dir ]\n    then\n        rm -rf $dir\n    else\n        if [ -e $dir -a -f $dir ]\n        then\n            rm -f $dir\n        fi\n    fi\n    mkdir -p $dir\n    index=1\n    while [ $index -le $num ]\n    do\n        if [ $index -lt 10 ]\n        then\n            pre='00'\n        elif [ $index -lt 100 ]\n        then\n            pre='0'\n        else\n            pre=''\n        fi\n        touch $dir'/'$file'_'$pre$index\n        index=$[ index + 1 ]\n    done\nfi\n```\n\n例子3：自动安装指定版本的Redis。\n\n```Shell\n#!/usr/bin/bash\ninstall_redis() {\n    if ! which redis-server > /dev/null\n    then\n        cd /root\n        wget $1$2'.tar.gz' >> install.log\n        gunzip /root/$2'.tar.gz'\n        tar -xf /root/$2'.tar'\n        cd /root/$2\n        make >> install.log\n        make install >> install.log\n        echo '安装完成'\n    else\n        echo '已经安装过Redis'\n    fi\n}\n\ninstall_redis 'http://download.redis.io/releases/' $1\n```\n\n### 相关资源\n\n1. Linux命令行常用快捷键\n\n   | 快捷键     | 功能说明                                     |\n   | ---------- | -------------------------------------------- |\n   | tab        | 自动补全命令或路径                           |\n   | Ctrl+a     | 将光标移动到命令行行首                       |\n   | Ctrl+e     | 将光标移动到命令行行尾                       |\n   | Ctrl+f     | 将光标向右移动一个字符                       |\n   | Ctrl+b     | 将光标向左移动一个字符                       |\n   | Ctrl+k     | 剪切从光标到行尾的字符                       |\n   | Ctrl+u     | 剪切从光标到行首的字符                       |\n   | Ctrl+w     | 剪切光标前面的一个单词                       |\n   | Ctrl+y     | 复制剪切命名剪切的内容                       |\n   | Ctrl+c     | 中断正在执行的任务                           |\n   | Ctrl+h     | 删除光标前面的一个字符                       |\n   | Ctrl+d     | 退出当前命令行                               |\n   | Ctrl+r     | 搜索历史命令                                 |\n   | Ctrl+g     | 退出历史命令搜索                             |\n   | Ctrl+l     | 清除屏幕上所有内容在屏幕的最上方开启一个新行 |\n   | Ctrl+s     | 锁定终端使之暂时无法输入内容                 |\n   | Ctrl+q     | 退出终端锁定                                 |\n   | Ctrl+z     | 将正在终端执行的任务停下来放到后台           |\n   | !!         | 执行上一条命令                               |\n   | !数字      | 执行数字对应的历史命令                       |\n   | !字母      | 执行最近的以字母打头的命令                   |\n   | !$ / Esc+. | 获得上一条命令最后一个参数                   |\n   | Esc+b      | 移动到当前单词的开头                         |\n   | Esc+f      | 移动到当前单词的结尾                         |\n\n2. man查阅命令手册的内容说明\n\n   | 手册中的标题 | 功能说明                                                     |\n   | ------------ | ------------------------------------------------------------ |\n   | NAME         | 命令的说明和介绍                                             |\n   | SYNOPSIS     | 使用该命令的基本语法                                         |\n   | DESCRIPTION  | 使用该命令的详细描述，各个参数的作用，有时候这些信息会出现在OPTIONS中 |\n   | OPTIONS      | 命令相关参数选项的说明                                       |\n   | EXAMPLES     | 使用该命令的参考例子                                         |\n   | EXIT STATUS  | 命令结束的退出状态码，通常0表示成功执行                      |\n   | SEE ALSO     | 和命令相关的其他命令或信息                                   |\n   | BUGS         | 和命令相关的缺陷的描述                                       |\n   | AUTHOR       | 该命令的作者介绍                                             |\n\n\t本文非原创：内容转至 [原文链接](https://github.com/jackfrued/Python-100-Days/blob/master/Day31-35/31-35.玩转Linux操作系统.md)","source":"_posts/linux/玩转Linux操作系统.md","raw":"title: 玩转Linux操作系统\ntags:\n  - Linux\ncategories:\n  - Linux\ndate: 2019-10-11 16:14:40\n---\n> 说明：本文中对Linux命令的讲解都是基于名为CentOS的Linux发行版本，我自己使用的是阿里云服务器，系统版本为CentOS Linux release 7.6.1810。不同的Linux发行版本在Shell命令和工具程序上会有一些差别，但是这些差别是很小的。\n\n### 操作系统发展史\n\n只有硬件没有软件的计算机系统被称之为“裸机”，我们很难用“裸机”来完成计算机日常的工作（如存储和运算），所以必须用特定的软件来控制硬件的工作。最靠近计算机硬件的软件是系统软件，其中最为重要的就是“操作系统”。“操作系统”是控制和管理整个计算机硬件和软件资源、实现资源分配和任务调配、为系统用户以及其他软件提供接口和环境的程序的集合。\n<!-- more -->\n#### 没有操作系统（手工操作）\n\n在计算机诞生之初没有操作系统的年代，人们先把程序纸带（或卡片）装上计算机，然后启动输入机把程序送入计算机，接着通过控制台开关启动程序运行。当程序执行完毕，打印机输出计算的结果，用户卸下并取走纸带（或卡片）。第二个用户上机，重复同样的步骤。在整个过程中用户独占机器，CPU等待手工操作，资源利用率极低。\n\n#### 批处理系统\n\n首先启动计算机上的一个监督程序，在监督程序的控制下，计算机能够自动的、成批的处理一个或多个用户的作业。完成一批作业后，监督程度又从输入机读取作业存入磁带机。按照上面的步骤重复处理任务。监督程序不停的处理各个作业，实现了作业的自动转接，减少了作业的建立时间和手工操作时间，提高了计算机资源的利用率。 批处理系统又可以分为单道批处理系统、多道批处理系统、联机批处理系统、脱机批处理系统。\n\n#### 分时系统和实时系统\n\n分时系统是把处理器的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。 若某个作业在分配给它的时间片内不能完成其计算，则该作业暂时中断，把处理机让给另一作业使用，等待下一轮调度时再继续其运行。由于计算机速度很快，作业运行轮转得很快，给每个用户的感觉是他独占了一台计算机。而每个用户可以通过自己的终端向系统发出各种操作控制命令，在充分的人机交互情况下，完成作业的运行。为了解决分时系统不能及时响应用户指令的情况，又出现了能够在在严格的时间范围内完成事件处理，及时响应随机外部事件的实时系统。\n\n#### 通用操作系统\n\n1. 1960s：IBM的System/360系列的机器有了统一的操作系统OS/360。\n\n2. 1965年：AT&T的贝尔实验室加入GE和MIT的合作计划开始开发MULTICS。\n\n3. 1969年：MULTICS项目失败，Ken Tompson赋闲在家，为了玩“Space Travel”游戏用汇编语言在当时已经被淘汰的PDP-7上开发了Unics。\n\n   > 注：很难想象，Unix这么伟大的系统，居然是一个赋闲在家的程序员（关键是老婆回娘家还带上了孩子）在一台被淘汰的设备上为了玩游戏开发出来的。\n\n4. 1970年~1971年：Ken Tompson和Dennis Ritchie用B语言在PDP-11上重写了Unics，并在Brian Kernighan的建议下将其更名为Unix。\n\n![upload successful](/images/pasted-8.png)\n\n5. 1972年~1973年：Dennis Ritchie发明了C语言来取代可移植性较差的B语言，并开启了用C语言重写Unix的工作。\n\n6. 1974年：Unix推出了里程碑意义的第5版，几乎完全用C语言来实现。\n\n7. 1979年：从Unix第7版开始，AT&T发布新的使用条款，将Unix私有化。\n\n8. 1987年：Andrew S. Tanenbaum教授为了能在课堂上为学生讲解操作系统运作的细节，决定在不使用任何AT&T的源代码前提下，自行开发与Unix兼容的操作系统以避免版权上的争议，该系统被命名为Minix。\n\n![upload successful](/images/pasted-9.png)\n\n9. 1991年：Linus Torvalds就读于芬兰赫尔辛基大学期间，尝试在Minix上做一些开发工作，但因为Minix只是作为教学用途的操作系统，功能并不强大，为了方便在学校的新闻组和邮件系统中读写和下载文件，Linus编写了磁盘驱动程序和文件系统，这些东西形成了Linux系统内核的雏形。\n\n![upload successful](/images/pasted-10.png)\n\n下图是Unix操作系统家族的图谱。\n\n![upload successful](/images/pasted-11.png)\n\n### Linux概述\n\nLinux是一个通用操作系统。一个操作系统要负责任务调度、内存分配、处理外围设备I/O等操作。操作系统通常由内核（运行其他程序，管理像磁盘、打印机等硬件设备的核心程序）和系统程序（设备驱动、底层库、shell、服务程序等）两部分组成。\n\nLinux内核是芬兰人Linus Torvalds开发的，于1991年9月发布。而Linux操作系统作为Internet时代的产物，它是由全世界许多开发者共同合作开发的，是一个自由的操作系统（注意自由和免费并不是同一个概念，想了解二者的差别可以[点击这里](https://www.debian.org/intro/free)）。\n\n### Linux系统优点\n\n1. 通用操作系统，不跟特定的硬件绑定。\n2. 用C语言编写，可移植性强，有内核编程接口。\n3. 支持多用户和多任务，支持安全的分层文件系统。\n4. 大量的实用程序，完善的网络功能以及强大的支持文档。\n5. 可靠的安全性和良好的稳定性，对开发者更友好。\n\n### Linux系统发行版本\n\n1. [Redhat](https://www.redhat.com/en)\n2. [Ubuntu](https://www.ubuntu.com/)\n3. [CentOS](https://www.centos.org/)\n4. [Fedora](https://getfedora.org/)\n5. [Debian](https://www.debian.org/)\n6. [openSUSE](https://www.opensuse.org/)\n\n### 基础命令\n\nLinux系统的命令通常都是如下所示的格式：\n\n```Shell\n命令名称 [命名参数] [命令对象]\n```\n\n1. 获取登录信息 - **w** / **who** / **last**/ **lastb**。\n\n   ```Shell\n   [root ~]# w\n    23:31:16 up 12:16,  2 users,  load average: 0.00, 0.01, 0.05\n   USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\n   root     pts/0    182.139.66.250   23:03    4.00s  0.02s  0.00s w\n   jackfrue pts/1    182.139.66.250   23:26    3:56   0.00s  0.00s -bash\n   [root ~]# who\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   jackfrued pts/1        2018-04-12 23:26 (182.139.66.250)\n   [root ~]# who am i\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   [root ~]# who mom likes\n   root     pts/0        2018-04-12 23:03 (182.139.66.250)\n   [root ~]# last\n   root     pts/0        117.136.63.184   Sun May 26 18:57   still logged in\n   reboot   system boot  3.10.0-957.10.1. Mon May 27 02:52 - 19:10  (-7:-42)\n   root     pts/4        117.136.63.184   Sun May 26 18:51 - crash  (08:01)\n   root     pts/4        117.136.63.184   Sun May 26 18:49 - 18:49  (00:00)\n   root     pts/3        117.136.63.183   Sun May 26 18:35 - crash  (08:17)\n   root     pts/2        117.136.63.183   Sun May 26 18:34 - crash  (08:17)\n   root     pts/0        117.136.63.183   Sun May 26 18:10 - crash  (08:42)\n   ```\n\n2. 查看自己使用的Shell - **ps**。\n\n   Shell也被称为“壳”或“壳程序”，它是用户与操作系统内核交流的翻译官，简单的说就是人与计算机交互的界面和接口。目前很多Linux系统默认的Shell都是bash（<u>B</u>ourne <u>A</u>gain <u>SH</u>ell），因为它可以使用tab键进行命令和路径补全、可以保存历史命令、可以方便的配置环境变量以及执行批处理操作。\n\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# ps\n     PID TTY          TIME CMD\n    3531 pts/0    00:00:00 bash\n    3553 pts/0    00:00:00 ps\n   ```\n\n3. 查看命令的说明和位置 - **whatis** / **which** / **whereis**。\n\n   ```Shell\n   [root ~]# whatis ps\n   ps (1)        - report a snapshot of the current processes.\n   [root ~]# whatis python\n   python (1)    - an interpreted, interactive, object-oriented programming language\n   [root ~]# whereis ps\n   ps: /usr/bin/ps /usr/share/man/man1/ps.1.gz\n   [root ~]# whereis python\n   python: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz\n   [root ~]# which ps\n   /usr/bin/ps\n   [root ~]# which python\n   /usr/bin/python\n   ```\n\n4. 清除屏幕上显示的内容 - **clear**。\n\n5. 查看帮助文档 - **man** / **info** / **help** / **apropos**。\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# ps --help\n   Usage:\n    ps [options]\n    Try 'ps --help <simple|list|output|threads|misc|all>'\n     or 'ps --help <s|l|o|t|m|a>'\n    for additional help text.\n   For more details see ps(1).\n   [root@izwz97tbgo9lkabnat2lo8z ~]# man ps\n   PS(1)                                User Commands                                PS(1)\n   NAME\n          ps - report a snapshot of the current processes.\n   SYNOPSIS\n          ps [options]\n   DESCRIPTION\n   ...\n   ```\n\n6. 查看系统和主机名 - **uname** / **hostname**。\n\n   ```Shell\n   [root@izwz97tbgo9lkabnat2lo8z ~]# uname\n   Linux\n   [root@izwz97tbgo9lkabnat2lo8z ~]# hostname\n   izwz97tbgo9lkabnat2lo8z\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\n   CentOS Linux release 7.6.1810 (Core)\n   ```\n\n   > 说明：`cat`是连接文件内容并打印到标准输出的命令，后面会讲到该命令；`/etc`是Linux系统上的一个非常重要的目录，它保存了很多的配置文件；`centos-release`是该目录下的一个文件，因为我自己使用的Linux发行版本是CentOS 7.6，因此这里会有一个这样的文件。\n\n7. 时间和日期 - **date** / **cal**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# date\n   Wed Jun 20 12:53:19 CST 2018\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cal\n         June 2018\n   Su Mo Tu We Th Fr Sa\n                   1  2\n    3  4  5  6  7  8  9\n   10 11 12 13 14 15 16\n   17 18 19 20 21 22 23\n   24 25 26 27 28 29 30\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cal 5 2017\n         May 2017\n   Su Mo Tu We Th Fr Sa\n       1  2  3  4  5  6\n    7  8  9 10 11 12 13\n   14 15 16 17 18 19 20\n   21 22 23 24 25 26 27\n   28 29 30 31\n   ```\n\n8. 重启和关机 - **reboot** / **shutdown**。\n\n   ```Shell\n   [root ~]# shutdown -h +5\n   Shutdown scheduled for Sun 2019-05-26 19:34:27 CST, use 'shutdown -c' to cancel.\n   [root ~]#\n   Broadcast message from root (Sun 2019-05-26 19:29:27 CST):\n\n   The system is going down for power-off at Sun 2019-05-26 19:34:27 CST!\n   [root ~]# shutdown -c\n\n   Broadcast message from root (Sun 2019-05-26 19:30:22 CST):\n\n   The system shutdown has been cancelled at Sun 2019-05-26 19:31:22 CST!\n   [root ~]# shutdown -r 23:58\n   Shutdown scheduled for Sun 2019-05-26 23:58:00 CST, use 'shutdown -c' to cancel.\n   [root ~]# shutdown -c\n\n   Broadcast message from root (Sun 2019-05-26 19:31:06 CST):\n\n   The system shutdown has been cancelled at Sun 2019-05-26 19:32:06 CST!\n   ```\n\n   > 说明：在执行`shutdown`命令时会向登录系统的用户发出警告，可以在命令后面跟上警告消息来替换默认的警告消息，也可以在`-h`参数后通过`now`来表示立刻关机。\n\n9. 退出登录 -  **exit** / **logout**。\n\n10. 查看历史命令 - **history**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# history\n  ...\n  452  ls\n  453  cd Python-3.6.5/\n  454  clear\n  455  history\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# !454\n  ```\n\n  > 说明：查看到历史命令之后，可以用`!历史命令编号`来重新执行该命令；通过`history -c`可以清除历史命令。\n\n### 实用程序\n\n#### 文件和文件夹操作\n\n1. 创建/删除空目录 - **mkdir** / **rmdir**。\n\n   ```Shell\n   [root ~]# mkdir abc\n   [root ~]# mkdir -p xyz/abc\n   [root ~]# rmdir abc\n   ```\n\n2. 创建/删除文件 - **touch** / **rm**。\n\n   ```Shell\n   [root ~]# touch readme.txt\n   [root ~]# touch error.txt\n   [root ~]# rm error.txt\n   rm: remove regular empty file ‘error.txt’? y\n   [root ~]# rm -rf xyz\n   ```\n\n   - `touch`命令用于创建空白文件或修改文件时间。在Linux系统中一个文件有三种时间：\n     - 更改内容的时间 - mtime。\n     - 更改权限的时间 - ctime。\n     - 最后访问时间 - atime。\n   - `rm`的几个重要参数：\n     - `-i`：交互式删除，每个删除项都会进行询问。\n     - `-r`：删除目录并递归的删除目录中的文件和目录。\n     - `-f`：强制删除，忽略不存在的文件，没有任何提示。\n\n3. 切换和查看当前工作目录 - **cd** / **pwd**。\n\n   > 说明：`cd`命令后面可以跟相对路径（以当前路径作为参照）或绝对路径（以`/`开头）来切换到指定的目录，也可以用`cd ..`来返回上一级目录。请大家想一想，如果要返回到上上一级目录应该给`cd`命令加上什么样的参数呢？\n\n4. 查看目录内容 - **ls**。\n\n   - `-l`：以长格式查看文件和目录。\n   - `-a`：显示以点开头的文件和目录（隐藏文件）。\n   - `-R`：遇到目录要进行递归展开（继续列出目录下面的文件和目录）。\n   - `-d`：只列出目录，不列出其他内容。\n   - `-S` / `-t`：按大小/时间排序。\n\n5. 查看文件内容 - **cat** / **tac** / **head** / **tail** / **more** / **less** / **rev** / **od**。\n\n   ```Shell\n   [root ~]# wget http://www.sohu.com/ -O sohu.html\n   --2018-06-20 18:42:34--  http://www.sohu.com/\n   Resolving www.sohu.com (www.sohu.com)... 14.18.240.6\n   Connecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.\n   HTTP request sent, awaiting response... 200 OK\n   Length: 212527 (208K) [text/html]\n   Saving to: ‘sohu.html’\n   100%[==================================================>] 212,527     --.-K/s   in 0.03s\n   2018-06-20 18:42:34 (7.48 MB/s) - ‘sohu.html’ saved [212527/212527]\n   [root ~]# cat sohu.html\n   ...\n   [root ~]# head -10 sohu.html\n   <!DOCTYPE html>\n   <html>\n   <head>\n   <title>搜狐</title>\n   <meta name=\"Keywords\" content=\"搜狐,门户网站,新媒体,网络媒体,新闻,财经,体育,娱乐,时尚,汽车,房产,科技,图片,论坛,微博,博客,视频,电影,电视剧\"/>\n   <meta name=\"Description\" content=\"搜狐网为用户提供24小时不间断的最新资讯，及搜索、邮件等网络服务。内容包括全球热点事件、突发新闻、时事评论、热播影视剧、体育赛事、行业动态、生活服务信息，以及论坛、博客、微博、我的搜狐等互动空间。\" />\n   <meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\">\n   <meta charset=\"utf-8\"/>\n   <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/>\n   [root ~]# tail -2 sohu.html\n   </body>\n   </html>\n   [root ~]# less sohu.html\n   ...\n   [root ~]# cat -n sohu.html | more\n   ...\n   ```\n\n   > 说明：上面用到了一个名为`wget`的命令，它是一个网络下载器程序，可以从指定的URL下载资源。\n\n6. 拷贝/移动文件 - **cp** / **mv**。\n\n   ```Shell\n   [root ~]# mkdir backup\n   [root ~]# cp sohu.html backup/\n   [root ~]# cd backup\n   [root backup]# ls\n   sohu.html\n   [root backup]# mv sohu.html sohu_index.html\n   [root backup]# ls\n   sohu_index.html\n   ```\n\n7. 文件重命名 - **rename**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# rename .htm .html *.htm\n  ```\n\n8. 查找文件和查找内容 - **find** / **grep**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# find / -name \"*.html\"\n   /root/sohu.html\n   /root/backup/sohu_index.html\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -atime 7 -type f -print\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -size +2k\n   [root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -name \"*.swp\" -delete\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# grep \"<script>\" sohu.html -n\n   20:<script>\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# grep -E \\<\\/?script.*\\> sohu.html -n\n   20:<script>\n   22:</script>\n   24:<script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"></script>\n   25:<script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"></script>\n   26:<script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"></script>\n   29:<script type=\"text/javascript\">\n   52:</script>\n   ...\n   ```\n   > 说明：`grep`在搜索字符串时可以使用正则表达式，如果需要使用正则表达式可以用`grep -E`或者直接使用`egrep`。\n\n9. 创建链接和查看链接 - **ln** / **readlink**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup2\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n   -rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /etc/centos-release sysinfo\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sysinfo\n   lrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -> /etc/centos-release\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sysinfo\n   CentOS Linux release 7.4.1708 (Core)\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\n   CentOS Linux release 7.4.1708 (Core)\n   ```\n\n   > 说明：链接可以分为硬链接和软链接（符号链接）。硬链接可以认为是一个指向文件数据的指针，就像Python中对象的引用计数，每添加一个硬链接，文件的对应链接数就增加1，只有当文件的链接数为0时，文件所对应的存储空间才有可能被其他文件覆盖。我们平常删除文件时其实并没有删除硬盘上的数据，我们删除的只是一个指针，或者说是数据的一条使用记录，所以类似于“文件粉碎机”之类的软件在“粉碎”文件时除了删除文件指针，还会在文件对应的存储区域填入数据来保证文件无法再恢复。软链接类似于Windows系统下的快捷方式，当软链接链接的文件被删除时，软链接也就失效了。\n\n10. 压缩/解压缩和归档/解归档 - **gzip** / **gunzip** / **xz**。\n\n  ```Shell\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz\n  --2018-06-20 19:29:59--  http://download.redis.io/releases/redis-4.0.10.tar.gz\n  Resolving download.redis.io (download.redis.io)... 109.74.203.151\n  Connecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.\n  HTTP request sent, awaiting response... 200 OK\n  Length: 1738465 (1.7M) [application/x-gzip]\n  Saving to: ‘redis-4.0.10.tar.gz’\n  100%[==================================================>] 1,738,465   70.1KB/s   in 74s\n  2018-06-20 19:31:14 (22.9 KB/s) - ‘redis-4.0.10.tar.gz’ saved [1738465/1738465]\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\n  redis-4.0.10.tar.gz\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-4.0.10.tar.gz\n  [root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\n  redis-4.0.10.tar\n  ```\n\n11. 归档和解归档 - **tar**。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-4.0.10.tar\n   redis-4.0.10/\n   redis-4.0.10/.gitignore\n   redis-4.0.10/00-RELEASENOTES\n   redis-4.0.10/BUGS\n   redis-4.0.10/CONTRIBUTING\n   redis-4.0.10/COPYING\n   redis-4.0.10/INSTALL\n   redis-4.0.10/MANIFESTO\n   redis-4.0.10/Makefile\n   redis-4.0.10/README.md\n   redis-4.0.10/deps/\n   redis-4.0.10/deps/Makefile\n   redis-4.0.10/deps/README.md\n   ...\n   ```\n\n   > 说明：归档（也称为创建归档）和解归档都使用`tar`命令，通常创建归档需要`-cvf`三个参数，其中`c`表示创建（create），`v`表示显示创建归档详情（verbose），`f`表示指定归档的文件（file）；解归档需要加上`-xvf`参数，其中`x`表示抽取（extract），其他两个参数跟创建归档相同。\n\n12. 将标准输入转成命令行参数 - **xargs**。\n\n   下面的命令会将查找当前路径下的html文件，然后通过`xargs`将这些文件作为参数传给`rm`命令，实现查找并删除文件的操作。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -type f -name \"*.html\" | xargs rm -f\n   ```\n\n   下面的命令将a.txt文件中的多行内容变成一行输出到b.txt文件中，其中`<`表示从a.txt中读取输入，`>`表示将命令的执行结果输出到b.txt中。\n\n   ```Shell\n   [root@iZwz97tbgo9lkabnat2lo8Z ~]# xargs < a.txt > b.txt\n   ```\n\n   > 说明：这个命令就像上面演示的那样常在管道（实现进程间通信的一种方式）和重定向（重新指定输入输出的位置）操作中用到，后面的内容中会讲到管道操作和输入输出重定向操作。\n\n13. 显示文件或目录 - **basename** / **dirname**。\n\n14. 其他相关工具。\n\n   - **sort** - 对内容排序\n   - **uniq** - 去掉相邻重复内容\n   - **tr** - 替换指定内容为新内容\n   - **cut** / **paste** - 剪切/黏贴内容\n   - **split** - 拆分文件\n   - **file** - 判断文件类型\n   - **wc** - 统计文件行数、单词数、字节数\n   - **iconv** - 编码转换\n\n   ```Shell\n   [root ~]# cat foo.txt\n   grape\n   apple\n   pitaya\n   [root ~]# cat bar.txt\n   100\n   200\n   300\n   400\n   [root ~]# paste foo.txt bar.txt\n   grape   100\n   apple   200\n   pitaya  300\n           400\n   [root ~]# paste foo.txt bar.txt > hello.txt\n   [root ~]# cut -b 4-8 hello.txt\n   pe      10\n   le      20\n   aya     3\n   0\n   [root ~]# cat hello.txt | tr '\\t' ','\n   grape,100\n   apple,200\n   pitaya,300\n   ,400\n   [root ~]# split -l 100 sohu.html hello\n   [root ~]# wget https://www.baidu.com/img/bd_logo1.png\n   [root ~]# file bd_logo1.png\n   bd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced\n   [root ~]# wc sohu.html\n     2979   6355 212527 sohu.html\n   [root ~]# wc -l sohu.html\n   2979 sohu.html\n   [root ~]# wget http://www.qq.com -O qq.html\n   [root ~]# iconv -f gb2312 -t utf-8 qq.html\n   ```\n\n#### 管道和重定向\n\n1. 管道的使用 - **\\|**。\n\n   例子：查找当前目录下文件个数。\n\n   ```Shell\n   [root ~]# find ./ | wc -l\n   6152\n   ```\n\n   例子：列出当前路径下的文件和文件夹，给每一项加一个编号。\n\n   ```Shell\n   [root ~]# ls | cat -n\n        1  dump.rdb\n        2  mongodb-3.6.5\n        3  Python-3.6.5\n        4  redis-3.2.11\n        5  redis.conf\n   ```\n\n   例子：查找record.log中包含AAA，但不包含BBB的记录的总数\n\n   ```Shell\n   [root ~]# cat record.log | grep AAA | grep -v BBB | wc -l\n   ```\n\n2. 输出重定向和错误重定向 - **\\>** / **>>** / **2\\>**。\n\n   ```Shell\n   [root ~]# cat readme.txt\n   banana\n   apple\n   grape\n   apple\n   grape\n   watermelon\n   pear\n   pitaya\n   [root ~]# cat readme.txt | sort | uniq > result.txt\n   [root ~]# cat result.txt\n   apple\n   banana\n   grape\n   pear\n   pitaya\n   watermelon\n   ```\n\n3. 输入重定向 - **\\<**。\n\n   ```Shell\n   [root ~]# echo 'hello, world!' > hello.txt\n   [root ~]# wall < hello.txt\n   [root ~]#\n   Broadcast message from root (Wed Jun 20 19:43:05 2018):\n   hello, world!\n   [root ~]# echo 'I will show you some code.' >> hello.txt\n   [root ~]# wall < hello.txt\n   [root ~]#\n   Broadcast message from root (Wed Jun 20 19:43:55 2018):\n   hello, world!\n   I will show you some code.\n   ```\n\n4. 多重定向 - **tee**。\n\n   下面的命令除了在终端显示命令`ls`的结果之外，还会追加输出到`ls.txt`文件中。\n\n   ```Shell\n   [root ~]# ls | tee -a ls.txt\n   ```\n\n#### 别名\n\n1. **alias**\n\n   ```Shell\n   [root ~]# alias ll='ls -l'\n   [root ~]# alias frm='rm -rf'\n   [root ~]# ll\n   ...\n   drwxr-xr-x  2 root       root   4096 Jun 20 12:52 abc\n   ...\n   [root ~]# frm abc\n   ```\n\n2. **unalias**\n\n   ```Shell\n   [root ~]# unalias frm\n   [root ~]# frm sohu.html\n   -bash: frm: command not found\n   ```\n\n#### 文本处理\n\n1. 字符流编辑器 - **sed**。\n\n   sed是操作、过滤和转换文本内容的工具。假设有一个名为fruit.txt的文件，内容如下所示。\n\n   ```Shell\n   [root ~]# cat -n fruit.txt\n        1  banana\n        2  grape\n        3  apple\n        4  watermelon\n        5  orange\n   ```\n\n   接下来，我们在第2行后面添加一个pitaya。\n\n   ```Shell\n   [root ~]# sed '2a pitaya' fruit.txt\n   banana\n   grape\n   pitaya\n   apple\n   watermelon\n   orange\n   ```\n\n   > 注意：刚才的命令和之前我们讲过的很多命令一样并没有改变fruit.txt文件，而是将添加了新行的内容输出到终端中，如果想保存到fruit.txt中，可以使用输出重定向操作。\n\n   在第2行前面插入一个waxberry。\n\n   ```Shell\n   [root ~]# sed '2i waxberry' fruit.txt\n   banana\n   waxberry\n   grape\n   apple\n   watermelon\n   orange\n   ```\n\n   删除第3行。\n\n   ```Shell\n   [root ~]# sed '3d' fruit.txt\n   banana\n   grape\n   watermelon\n   orange\n   ```\n\n   删除第2行到第4行。\n\n   ```Shell\n   [root ~]# sed '2,4d' fruit.txt\n   banana\n   orange\n   ```\n\n   将文本中的字符a替换为@。\n\n   ```Shell\n   [root ~]# sed 's#a#@#' fruit.txt\n   b@nana\n   gr@pe\n   @pple\n   w@termelon\n   or@nge\n   ```\n\n   将文本中的字符a替换为@，使用全局模式。\n\n   ```Shell\n   [root ~]# sed 's#a#@#g' fruit.txt\n   b@n@n@\n   gr@pe\n   @pple\n   w@termelon\n   or@nge\n   ```\n\n2. 模式匹配和处理语言 - **awk**。\n\n   awk是一种编程语言，也是Linux系统中处理文本最为强大的工具，它的作者之一和现在的维护者就是之前提到过的Brian Kernighan（ken和dmr最亲密的伙伴）。通过该命令可以从文本中提取出指定的列、用正则表达式从文本中取出我们想要的内容、显示指定的行以及进行统计和运算，总之它非常强大。\n\n   假设有一个名为fruit2.txt的文件，内容如下所示。\n\n   ```Shell\n   [root ~]# cat fruit2.txt\n   1       banana      120\n   2       grape       500\n   3       apple       1230\n   4       watermelon  80\n   5       orange      400\n   ```\n\n   显示文件的第3行。\n\n   ```Shell\n   [root ~]# awk 'NR==3' fruit2.txt\n   3       apple       1230\n   ```\n\n   显示文件的第2列。\n\n   ```Shell\n   [root ~]# awk '{print $2}' fruit2.txt\n   banana\n   grape\n   apple\n   watermelon\n   orange\n   ```\n\n   显示文件的最后一列。\n\n   ```Shell\n   [root ~]# awk '{print $NF}' fruit2.txt\n   120\n   500\n   1230\n   80\n   400\n   ```\n\n   输出末尾数字大于等于300的行。\n\n   ```Shell\n   [root ~]# awk '{if($3 >= 300) {print $0}}' fruit2.txt\n   2       grape       500\n   3       apple       1230\n   5       orange      400\n   ```\n\n   上面展示的只是awk命令的冰山一角，更多的内容留给读者自己在实践中去探索。\n\n### 用户管理\n\n1. 创建和删除用户 - **useradd** / **userdel**。\n\n   ```Shell\n   [root home]# useradd hellokitty\n   [root home]# userdel hellokitty\n   ```\n\n   - `-d` - 创建用户时为用户指定用户主目录\n   - `-g` - 创建用户时指定用户所属的用户组\n\n2. 创建和删除用户组 - **groupadd** / **groupdel**。\n\n   > 说明：用户组主要是为了方便对一个组里面所有用户的管理。\n\n3. 修改密码 - **passwd**。\n\n   ```Shell\n   [root ~]# passwd hellokitty\n   New password:\n   Retype new password:\n   passwd: all authentication tokens updated successfully.\n   ```\n\n   > 说明：输入密码和确认密码没有回显且必须一气呵成的输入完成（不能使用退格键），密码和确认密码需要一致。如果使用`passwd`命令时没有指定命令作用的对象，则表示要修改当前用户的密码。如果想批量修改用户密码，可以使用`chpasswd`命令。\n\n   - `-l` / `-u` - 锁定/解锁用户。\n   - `-d` - 清除用户密码。\n   - `-e` - 设置密码立即过期，用户登录时会强制要求修改密码。\n   - `-i` - 设置密码过期多少天以后禁用该用户。\n\n4. 查看和修改密码有效期 - **chage**。\n\n   设置hellokitty用户100天后必须修改密码，过期前15天通知该用户，过期后15天禁用该用户。\n\n   ```Shell\n   chage -M 100 -W 15 -I 15 hellokitty\n   ```\n\n5. 切换用户 - **su**。\n\n   ```Shell\n   [root ~]# su hellokitty\n   [hellokitty root]$\n   ```\n\n6. 以管理员身份执行命令 - **sudo**。\n\n   ```Shell\n   [hellokitty ~]$ ls /root\n   ls: cannot open directory /root: Permission denied\n   [hellokitty ~]$ sudo ls /root\n   [sudo] password for hellokitty:\n   ```\n\n   > **说明**：如果希望用户能够以管理员身份执行命令，用户必须要出现在sudoers名单中，sudoers文件在 `/etc`目录下，如果希望直接编辑该文件也可以使用下面的命令。\n\n7. 编辑sudoers文件 - **visudo**。\n\n   这里使用的编辑器是vi，关于vi的知识在后面有讲解。该文件的部分内容如下所示：\n\n   ```\n   ## Allow root to run any commands anywhere\n   root    ALL=(ALL)   ALL\n\n   ## Allows members of the 'sys' group to run networking, software,\n   ## service management apps and more.\n   # %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS\n   ## Allows people in group wheel to run all commands\n   %wheel  ALL=(ALL)   ALL\n\n   ## Same thing without a password\n   # %wheel    ALL=(ALL)   NOPASSWD: ALL\n\n   ## Allows members of the users group to mount and unmount the\n   ## cdrom as root\n   # %users  ALL=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom\n\n   ## Allows members of the users group to shutdown this system\n   # %users  localhost=/sbin/shutdown -h now\n   ```\n\n8. 显示用户与用户组的信息 - **id**。\n\n9. 给其他用户发消息 -**write** / **wall**。\n\n   发送方：\n\n   ```Shell\n   [root ~]# write hellokitty\n   Dinner is on me.\n   Call me at 6pm.\n   ```\n\n   接收方：\n\n   ```Shell\n   [hellokitty ~]$\n   Message from root on pts/0 at 17:41 ...\n   Dinner is on me.\n   Call me at 6pm.\n   EOF\n   ```\n\n10. 查看/设置是否接收其他用户发送的消息 - **mesg**。\n\n   ```Shell\n   [hellokitty ~]$ mesg\n   is y\n   [hellokitty ~]$ mesg n\n   [hellokitty ~]$ mesg\n   is n\n   ```\n\n### 文件系统\n\n#### 文件和路径\n\n1. 命名规则：文件名的最大长度与文件系统类型有关，一般情况下，文件名不应该超过255个字符，虽然绝大多数的字符都可以用于文件名，但是最好使用英文大小写字母、数字、下划线、点这样的符号。文件名中虽然可以使用空格，但应该尽可能避免使用空格，否则在输入文件名时需要用将文件名放在双引号中或者通过`\\`对空格进行转义。\n2. 扩展名：在Linux系统下文件的扩展名是可选的，但是使用扩展名有助于对文件内容的理解。有些应用程序要通过扩展名来识别文件，但是更多的应用程序并不依赖文件的扩展名，就像`file`命令在识别文件时并不是依据扩展名来判定文件的类型。\n3. 隐藏文件：以点开头的文件在Linux系统中是隐藏文件（不可见文件）。\n\n#### 目录结构\n\n1. /bin - 基本命令的二进制文件。\n2. /boot - 引导加载程序的静态文件。\n3. /dev - 设备文件。\n4. **/etc** - 配置文件。\n5. /home - 普通用户主目录的父目录。\n6. /lib - 共享库文件。\n7. /lib64 - 共享64位库文件。\n8. /lost+found - 存放未链接文件。\n9. /media - 自动识别设备的挂载目录。\n10. /mnt - 临时挂载文件系统的挂载点。\n11. /opt - 可选插件软件包安装位置。\n12. /proc -  内核和进程信息。\n13. **/root** - 超级管理员用户主目录。\n14. /run - 存放系统运行时需要的东西。\n15. /sbin - 超级用户的二进制文件。\n16. /sys - 设备的伪文件系统。\n17. /tmp - 临时文件夹。\n18. **/usr** - 用户应用目录。\n19. /var - 变量数据目录。\n\n#### 访问权限\n\n1. **chmod** - 改变文件模式比特。\n\n   ```Shell\n   [root ~]# ls -l\n   ...\n   -rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   [root ~]# chmod g+w,o+w sohu.html\n   [root ~]# ls -l\n   ...\n   -rw-rw-rw-  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   [root ~]# chmod 644 sohu.html\n   [root ~]# ls -l\n   ...\n   -rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n   ...\n   ```\n   > 说明：通过上面的例子可以看出，用`chmod`改变文件模式比特有两种方式：一种是字符设定法，另一种是数字设定法。除了`chmod`之外，可以通过`umask`来设定哪些权限将在新文件的默认权限中被删除。\n\n   长格式查看目录或文件时显示结果及其对应权限的数值如下表所示。\n\n![upload successful](/images/pasted-14.png)\n\n2. **chown** - 改变文件所有者。\n\n    ```Shell\n    [root ~]# ls -l\n    ...\n    -rw-r--r--  1 root root     54 Jun 20 10:06 readme.txt\n    ...\n    [root ~]# chown hellokitty readme.txt\n    [root ~]# ls -l\n    ...\n    -rw-r--r--  1 hellokitty root     54 Jun 20 10:06 readme.txt\n    ...\n    ```\n\n3. **chgrp** - 改变用户组。\n\n#### 磁盘管理\n\n1. 列出文件系统的磁盘使用状况 - **df**。\n\n   ```Shell\n   [root ~]# df -h\n   Filesystem      Size  Used Avail Use% Mounted on\n   /dev/vda1        40G  5.0G   33G  14% /\n   devtmpfs        486M     0  486M   0% /dev\n   tmpfs           497M     0  497M   0% /dev/shm\n   tmpfs           497M  356K  496M   1% /run\n   tmpfs           497M     0  497M   0% /sys/fs/cgroup\n   tmpfs           100M     0  100M   0% /run/user/0\n   ```\n\n2. 磁盘分区表操作 - **fdisk**。\n\n   ```Shell\n   [root ~]# fdisk -l\n   Disk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors\n   Units = sectors of 1 * 512 = 512 bytes\n   Sector size (logical/physical): 512 bytes / 512 bytes\n   I/O size (minimum/optimal): 512 bytes / 512 bytes\n   Disk label type: dos\n   Disk identifier: 0x000a42f4\n      Device Boot      Start         End      Blocks   Id  System\n   /dev/vda1   *        2048    83884031    41940992   83  Linux\n   Disk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectors\n   Units = sectors of 1 * 512 = 512 bytes\n   Sector size (logical/physical): 512 bytes / 512 bytes\n   I/O size (minimum/optimal): 512 bytes / 512 bytes\n   ```\n\n3. 磁盘分区工具 - **parted**。\n\n4. 格式化文件系统 - **mkfs**。\n\n   ```Shell\n   [root ~]# mkfs -t ext4 -v /dev/sdb\n   ```\n\n   - `-t` - 指定文件系统的类型。\n   - `-c` - 创建文件系统时检查磁盘损坏情况。\n   - `-v` - 显示详细信息。\n\n5. 文件系统检查 - **fsck**。\n\n6. 转换或拷贝文件 - **dd**。\n\n7. 挂载/卸载 - **mount** / **umount**。\n\n8. 创建/激活/关闭交换分区 - **mkswap** / **swapon** / **swapoff**。\n\n> 说明：执行上面这些命令会带有一定的风险，如果不清楚这些命令的用法，最好不用随意使用，在使用的过程中，最好对照参考资料进行操作，并在操作前确认是否要这么做。\n\n### 编辑器 - vim\n\n1. 启动vim。可以通过`vi`或`vim`命令来启动vim，启动时可以指定文件名来打开一个文件，如果没有指定文件名，也可以在保存的时候指定文件名。\n\n   ```Shell\n   [root ~]# vim guess.py\n   ```\n\n2. 命令模式、编辑模式和末行模式：启动vim进入的是命令模式（也称为Normal模式），在命令模式下输入英文字母`i`会进入编辑模式（Insert模式），屏幕下方出现`-- INSERT --`提示；在编辑模式下按下`Esc`会回到命令模式，此时如果输入英文`:`会进入末行模式，在末行模式下输入`q!`可以在不保存当前工作的情况下强行退出vim；在命令模式下输入`v`会进入可视模式（Visual模式），可以用光标选择一个区域再完成对应的操作。\n\n3. 保存和退出vim：在命令模式下输入`:` 进入末行模式，输入`wq`可以实现保存退出；如果想放弃编辑的内容输入`q!`强行退出，这一点刚才已经提到过了；在命令模式下也可以直接输入`ZZ`实现保存退出。如果只想保存文件不退出，那么可以在末行模式下输入`w`；可以在`w`后面输入空格再指定要保存的文件名。\n\n4. 光标操作。\n\n   - 在命令模式下可以通过`h`、`j`、`k`、`l`来控制光标向左、下、上、右的方向移动，可以在字母前输入数字来表示移动的距离，例如：`10h`表示向左移动10个字符。\n   - 在命令模式下可以通过`Ctrl+y`和`Ctrl+e`来实现向上、向下滚动一行文本的操作，可以通过`Ctrl+f`和`Ctrl+b`来实现向前和向后翻页的操作。\n   - 在命令模式下可以通过输入英文字母`G`将光标移到文件的末尾，可以通过`gg`将光标移到文件的开始，也可以通过在`G`前输入数字来将光标移动到指定的行。\n\n5. 文本操作。\n\n   - 删除：在命令模式下可以用`dd`来删除整行；可以在`dd`前加数字来指定删除的行数；可以用`d$`来实现删除从光标处删到行尾的操作，也可以通过`d0`来实现从光标处删到行首的操作；如果想删除一个单词，可以使用`dw`；如果要删除全文，可以在输入`:%d`（其中`:`用来从命令模式进入末行模式）。\n   - 复制和粘贴：在命令模式下可以用`yy`来复制整行；可以在`yy`前加数字来指定复制的行数；可以通过`p`将复制的内容粘贴到光标所在的地方。\n   - 撤销和恢复：在命令模式下输入`u`可以撤销之前的操作；通过`Ctrl+r`可以恢复被撤销的操作。\n   - 对内容进行排序：在命令模式下输入`%!sort`。\n\n6. 查找和替换。\n\n   - 查找操作需要输入`/`进入末行模式并提供正则表达式来匹配与之对应的内容，例如：`/doc.*\\.`，输入`n`来向前搜索，也可以输入`N`来向后搜索。\n   - 替换操作需要输入`:`进入末行模式并指定搜索的范围、正则表达式以及替换后的内容和匹配选项，例如：`:1,$s/doc.*/hello/gice`，其中：\n     - `g` - global：全局匹配。\n     - `i` - ignore case：忽略大小写匹配。\n     - `c` - confirm：替换时需要确认。\n     - `e` - error：忽略错误。\n\n7. 参数设定：在输入`:`进入末行模式后可以对vim进行设定。\n\n   - 设置Tab键的空格数：`set ts=4`\n\n   - 设置显示/不显示行号：`set nu` / `set nonu`\n\n   - 设置启用/关闭高亮语法：`syntax on` / `syntax off`\n\n   - 设置显示标尺（光标所在的行和列）： `set ruler`\n\n   - 设置启用/关闭搜索结果高亮：`set hls` / `set nohls`\n\n     > 说明：如果希望上面的这些设定在每次启动vim时都能自动生效，需要将这些设定写到用户主目录下的.vimrc文件中。\n\n8. 高级技巧\n\n   - 比较多个文件。\n\n     ```Shell\n     [root ~]# vim -d foo.txt bar.txt\n     ```\n     \n![upload successful](/images/pasted-15.png)\n\n   - 打开多个文件。\n\n     ```Shell\n     [root ~]# vim foo.txt bar.txt hello.txt\n     ```\n\n     启动vim后只有一个窗口显示的是foo.txt，可以在末行模式中输入`ls`查看到打开的三个文件，也可以在末行模式中输入`b <num>`来显示另一个文件，例如可以用`:b 2`将bar.txt显示出来，可以用`:b 3`将hello.txt显示出来。\n\n   - 拆分和切换窗口。\n\n     可以在末行模式中输入`sp`或`vs`来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次`Ctrl+w`就可以实现编辑窗口的切换，在一个窗口中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。\n\n![upload successful](/images/pasted-12.png)\n\n   - 映射快捷键：在vim下可以将一些常用操作映射为快捷键来提升工作效率。\n     - 例子1：在命令模式下输入`F4`执行从第一行开始删除10000行代码的操作。\n\n       `:map <F4> gg10000dd`。\n\n       例子2：在编辑模式下输入`__main`直接补全为`if __name__ == '__main__':`。\n\n       `:inoremap __main if __name__ == '__main__':`\n\n     > 说明：上面例子2的`inoremap`中的`i`表示映射的键在编辑模式使用， `nore`表示不要递归，这一点非常重要，否则如果键对应的内容中又出现键本身，就会引发递归（相当于进入了死循环）。如果希望映射的快捷键每次启动vim时都能生效，需要将映射写到用户主目录下的.vimrc文件中。\n\n   - 录制宏。\n\n     - 在命令模式下输入`qa`开始录制宏（其中`a`是寄存器的名字，也可以是其他英文字母或0-9的数字）。\n\n     - 执行你的操作（光标操作、编辑操作等），这些操作都会被录制下来。\n\n     - 如果录制的操作已经完成了，按`q`结束录制。\n\n     - 通过`@a`（`a`是刚才使用的寄存器的名字）播放宏，如果要多次执行宏可以在前面加数字，例如`100@a`表示将宏播放100次。\n\n     - 可以试一试下面的例子来体验录制宏的操作，该例子来源于[Harttle Land网站](https://harttle.land/tags.html#Vim)，该网站上提供了很多关于vim的使用技巧，有兴趣的可以了解一下。\n\n![upload successful](/images/pasted-13.png)\n\n### 软件安装和配置\n\n#### 使用包管理工具\n\n1. **yum** - Yellowdog Updater Modified。\n   - `yum search`：搜索软件包，例如`yum search nginx`。\n   - `yum list installed`：列出已经安装的软件包，例如`yum list installed | grep zlib`。\n   - `yum install`：安装软件包，例如`yum install nginx`。\n   - `yum remove`：删除软件包，例如`yum remove nginx`。\n   - `yum update`：更新软件包，例如`yum update`可以更新所有软件包，而`yum update tar`只会更新tar。\n   - `yum check-update`：检查有哪些可以更新的软件包。\n   - `yum info`：显示软件包的相关信息，例如`yum info nginx`。\n2. **rpm** - Redhat Package Manager。\n   - 安装软件包：`rpm -ivh <packagename>.rpm`。\n   - 移除软件包：`rpm -e <packagename>`。\n   - 查询软件包：`rpm -qa`，例如可以用`rpm -qa | grep mysql`来检查是否安装了MySQL相关的软件包。\n\n下面以Nginx为例，演示如何使用yum安装软件。\n\n```Shell\n[root ~]# yum -y install nginx\n...\nInstalled:\n  nginx.x86_64 1:1.12.2-2.el7\nDependency Installed:\n  nginx-all-modules.noarch 1:1.12.2-2.el7\n  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-mail.x86_64 1:1.12.2-2.el7\n  nginx-mod-stream.x86_64 1:1.12.2-2.el7\nComplete!\n[root ~]# yum info nginx\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nInstalled Packages\nName        : nginx\nArch        : x86_64\nEpoch       : 1\nVersion     : 1.12.2\nRelease     : 2.el7\nSize        : 1.5 M\nRepo        : installed\nFrom repo   : epel\nSummary     : A high performance web server and reverse proxy server\nURL         : http://nginx.org/\nLicense     : BSD\nDescription : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and\n            : IMAP protocols, with a strong focus on high concurrency, performance and low\n            : memory usage.\n[root ~]# nginx -v\nnginx version: nginx/1.12.2\n```\n\n移除Nginx。\n\n```Shell\n[root ~]# yum -y remove nginx\n```\n\n下面以MySQL为例，演示如何使用rpm安装软件。要安装MySQL需要先到[MySQL官方网站](https://www.mysql.com/)下载对应的[RPM文件](https://dev.mysql.com/downloads/mysql/)，当然要选择和你使用的Linux系统对应的版本。MySQL现在是Oracle公司旗下的产品，在MySQL被收购后，MySQL的作者重新制作了一个MySQL的分支MariaDB，可以通过yum进行安装。\n\n```Shell\n[root mysql]# ls\nmysql-community-client-5.7.22-1.el7.x86_64.rpm\nmysql-community-common-5.7.22-1.el7.x86_64.rpm\nmysql-community-libs-5.7.22-1.el7.x86_64.rpm\nmysql-community-server-5.7.22-1.el7.x86_64.rpm\n[root mysql]# yum -y remove mariadb-libs\n[root mysql]# yum -y install libaio\n[root mysql]#rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm\n...\n[root mysql]#rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm\n...\n```\n\n> 说明：由于MySQL和[MariaDB](https://mariadb.org/)的底层依赖库是有冲突的，所以上面我们首先用`yum`移除了名为mariadb-libs的依赖库并安装了名为libaio支持异步I/O操作的依赖库。关于MySQL和MariaDB之间的关系，可以阅读[维基百科](https://zh.wikipedia.org/wiki/MariaDB)上关于MariaDB的介绍。\n\n移除安装的MySQL。\n\n```Shell\n[root ~]# rpm -qa | grep mysql | xargs rpm -e\n```\n\n#### 下载解压配置环境变量\n\n下面以安装MongoDB为例，演示这类软件应该如何安装。\n\n```Shell\n[root ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\n--2018-06-21 18:32:53--  https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\nResolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...\nConnecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 100564462 (96M) [application/x-gzip]\nSaving to: ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’\n100%[==================================================>] 100,564,462  630KB/s   in 2m 9s\n2018-06-21 18:35:04 (760 KB/s) - ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’ saved [100564462/100564462]\n[root ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz\n[root ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tar\nmongodb-linux-x86_64-rhel70-3.6.5/README\nmongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICES\nmongodb-linux-x86_64-rhel70-3.6.5/MPL-2\nmongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongodump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestore\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongostat\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongotop\nmongodb-linux-x86_64-rhel70-3.6.5/bin/bsondump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongofiles\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplay\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperf\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongod\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongos\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongo\nmongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass\n[root ~]# vim .bash_profile\n...\nPATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/bin\nexport PATH\n...\n[root ~]# source .bash_profile\n[root ~]# mongod --version\ndb version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n[root ~]# mongo --version\nMongoDB shell version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n```\n\n> 说明：当然也可以通过yum来安装MongoDB，具体可以参照[官方网站](https://docs.mongodb.com/master/administration/install-on-linux/)上给出的说明。\n\n#### 源代码构建安装\n\n1. 安装Python 3.6。\n\n   ```Shell\n   [root ~]# yum install gcc\n   [root ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz\n   [root ~]# gunzip Python-3.6.5.tgz\n   [root ~]# tar -xvf Python-3.6.5.tar\n   [root ~]# cd Python-3.6.5\n   [root ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations\n   [root ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n   [root ~]# make && make install\n   ...\n   [root ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3\n   [root ~]# python3 --version\n   Python 3.6.5\n   [root ~]# python3 -m pip install -U pip\n   [root ~]# pip3 --version\n   ```\n\n   > 说明：上面在安装好Python之后还需要注册PATH环境变量，将Python安装路径下bin文件夹的绝对路径注册到PATH环境变量中。注册环境变量可以修改用户主目录下的.bash_profile或者/etc目录下的profile文件，二者的区别在于前者相当于是用户环境变量，而后者相当于是系统环境变量。\n\n2. 安装Redis-3.2.12。\n\n   ```Shell\n   [root ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz\n   [root ~]# gunzip redis-3.2.12.tar.gz\n   [root ~]# tar -xvf redis-3.2.12.tar\n   [root ~]# cd redis-3.2.12\n   [root ~]# make && make install\n   [root ~]# redis-server --version\n   Redis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6\n   [root ~]# redis-cli --version\n   redis-cli 3.2.12\n   ```\n\n### 配置服务\n\n我们可以Linux系统下安装和配置各种服务，也就是说我们可以把Linux系统打造成数据库服务器、Web服务器、缓存服务器、文件服务器、消息队列服务器等等。Linux下的大多数服务都被设置为守护进程（驻留在系统后台运行，但不会因为服务还在运行而导致Linux无法停止运行），所以我们安装的服务通常名字后面都有一个字母`d`，它是英文单词`daemon`的缩写，例如：防火墙服务叫firewalld，我们之前安装的MySQL服务叫mysqld，Apache服务器叫httpd等。在安装好服务之后，可以使用`systemctl`命令或`service`命令来完成对服务的启动、停止等操作，具体操作如下所示。\n\n1. 启动防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl start firewalld\n   ```\n\n2. 终止防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl stop firewalld\n   ```\n\n3. 重启防火墙服务。\n\n   ```Shell\n   [root ~]# systemctl restart firewalld\n   ```\n\n4. 查看防火墙服务状态。\n\n    ```Shell\n    [root ~]# systemctl status firewalld\n    ```\n\n5. 设置/禁用防火墙服务开机自启。\n\n   ```Shell\n   [root ~]# systemctl enable firewalld\n   Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.\n   Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.\n   [root ~]# systemctl disable firewalld\n   Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.\n   Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.\n   ```\n\n### 计划任务\n\n1. 在指定的时间执行命令\n\n   - **at** - 将任务排队，在指定的时间执行。\n   - **atq** - 查看待执行的任务队列。\n   - **atrm** - 从队列中删除待执行的任务。\n\n   指定3天以后下午5点要执行的任务。\n\n   ```Shell\n   [root ~]# at 5pm+3days\n   at> rm -f /root/*.html\n   at> <EOT>\n   job 9 at Wed Jun  5 17:00:00 2019\n   ```\n\n   查看待执行的任务队列。\n\n   ```Shell\n   [root ~]# atq\n   9       Wed Jun  5 17:00:00 2019 a root\n   ```\n\n   从队列中删除指定的任务。\n\n   ```Shell\n   [root ~]$ atrm 9\n   ```\n\n2. 计划任务表 - **crontab**。\n\n   ```Shell\n   [root ~]# crontab -e\n   * * * * * echo \"hello, world!\" >> /root/hello.txt\n   59 23 * * * rm -f /root/*.log\n   ```\n   > 说明：输入`crontab -e`命令会打开vim来编辑Cron表达式并指定触发的任务，上面我们定制了两个计划任务，一个是每分钟向/root目录下的hello.txt中追加输出`hello, world!`；另一个是每天23时59分执行删除/root目录下以log为后缀名的文件。如果不知道Cron表达式如何书写，可以参照/etc/crontab文件中的提示（下面会讲到）或者用搜索引擎找一下“Cron表达式在线生成器”来生成Cron表达式。\n\n   和crontab相关的文件在`/etc`目录下，通过修改`/etc`目录下的crontab文件也能够定制计划任务。\n\n   ```Shell\n   [root ~]# cd /etc\n   [root etc]# ls -l | grep cron\n   -rw-------.  1 root root      541 Aug  3  2017 anacrontab\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:56 cron.d\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:51 cron.daily\n   -rw-------.  1 root root        0 Aug  3  2017 cron.deny\n   drwxr-xr-x.  2 root root     4096 Mar 27 11:50 cron.hourly\n   drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.monthly\n   -rw-r--r--   1 root root      493 Jun 23 15:09 crontab\n   drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.weekly\n   [root etc]# vim crontab\n     1 SHELL=/bin/bash\n     2 PATH=/sbin:/bin:/usr/sbin:/usr/bin\n     3 MAILTO=root\n     4\n     5 # For details see man 4 crontabs\n     6\n     7 # Example of job definition:\n     8 # .---------------- minute (0 - 59)\n     9 # |  .------------- hour (0 - 23)\n    10 # |  |  .---------- day of month (1 - 31)\n    11 # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n    12 # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n    13 # |  |  |  |  |\n    14 # *  *  *  *  * user-name  command to be executed\n   ```\n\n\n### 网络访问和管理\n\n1. 安全远程连接 - **ssh**。\n\n    ```Shell\n    [root ~]$ ssh root@120.77.222.217\n    The authenticity of host '120.77.222.217 (120.77.222.217)' can't be established.\n    ECDSA key fingerprint is SHA256:BhUhykv+FvnIL03I9cLRpWpaCxI91m9n7zBWrcXRa8w.\n    ECDSA key fingerprint is MD5:cc:85:e9:f0:d7:07:1a:26:41:92:77:6b:7f:a0:92:65.\n    Are you sure you want to continue connecting (yes/no)? yes\n    Warning: Permanently added '120.77.222.217' (ECDSA) to the list of known hosts.\n    root@120.77.222.217's password:\n    ```\n\n2. 通过网络获取资源 - **wget**。\n\n   - -b 后台下载模式\n   - -O 下载到指定的目录\n   - -r 递归下载\n\n3. 发送和接收邮件 - **mail**。\n\n4. 网络配置工具（旧） - **ifconfig**。\n\n   ```Shell\n   [root ~]# ifconfig eth0\n   eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n           inet 172.18.61.250  netmask 255.255.240.0  broadcast 172.18.63.255\n           ether 00:16:3e:02:b6:46  txqueuelen 1000  (Ethernet)\n           RX packets 1067841  bytes 1296732947 (1.2 GiB)\n           RX errors 0  dropped 0  overruns 0  frame 0\n           TX packets 409912  bytes 43569163 (41.5 MiB)\n           TX errors 0  dropped 0 overruns 0  carrier 0  collisions\n   ```\n\n5. 网络配置工具（新） - **ip**。\n\n   ```Shell\n   [root ~]# ip address\n   1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1\n       link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n       inet 127.0.0.1/8 scope host lo\n          valid_lft forever preferred_lft forever\n   2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n       link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff\n       inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0\n          valid_lft forever preferred_lft forever\n   ```\n\n6. 网络可达性检查 - **ping**。\n\n   ```Shell\n   [root ~]# ping www.baidu.com -c 3\n   PING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms\n   64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms\n   --- www.a.shifen.com ping statistics ---\n   3 packets transmitted, 3 received, 0% packet loss, time 2002ms\n   rtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms\n   ```\n\n7. 显示或管理路由表 - **route**。\n\n8. 查看网络服务和端口 - **netstat** / **ss**。\n\n   ```Shell\n   [root ~]# netstat -nap | grep nginx\n   ```\n\n9. 网络监听抓包 - **tcpdump**。\n\n10. 安全文件拷贝 - **scp**。\n\n  ```Shell\n  [root ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg\n  ```\n\n11. 文件同步工具 - **rsync**。\n\n    > 说明：使用`rsync`可以实现文件的自动同步，这个对于文件服务器来说相当重要。关于这个命令的用法，我们在后面讲项目部署的时候为大家详细说明。\n\n12. 安全文件传输 - **sftp**。\n\n    ```Shell\n    [root ~]# sftp root@1.2.3.4\n    root@1.2.3.4's password:\n    Connected to 1.2.3.4.\n    sftp>\n    ```\n\n    - `help`：显示帮助信息。\n\n    - `ls`/`lls`：显示远端/本地目录列表。\n\n    - `cd`/`lcd`：切换远端/本地路径。\n\n    - `mkdir`/`lmkdir`：创建远端/本地目录。\n\n    - `pwd`/`lpwd`：显示远端/本地当前工作目录。\n\n    - `get`：下载文件。\n\n    - `put`：上传文件。\n\n    - `rm`：删除远端文件。\n\n    - `bye`/`exit`/`quit`：退出sftp。\n\n### 进程管理\n\n1. 查看进程 - **ps**。\n\n   ```Shell\n   [root ~]# ps -ef\n   UID        PID  PPID  C STIME TTY          TIME CMD\n   root         1     0  0 Jun23 ?        00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21\n   root         2     0  0 Jun23 ?        00:00:00 [kthreadd]\n   ...\n   [root ~]# ps -ef | grep mysqld\n   root      4943  4581  0 22:45 pts/0    00:00:00 grep --color=auto mysqld\n   mysql    25257     1  0 Jun25 ?        00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n   ```\n\n2. 显示进程状态树 - **pstree**。\n\n    ```Shell\n    [root ~]# pstree\n    systemd─┬─AliYunDun───18*[{AliYunDun}]\n            ├─AliYunDunUpdate───3*[{AliYunDunUpdate}]\n            ├─2*[agetty]\n            ├─aliyun-service───2*[{aliyun-service}]\n            ├─atd\n            ├─auditd───{auditd}\n            ├─dbus-daemon\n            ├─dhclient\n            ├─irqbalance\n            ├─lvmetad\n            ├─mysqld───28*[{mysqld}]\n            ├─nginx───2*[nginx]\n            ├─ntpd\n            ├─polkitd───6*[{polkitd}]\n            ├─rsyslogd───2*[{rsyslogd}]\n            ├─sshd───sshd───bash───pstree\n            ├─systemd-journal\n            ├─systemd-logind\n            ├─systemd-udevd\n            └─tuned───4*[{tuned}]\n    ```\n\n3. 查找与指定条件匹配的进程 - **pgrep**。\n\n   ```Shell\n   [root ~]$ pgrep mysqld\n   3584\n   ```\n\n4. 通过进程号终止进程 - **kill**。\n\n   ```Shell\n   [root ~]$ kill -l\n    1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP\n    6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1\n   11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM\n   16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP\n   21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ\n   26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR\n   31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3\n   38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8\n   43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13\n   48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12\n   53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7\n   58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2\n   63) SIGRTMAX-1  64) SIGRTMAX\n   [root ~]# kill 1234\n   [root ~]# kill -9 1234\n   ```\n\n   例子：用一条命令强制终止正在运行的Redis进程。\n\n    ```Shell\n   ps -ef | grep redis | grep -v grep | awk '{print $2}' | xargs kill\n    ```\n\n5. 通过进程名终止进程 - **killall** / **pkill**。\n\n    结束名为mysqld的进程。\n\n    ```Shell\n    [root ~]# pkill mysqld\n    ```\n\n    结束hellokitty用户的所有进程。\n\n    ```Shell\n    [root ~]# pkill -u hellokitty\n    ```\n\n    > 说明：这样的操作会让hellokitty用户和服务器断开连接。\n\n6. 将进程置于后台运行。\n\n   - `Ctrl+Z` - 快捷键，用于停止进程并置于后台。\n   - `&` - 将进程置于后台运行。\n\n   ```Shell\n   [root ~]# mongod &\n   [root ~]# redis-server\n   ...\n   ^Z\n   [4]+  Stopped                 redis-server\n   ```\n\n7. 查询后台进程 - **jobs**。\n\n   ```Shell\n   [root ~]# jobs\n   [2]   Running                 mongod &\n   [3]-  Stopped                 cat\n   [4]+  Stopped                 redis-server\n   ```\n\n8. 让进程在后台继续运行 - **bg**。\n\n   ```Shell\n   [root ~]# bg %4\n   [4]+ redis-server &\n   [root ~]# jobs\n   [2]   Running                 mongod &\n   [3]+  Stopped                 cat\n   [4]-  Running                 redis-server &\n   ```\n\n9. 将后台进程置于前台 - **fg**。\n\n    ```Shell\n    [root ~]# fg %4\n    redis-server\n    ```\n\n    > 说明：置于前台的进程可以使用`Ctrl+C`来终止它。\n\n10. 调整程序/进程运行时优先级 - **nice** / **renice**。\n\n11. 用户登出后进程继续工作 - **nohup**。\n\n     ```Shell\n     [root ~]# nohup ping www.baidu.com > result.txt &\n     ```\n\n12. 跟踪进程系统调用情况 - **strace**。\n\n     ```Shell\n     [root ~]# pgrep mysqld\n     8803\n     [root ~]# strace -c -p 8803\n     strace: Process 8803 attached\n     ^Cstrace: Process 8803 detached\n     % time     seconds  usecs/call     calls    errors syscall\n     ------ ----------- ----------- --------- --------- ----------------\n      99.18    0.005719        5719         1           restart_syscall\n       0.49    0.000028          28         1           mprotect\n       0.24    0.000014          14         1           clone\n       0.05    0.000003           3         1           mmap\n       0.03    0.000002           2         1           accept\n     ------ ----------- ----------- --------- --------- ----------------\n     100.00    0.005766                     5           total\n     ```\n\n     > 说明：这个命令的用法和参数都比较复杂，建议大家在真正用到这个命令的时候再根据实际需要进行了解。\n\n13. 查看当前运行级别 - **runlevel**。\n\n     ```Shell\n     [root ~]# runlevel\n     N 3\n     ```\n\n14. 实时监控进程占用资源状况 - **top**。\n\n     ```Shell\n     [root ~]# top\n     top - 23:04:23 up 3 days, 14:10,  1 user,  load average: 0.00, 0.01, 0.05\n     Tasks:  65 total,   1 running,  64 sleeping,   0 stopped,   0 zombie\n     %Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n     KiB Mem :  1016168 total,   191060 free,   324700 used,   500408 buff/cache\n     KiB Swap:        0 total,        0 free,        0 used.   530944 avail Mem\n     ...\n     ```\n\n     - `-c` - 显示进程的整个路径。\n     - `-d` - 指定两次刷屏之间的间隔时间（秒为单位）。\n     - `-i` - 不显示闲置进程或僵尸进程。\n     - `-p` - 显示指定进程的信息。\n\n### 系统诊断\n\n1. 系统启动异常诊断 - **dmesg**。\n\n2. 查看系统活动信息 - **sar**。\n\n   ```Shell\n   [root ~]# sar -u -r 5 10\n   Linux 3.10.0-957.10.1.el7.x86_64 (izwz97tbgo9lkabnat2lo8z)      06/02/2019      _x86_64_        (2 CPU)\n\n   06:48:30 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle\n   06:48:35 PM     all      0.10      0.00      0.10      0.00      0.00     99.80\n\n   06:48:30 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n   06:48:35 PM   1772012   2108392     54.33    102816   1634528    784940     20.23    793328   1164704         0\n   ```\n\n   - `-A` - 显示所有设备（CPU、内存、磁盘）的运行状况。\n   - `-u` - 显示所有CPU的负载情况。\n   - `-d` - 显示所有磁盘的使用情况。\n   - `-r` - 显示内存的使用情况。\n   - `-n` - 显示网络运行状态。\n\n3. 查看内存使用情况 - **free**。\n\n   ```Shell\n   [root ~]# free\n                 total        used        free      shared  buff/cache   available\n   Mem:        1016168      323924      190452         356      501792      531800\n   Swap:             0           0           0\n   ```\n\n4. 虚拟内存统计 - **vmstat**。\n\n   ```Shell\n   [root ~]# vmstat\n   procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n    r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n    2  0      0 204020  79036 667532    0    0     5    18  101   58  1  0 99  0  0\n   ```\n\n5. CPU信息统计 - **mpstat**。\n\n   ```Shell\n   [root ~]# mpstat\n   Linux 3.10.0-957.5.1.el7.x86_64 (iZ8vba0s66jjlfmo601w4xZ)       05/30/2019      _x86_64_        (1 CPU)\n\n   01:51:54 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle\n   01:51:54 AM  all    0.71    0.00    0.17    0.04    0.00    0.00    0.00    0.00    0.00   99.07\n   ```\n\n6. 查看进程使用内存状况 - **pmap**。\n\n   ```Shell\n   [root ~]# ps\n     PID TTY          TIME CMD\n    4581 pts/0    00:00:00 bash\n    5664 pts/0    00:00:00 ps\n   [root ~]# pmap 4581\n   4581:   -bash\n   0000000000400000    884K r-x-- bash\n   00000000006dc000      4K r---- bash\n   00000000006dd000     36K rw--- bash\n   00000000006e6000     24K rw---   [ anon ]\n   0000000001de0000    400K rw---   [ anon ]\n   00007f82fe805000     48K r-x-- libnss_files-2.17.so\n   00007f82fe811000   2044K ----- libnss_files-2.17.so\n   ...\n   ```\n\n7. 报告设备CPU和I/O统计信息 - **iostat**。\n\n   ```Shell\n   [root ~]# iostat\n   Linux 3.10.0-693.11.1.el7.x86_64 (iZwz97tbgo9lkabnat2lo8Z)      06/26/2018      _x86_64_       (1 CPU)\n   avg-cpu:  %user   %nice %system %iowait  %steal   %idle\n              0.79    0.00    0.20    0.04    0.00   98.97\n   Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\n   vda               0.85         6.78        21.32    2106565    6623024\n   vdb               0.00         0.01         0.00       2088          0\n   ```\n\n8. 显示所有PCI设备 - **lspci**。\n\n   ```Shell\n   [root ~]# lspci\n   00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)\n   00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II]\n   00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]\n   00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01)\n   00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03)\n   00:02.0 VGA compatible controller: Cirrus Logic GD 5446\n   00:03.0 Ethernet controller: Red Hat, Inc. Virtio network device\n   00:04.0 Communication controller: Red Hat, Inc. Virtio console\n   00:05.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n   00:06.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n   00:07.0 Unclassified device [00ff]: Red Hat, Inc. Virtio memory balloon\n   ```\n\n9. 显示进程间通信设施的状态 - **ipcs**。\n\n   ```Shell\n   [root ~]# ipcs\n\n   ------ Message Queues --------\n   key        msqid      owner      perms      used-bytes   messages\n\n   ------ Shared Memory Segments --------\n   key        shmid      owner      perms      bytes      nattch     status\n\n   ------ Semaphore Arrays --------\n   key        semid      owner      perms      nsems\n   ```\n\n### Shell编程\n\n之前我们提到过，Shell是一个连接用户和操作系统的应用程序，它提供了人机交互的界面（接口），用户通过这个界面访问操作系统内核的服务。Shell脚本是一种为Shell编写的脚本程序，我们可以通过Shell脚本来进行系统管理，同时也可以通过它进行文件操作。总之，编写Shell脚本对于使用Linux系统的人来说，应该是一项标配技能。\n\n互联网上有大量关于Shell脚本的相关知识，我不打算再此对Shell脚本做一个全面系统的讲解，我们通过下面的代码来感性的认识下Shell脚本就行了。\n\n例子1：输入两个整数m和n，计算从m到n的整数求和的结果。\n\n```Shell\n#!/usr/bin/bash\nprintf 'm = '\nread m\nprintf 'n = '\nread n\na=$m\nsum=0\nwhile [ $a -le $n ]\ndo\n    sum=$[ sum + a ]\n    a=$[ a + 1 ]\ndone\necho '结果: '$sum\n```\n\n例子2：自动创建文件夹和指定数量的文件。\n\n```Shell\n#!/usr/bin/bash\nprintf '输入文件名: '\nread file\nprintf '输入文件数量(<1000): '\nread num\nif [ $num -ge 1000 ]\nthen\n    echo '文件数量不能超过1000'\nelse\n    if [ -e $dir -a -d $dir ]\n    then\n        rm -rf $dir\n    else\n        if [ -e $dir -a -f $dir ]\n        then\n            rm -f $dir\n        fi\n    fi\n    mkdir -p $dir\n    index=1\n    while [ $index -le $num ]\n    do\n        if [ $index -lt 10 ]\n        then\n            pre='00'\n        elif [ $index -lt 100 ]\n        then\n            pre='0'\n        else\n            pre=''\n        fi\n        touch $dir'/'$file'_'$pre$index\n        index=$[ index + 1 ]\n    done\nfi\n```\n\n例子3：自动安装指定版本的Redis。\n\n```Shell\n#!/usr/bin/bash\ninstall_redis() {\n    if ! which redis-server > /dev/null\n    then\n        cd /root\n        wget $1$2'.tar.gz' >> install.log\n        gunzip /root/$2'.tar.gz'\n        tar -xf /root/$2'.tar'\n        cd /root/$2\n        make >> install.log\n        make install >> install.log\n        echo '安装完成'\n    else\n        echo '已经安装过Redis'\n    fi\n}\n\ninstall_redis 'http://download.redis.io/releases/' $1\n```\n\n### 相关资源\n\n1. Linux命令行常用快捷键\n\n   | 快捷键     | 功能说明                                     |\n   | ---------- | -------------------------------------------- |\n   | tab        | 自动补全命令或路径                           |\n   | Ctrl+a     | 将光标移动到命令行行首                       |\n   | Ctrl+e     | 将光标移动到命令行行尾                       |\n   | Ctrl+f     | 将光标向右移动一个字符                       |\n   | Ctrl+b     | 将光标向左移动一个字符                       |\n   | Ctrl+k     | 剪切从光标到行尾的字符                       |\n   | Ctrl+u     | 剪切从光标到行首的字符                       |\n   | Ctrl+w     | 剪切光标前面的一个单词                       |\n   | Ctrl+y     | 复制剪切命名剪切的内容                       |\n   | Ctrl+c     | 中断正在执行的任务                           |\n   | Ctrl+h     | 删除光标前面的一个字符                       |\n   | Ctrl+d     | 退出当前命令行                               |\n   | Ctrl+r     | 搜索历史命令                                 |\n   | Ctrl+g     | 退出历史命令搜索                             |\n   | Ctrl+l     | 清除屏幕上所有内容在屏幕的最上方开启一个新行 |\n   | Ctrl+s     | 锁定终端使之暂时无法输入内容                 |\n   | Ctrl+q     | 退出终端锁定                                 |\n   | Ctrl+z     | 将正在终端执行的任务停下来放到后台           |\n   | !!         | 执行上一条命令                               |\n   | !数字      | 执行数字对应的历史命令                       |\n   | !字母      | 执行最近的以字母打头的命令                   |\n   | !$ / Esc+. | 获得上一条命令最后一个参数                   |\n   | Esc+b      | 移动到当前单词的开头                         |\n   | Esc+f      | 移动到当前单词的结尾                         |\n\n2. man查阅命令手册的内容说明\n\n   | 手册中的标题 | 功能说明                                                     |\n   | ------------ | ------------------------------------------------------------ |\n   | NAME         | 命令的说明和介绍                                             |\n   | SYNOPSIS     | 使用该命令的基本语法                                         |\n   | DESCRIPTION  | 使用该命令的详细描述，各个参数的作用，有时候这些信息会出现在OPTIONS中 |\n   | OPTIONS      | 命令相关参数选项的说明                                       |\n   | EXAMPLES     | 使用该命令的参考例子                                         |\n   | EXIT STATUS  | 命令结束的退出状态码，通常0表示成功执行                      |\n   | SEE ALSO     | 和命令相关的其他命令或信息                                   |\n   | BUGS         | 和命令相关的缺陷的描述                                       |\n   | AUTHOR       | 该命令的作者介绍                                             |\n\n\t本文非原创：内容转至 [原文链接](https://github.com/jackfrued/Python-100-Days/blob/master/Day31-35/31-35.玩转Linux操作系统.md)","slug":"linux/玩转Linux操作系统","published":1,"updated":"2019-10-18T08:05:22.861Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2d3190k0029goooeyo4hr76","content":"<blockquote>\n<p>说明：本文中对Linux命令的讲解都是基于名为CentOS的Linux发行版本，我自己使用的是阿里云服务器，系统版本为CentOS Linux release 7.6.1810。不同的Linux发行版本在Shell命令和工具程序上会有一些差别，但是这些差别是很小的。</p>\n</blockquote>\n<h3 id=\"操作系统发展史\"><a href=\"#操作系统发展史\" class=\"headerlink\" title=\"操作系统发展史\"></a>操作系统发展史</h3><p>只有硬件没有软件的计算机系统被称之为“裸机”，我们很难用“裸机”来完成计算机日常的工作（如存储和运算），所以必须用特定的软件来控制硬件的工作。最靠近计算机硬件的软件是系统软件，其中最为重要的就是“操作系统”。“操作系统”是控制和管理整个计算机硬件和软件资源、实现资源分配和任务调配、为系统用户以及其他软件提供接口和环境的程序的集合。</p>\n<a id=\"more\"></a>\n<h4 id=\"没有操作系统（手工操作）\"><a href=\"#没有操作系统（手工操作）\" class=\"headerlink\" title=\"没有操作系统（手工操作）\"></a>没有操作系统（手工操作）</h4><p>在计算机诞生之初没有操作系统的年代，人们先把程序纸带（或卡片）装上计算机，然后启动输入机把程序送入计算机，接着通过控制台开关启动程序运行。当程序执行完毕，打印机输出计算的结果，用户卸下并取走纸带（或卡片）。第二个用户上机，重复同样的步骤。在整个过程中用户独占机器，CPU等待手工操作，资源利用率极低。</p>\n<h4 id=\"批处理系统\"><a href=\"#批处理系统\" class=\"headerlink\" title=\"批处理系统\"></a>批处理系统</h4><p>首先启动计算机上的一个监督程序，在监督程序的控制下，计算机能够自动的、成批的处理一个或多个用户的作业。完成一批作业后，监督程度又从输入机读取作业存入磁带机。按照上面的步骤重复处理任务。监督程序不停的处理各个作业，实现了作业的自动转接，减少了作业的建立时间和手工操作时间，提高了计算机资源的利用率。 批处理系统又可以分为单道批处理系统、多道批处理系统、联机批处理系统、脱机批处理系统。</p>\n<h4 id=\"分时系统和实时系统\"><a href=\"#分时系统和实时系统\" class=\"headerlink\" title=\"分时系统和实时系统\"></a>分时系统和实时系统</h4><p>分时系统是把处理器的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。 若某个作业在分配给它的时间片内不能完成其计算，则该作业暂时中断，把处理机让给另一作业使用，等待下一轮调度时再继续其运行。由于计算机速度很快，作业运行轮转得很快，给每个用户的感觉是他独占了一台计算机。而每个用户可以通过自己的终端向系统发出各种操作控制命令，在充分的人机交互情况下，完成作业的运行。为了解决分时系统不能及时响应用户指令的情况，又出现了能够在在严格的时间范围内完成事件处理，及时响应随机外部事件的实时系统。</p>\n<h4 id=\"通用操作系统\"><a href=\"#通用操作系统\" class=\"headerlink\" title=\"通用操作系统\"></a>通用操作系统</h4><ol>\n<li><p>1960s：IBM的System/360系列的机器有了统一的操作系统OS/360。</p>\n</li>\n<li><p>1965年：AT&amp;T的贝尔实验室加入GE和MIT的合作计划开始开发MULTICS。</p>\n</li>\n<li><p>1969年：MULTICS项目失败，Ken Tompson赋闲在家，为了玩“Space Travel”游戏用汇编语言在当时已经被淘汰的PDP-7上开发了Unics。</p>\n<blockquote>\n<p>注：很难想象，Unix这么伟大的系统，居然是一个赋闲在家的程序员（关键是老婆回娘家还带上了孩子）在一台被淘汰的设备上为了玩游戏开发出来的。</p>\n</blockquote>\n</li>\n<li><p>1970年~1971年：Ken Tompson和Dennis Ritchie用B语言在PDP-11上重写了Unics，并在Brian Kernighan的建议下将其更名为Unix。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-8.png\" alt=\"upload successful\"></p>\n<ol start=\"5\">\n<li><p>1972年~1973年：Dennis Ritchie发明了C语言来取代可移植性较差的B语言，并开启了用C语言重写Unix的工作。</p>\n</li>\n<li><p>1974年：Unix推出了里程碑意义的第5版，几乎完全用C语言来实现。</p>\n</li>\n<li><p>1979年：从Unix第7版开始，AT&amp;T发布新的使用条款，将Unix私有化。</p>\n</li>\n<li><p>1987年：Andrew S. Tanenbaum教授为了能在课堂上为学生讲解操作系统运作的细节，决定在不使用任何AT&amp;T的源代码前提下，自行开发与Unix兼容的操作系统以避免版权上的争议，该系统被命名为Minix。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-9.png\" alt=\"upload successful\"></p>\n<ol start=\"9\">\n<li>1991年：Linus Torvalds就读于芬兰赫尔辛基大学期间，尝试在Minix上做一些开发工作，但因为Minix只是作为教学用途的操作系统，功能并不强大，为了方便在学校的新闻组和邮件系统中读写和下载文件，Linus编写了磁盘驱动程序和文件系统，这些东西形成了Linux系统内核的雏形。</li>\n</ol>\n<p><img src=\"/images/pasted-10.png\" alt=\"upload successful\"></p>\n<p>下图是Unix操作系统家族的图谱。</p>\n<p><img src=\"/images/pasted-11.png\" alt=\"upload successful\"></p>\n<h3 id=\"Linux概述\"><a href=\"#Linux概述\" class=\"headerlink\" title=\"Linux概述\"></a>Linux概述</h3><p>Linux是一个通用操作系统。一个操作系统要负责任务调度、内存分配、处理外围设备I/O等操作。操作系统通常由内核（运行其他程序，管理像磁盘、打印机等硬件设备的核心程序）和系统程序（设备驱动、底层库、shell、服务程序等）两部分组成。</p>\n<p>Linux内核是芬兰人Linus Torvalds开发的，于1991年9月发布。而Linux操作系统作为Internet时代的产物，它是由全世界许多开发者共同合作开发的，是一个自由的操作系统（注意自由和免费并不是同一个概念，想了解二者的差别可以<a href=\"https://www.debian.org/intro/free\" target=\"_blank\" rel=\"noopener\">点击这里</a>）。</p>\n<h3 id=\"Linux系统优点\"><a href=\"#Linux系统优点\" class=\"headerlink\" title=\"Linux系统优点\"></a>Linux系统优点</h3><ol>\n<li>通用操作系统，不跟特定的硬件绑定。</li>\n<li>用C语言编写，可移植性强，有内核编程接口。</li>\n<li>支持多用户和多任务，支持安全的分层文件系统。</li>\n<li>大量的实用程序，完善的网络功能以及强大的支持文档。</li>\n<li>可靠的安全性和良好的稳定性，对开发者更友好。</li>\n</ol>\n<h3 id=\"Linux系统发行版本\"><a href=\"#Linux系统发行版本\" class=\"headerlink\" title=\"Linux系统发行版本\"></a>Linux系统发行版本</h3><ol>\n<li><a href=\"https://www.redhat.com/en\" target=\"_blank\" rel=\"noopener\">Redhat</a></li>\n<li><a href=\"https://www.ubuntu.com/\" target=\"_blank\" rel=\"noopener\">Ubuntu</a></li>\n<li><a href=\"https://www.centos.org/\" target=\"_blank\" rel=\"noopener\">CentOS</a></li>\n<li><a href=\"https://getfedora.org/\" target=\"_blank\" rel=\"noopener\">Fedora</a></li>\n<li><a href=\"https://www.debian.org/\" target=\"_blank\" rel=\"noopener\">Debian</a></li>\n<li><a href=\"https://www.opensuse.org/\" target=\"_blank\" rel=\"noopener\">openSUSE</a></li>\n</ol>\n<h3 id=\"基础命令\"><a href=\"#基础命令\" class=\"headerlink\" title=\"基础命令\"></a>基础命令</h3><p>Linux系统的命令通常都是如下所示的格式：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">命令名称 [命名参数] [命令对象]</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><p>获取登录信息 - <strong>w</strong> / <strong>who</strong> / <strong>last</strong>/ <strong>lastb</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# w</span><br><span class=\"line\"> 23:31:16 up 12:16,  2 users,  load average: 0.00, 0.01, 0.05</span><br><span class=\"line\">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class=\"line\">root     pts/0    182.139.66.250   23:03    4.00s  0.02s  0.00s w</span><br><span class=\"line\">jackfrue pts/1    182.139.66.250   23:26    3:56   0.00s  0.00s -bash</span><br><span class=\"line\">[root ~]# who</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">jackfrued pts/1        2018-04-12 23:26 (182.139.66.250)</span><br><span class=\"line\">[root ~]# who am i</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">[root ~]# who mom likes</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">[root ~]# last</span><br><span class=\"line\">root     pts/0        117.136.63.184   Sun May 26 18:57   still logged in</span><br><span class=\"line\">reboot   system boot  3.10.0-957.10.1. Mon May 27 02:52 - 19:10  (-7:-42)</span><br><span class=\"line\">root     pts/4        117.136.63.184   Sun May 26 18:51 - crash  (08:01)</span><br><span class=\"line\">root     pts/4        117.136.63.184   Sun May 26 18:49 - 18:49  (00:00)</span><br><span class=\"line\">root     pts/3        117.136.63.183   Sun May 26 18:35 - crash  (08:17)</span><br><span class=\"line\">root     pts/2        117.136.63.183   Sun May 26 18:34 - crash  (08:17)</span><br><span class=\"line\">root     pts/0        117.136.63.183   Sun May 26 18:10 - crash  (08:42)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看自己使用的Shell - <strong>ps</strong>。</p>\n<p>Shell也被称为“壳”或“壳程序”，它是用户与操作系统内核交流的翻译官，简单的说就是人与计算机交互的界面和接口。目前很多Linux系统默认的Shell都是bash（<u>B</u>ourne <u>A</u>gain <u>SH</u>ell），因为它可以使用tab键进行命令和路径补全、可以保存历史命令、可以方便的配置环境变量以及执行批处理操作。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# ps</span><br><span class=\"line\">  PID TTY          TIME CMD</span><br><span class=\"line\"> 3531 pts/0    00:00:00 bash</span><br><span class=\"line\"> 3553 pts/0    00:00:00 ps</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看命令的说明和位置 - <strong>whatis</strong> / <strong>which</strong> / <strong>whereis</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# whatis ps</span><br><span class=\"line\">ps (1)        - report a snapshot of the current processes.</span><br><span class=\"line\">[root ~]# whatis python</span><br><span class=\"line\">python (1)    - an interpreted, interactive, object-oriented programming language</span><br><span class=\"line\">[root ~]# whereis ps</span><br><span class=\"line\">ps: /usr/bin/ps /usr/share/man/man1/ps.1.gz</span><br><span class=\"line\">[root ~]# whereis python</span><br><span class=\"line\">python: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz</span><br><span class=\"line\">[root ~]# which ps</span><br><span class=\"line\">/usr/bin/ps</span><br><span class=\"line\">[root ~]# which python</span><br><span class=\"line\">/usr/bin/python</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>清除屏幕上显示的内容 - <strong>clear</strong>。</p>\n</li>\n<li><p>查看帮助文档 - <strong>man</strong> / <strong>info</strong> / <strong>help</strong> / <strong>apropos</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# ps --help</span><br><span class=\"line\">Usage:</span><br><span class=\"line\"> ps [options]</span><br><span class=\"line\"> Try 'ps --help &lt;simple|list|output|threads|misc|all&gt;'</span><br><span class=\"line\">  or 'ps --help &lt;s|l|o|t|m|a&gt;'</span><br><span class=\"line\"> for additional help text.</span><br><span class=\"line\">For more details see ps(1).</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# man ps</span><br><span class=\"line\">PS(1)                                User Commands                                PS(1)</span><br><span class=\"line\">NAME</span><br><span class=\"line\">       ps - report a snapshot of the current processes.</span><br><span class=\"line\">SYNOPSIS</span><br><span class=\"line\">       ps [options]</span><br><span class=\"line\">DESCRIPTION</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看系统和主机名 - <strong>uname</strong> / <strong>hostname</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# uname</span><br><span class=\"line\">Linux</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# hostname</span><br><span class=\"line\">izwz97tbgo9lkabnat2lo8z</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release</span><br><span class=\"line\">CentOS Linux release 7.6.1810 (Core)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：<code>cat</code>是连接文件内容并打印到标准输出的命令，后面会讲到该命令；<code>/etc</code>是Linux系统上的一个非常重要的目录，它保存了很多的配置文件；<code>centos-release</code>是该目录下的一个文件，因为我自己使用的Linux发行版本是CentOS 7.6，因此这里会有一个这样的文件。</p>\n</blockquote>\n</li>\n<li><p>时间和日期 - <strong>date</strong> / <strong>cal</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# date</span><br><span class=\"line\">Wed Jun 20 12:53:19 CST 2018</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal</span><br><span class=\"line\">      June 2018</span><br><span class=\"line\">Su Mo Tu We Th Fr Sa</span><br><span class=\"line\">                1  2</span><br><span class=\"line\"> 3  4  5  6  7  8  9</span><br><span class=\"line\">10 11 12 13 14 15 16</span><br><span class=\"line\">17 18 19 20 21 22 23</span><br><span class=\"line\">24 25 26 27 28 29 30</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal 5 2017</span><br><span class=\"line\">      May 2017</span><br><span class=\"line\">Su Mo Tu We Th Fr Sa</span><br><span class=\"line\">    1  2  3  4  5  6</span><br><span class=\"line\"> 7  8  9 10 11 12 13</span><br><span class=\"line\">14 15 16 17 18 19 20</span><br><span class=\"line\">21 22 23 24 25 26 27</span><br><span class=\"line\">28 29 30 31</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启和关机 - <strong>reboot</strong> / <strong>shutdown</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# shutdown -h +5</span><br><span class=\"line\">Shutdown scheduled for Sun 2019-05-26 19:34:27 CST, use 'shutdown -c' to cancel.</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:29:27 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system is going down for power-off at Sun 2019-05-26 19:34:27 CST!</span><br><span class=\"line\">[root ~]# shutdown -c</span><br><span class=\"line\"></span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:30:22 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system shutdown has been cancelled at Sun 2019-05-26 19:31:22 CST!</span><br><span class=\"line\">[root ~]# shutdown -r 23:58</span><br><span class=\"line\">Shutdown scheduled for Sun 2019-05-26 23:58:00 CST, use 'shutdown -c' to cancel.</span><br><span class=\"line\">[root ~]# shutdown -c</span><br><span class=\"line\"></span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:31:06 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system shutdown has been cancelled at Sun 2019-05-26 19:32:06 CST!</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：在执行<code>shutdown</code>命令时会向登录系统的用户发出警告，可以在命令后面跟上警告消息来替换默认的警告消息，也可以在<code>-h</code>参数后通过<code>now</code>来表示立刻关机。</p>\n</blockquote>\n</li>\n<li><p>退出登录 -  <strong>exit</strong> / <strong>logout</strong>。</p>\n</li>\n<li><p>查看历史命令 - <strong>history</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# history</span><br><span class=\"line\">...</span><br><span class=\"line\">452  ls</span><br><span class=\"line\">453  cd Python-3.6.5/</span><br><span class=\"line\">454  clear</span><br><span class=\"line\">455  history</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# !454</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：查看到历史命令之后，可以用<code>!历史命令编号</code>来重新执行该命令；通过<code>history -c</code>可以清除历史命令。</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"实用程序\"><a href=\"#实用程序\" class=\"headerlink\" title=\"实用程序\"></a>实用程序</h3><h4 id=\"文件和文件夹操作\"><a href=\"#文件和文件夹操作\" class=\"headerlink\" title=\"文件和文件夹操作\"></a>文件和文件夹操作</h4><ol>\n<li><p>创建/删除空目录 - <strong>mkdir</strong> / <strong>rmdir</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkdir abc</span><br><span class=\"line\">[root ~]# mkdir -p xyz/abc</span><br><span class=\"line\">[root ~]# rmdir abc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建/删除文件 - <strong>touch</strong> / <strong>rm</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# touch readme.txt</span><br><span class=\"line\">[root ~]# touch error.txt</span><br><span class=\"line\">[root ~]# rm error.txt</span><br><span class=\"line\">rm: remove regular empty file ‘error.txt’? y</span><br><span class=\"line\">[root ~]# rm -rf xyz</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>touch</code>命令用于创建空白文件或修改文件时间。在Linux系统中一个文件有三种时间：<ul>\n<li>更改内容的时间 - mtime。</li>\n<li>更改权限的时间 - ctime。</li>\n<li>最后访问时间 - atime。</li>\n</ul>\n</li>\n<li><code>rm</code>的几个重要参数：<ul>\n<li><code>-i</code>：交互式删除，每个删除项都会进行询问。</li>\n<li><code>-r</code>：删除目录并递归的删除目录中的文件和目录。</li>\n<li><code>-f</code>：强制删除，忽略不存在的文件，没有任何提示。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>切换和查看当前工作目录 - <strong>cd</strong> / <strong>pwd</strong>。</p>\n<blockquote>\n<p>说明：<code>cd</code>命令后面可以跟相对路径（以当前路径作为参照）或绝对路径（以<code>/</code>开头）来切换到指定的目录，也可以用<code>cd ..</code>来返回上一级目录。请大家想一想，如果要返回到上上一级目录应该给<code>cd</code>命令加上什么样的参数呢？</p>\n</blockquote>\n</li>\n<li><p>查看目录内容 - <strong>ls</strong>。</p>\n<ul>\n<li><code>-l</code>：以长格式查看文件和目录。</li>\n<li><code>-a</code>：显示以点开头的文件和目录（隐藏文件）。</li>\n<li><code>-R</code>：遇到目录要进行递归展开（继续列出目录下面的文件和目录）。</li>\n<li><code>-d</code>：只列出目录，不列出其他内容。</li>\n<li><code>-S</code> / <code>-t</code>：按大小/时间排序。</li>\n</ul>\n</li>\n<li><p>查看文件内容 - <strong>cat</strong> / <strong>tac</strong> / <strong>head</strong> / <strong>tail</strong> / <strong>more</strong> / <strong>less</strong> / <strong>rev</strong> / <strong>od</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget http://www.sohu.com/ -O sohu.html</span><br><span class=\"line\">--2018-06-20 18:42:34--  http://www.sohu.com/</span><br><span class=\"line\">Resolving www.sohu.com (www.sohu.com)... 14.18.240.6</span><br><span class=\"line\">Connecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 212527 (208K) [text/html]</span><br><span class=\"line\">Saving to: ‘sohu.html’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 212,527     --.-K/s   <span class=\"keyword\">in</span> 0.03s</span></span><br><span class=\"line\">2018-06-20 18:42:34 (7.48 MB/s) - ‘sohu.html’ saved [212527/212527]</span><br><span class=\"line\">[root ~]# cat sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# head -10 sohu.html</span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;搜狐&lt;/title&gt;</span><br><span class=\"line\">&lt;meta name=\"Keywords\" content=\"搜狐,门户网站,新媒体,网络媒体,新闻,财经,体育,娱乐,时尚,汽车,房产,科技,图片,论坛,微博,博客,视频,电影,电视剧\"/&gt;</span><br><span class=\"line\">&lt;meta name=\"Description\" content=\"搜狐网为用户提供24小时不间断的最新资讯，及搜索、邮件等网络服务。内容包括全球热点事件、突发新闻、时事评论、热播影视剧、体育赛事、行业动态、生活服务信息，以及论坛、博客、微博、我的搜狐等互动空间。\" /&gt;</span><br><span class=\"line\">&lt;meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\"&gt;</span><br><span class=\"line\">&lt;meta charset=\"utf-8\"/&gt;</span><br><span class=\"line\">&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/&gt;</span><br><span class=\"line\">[root ~]# tail -2 sohu.html</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\">[root ~]# less sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# cat -n sohu.html | more</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：上面用到了一个名为<code>wget</code>的命令，它是一个网络下载器程序，可以从指定的URL下载资源。</p>\n</blockquote>\n</li>\n<li><p>拷贝/移动文件 - <strong>cp</strong> / <strong>mv</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkdir backup</span><br><span class=\"line\">[root ~]# cp sohu.html backup/</span><br><span class=\"line\">[root ~]# cd backup</span><br><span class=\"line\">[root backup]# ls</span><br><span class=\"line\">sohu.html</span><br><span class=\"line\">[root backup]# mv sohu.html sohu_index.html</span><br><span class=\"line\">[root backup]# ls</span><br><span class=\"line\">sohu_index.html</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>文件重命名 - <strong>rename</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# rename .htm .html *.htm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查找文件和查找内容 - <strong>find</strong> / <strong>grep</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# find / -name \"*.html\"</span><br><span class=\"line\">/root/sohu.html</span><br><span class=\"line\">/root/backup/sohu_index.html</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -atime 7 -type f -print</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -size +2k</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -name \"*.swp\" -delete</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep \"&lt;script&gt;\" sohu.html -n</span><br><span class=\"line\">20:&lt;script&gt;</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep -E \\&lt;\\/?script.*\\&gt; sohu.html -n</span><br><span class=\"line\">20:&lt;script&gt;</span><br><span class=\"line\">22:&lt;/script&gt;</span><br><span class=\"line\">24:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">25:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">26:&lt;script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">29:&lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">52:&lt;/script&gt;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：<code>grep</code>在搜索字符串时可以使用正则表达式，如果需要使用正则表达式可以用<code>grep -E</code>或者直接使用<code>egrep</code>。</p>\n</blockquote>\n</li>\n<li><p>创建链接和查看链接 - <strong>ln</strong> / <strong>readlink</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup2</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /etc/centos-release sysinfo</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sysinfo</span><br><span class=\"line\">lrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -&gt; /etc/centos-release</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sysinfo</span><br><span class=\"line\">CentOS Linux release 7.4.1708 (Core)</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release</span><br><span class=\"line\">CentOS Linux release 7.4.1708 (Core)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：链接可以分为硬链接和软链接（符号链接）。硬链接可以认为是一个指向文件数据的指针，就像Python中对象的引用计数，每添加一个硬链接，文件的对应链接数就增加1，只有当文件的链接数为0时，文件所对应的存储空间才有可能被其他文件覆盖。我们平常删除文件时其实并没有删除硬盘上的数据，我们删除的只是一个指针，或者说是数据的一条使用记录，所以类似于“文件粉碎机”之类的软件在“粉碎”文件时除了删除文件指针，还会在文件对应的存储区域填入数据来保证文件无法再恢复。软链接类似于Windows系统下的快捷方式，当软链接链接的文件被删除时，软链接也就失效了。</p>\n</blockquote>\n</li>\n<li><p>压缩/解压缩和归档/解归档 - <strong>gzip</strong> / <strong>gunzip</strong> / <strong>xz</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz</span><br><span class=\"line\">--2018-06-20 19:29:59--  http://download.redis.io/releases/redis-4.0.10.tar.gz</span><br><span class=\"line\">Resolving download.redis.io (download.redis.io)... 109.74.203.151</span><br><span class=\"line\">Connecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 1738465 (1.7M) [application/x-gzip]</span><br><span class=\"line\">Saving to: ‘redis-4.0.10.tar.gz’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 1,738,465   70.1KB/s   <span class=\"keyword\">in</span> 74s</span></span><br><span class=\"line\">2018-06-20 19:31:14 (22.9 KB/s) - ‘redis-4.0.10.tar.gz’ saved [1738465/1738465]</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class=\"line\">redis-4.0.10.tar.gz</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-4.0.10.tar.gz</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class=\"line\">redis-4.0.10.tar</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>归档和解归档 - <strong>tar</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-4.0.10.tar</span><br><span class=\"line\">redis-4.0.10/</span><br><span class=\"line\">redis-4.0.10/.gitignore</span><br><span class=\"line\">redis-4.0.10/00-RELEASENOTES</span><br><span class=\"line\">redis-4.0.10/BUGS</span><br><span class=\"line\">redis-4.0.10/CONTRIBUTING</span><br><span class=\"line\">redis-4.0.10/COPYING</span><br><span class=\"line\">redis-4.0.10/INSTALL</span><br><span class=\"line\">redis-4.0.10/MANIFESTO</span><br><span class=\"line\">redis-4.0.10/Makefile</span><br><span class=\"line\">redis-4.0.10/README.md</span><br><span class=\"line\">redis-4.0.10/deps/</span><br><span class=\"line\">redis-4.0.10/deps/Makefile</span><br><span class=\"line\">redis-4.0.10/deps/README.md</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：归档（也称为创建归档）和解归档都使用<code>tar</code>命令，通常创建归档需要<code>-cvf</code>三个参数，其中<code>c</code>表示创建（create），<code>v</code>表示显示创建归档详情（verbose），<code>f</code>表示指定归档的文件（file）；解归档需要加上<code>-xvf</code>参数，其中<code>x</code>表示抽取（extract），其他两个参数跟创建归档相同。</p>\n</blockquote>\n</li>\n<li><p>将标准输入转成命令行参数 - <strong>xargs</strong>。</p>\n<p>下面的命令会将查找当前路径下的html文件，然后通过<code>xargs</code>将这些文件作为参数传给<code>rm</code>命令，实现查找并删除文件的操作。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -type f -name \"*.html\" | xargs rm -f</span><br></pre></td></tr></table></figure>\n\n<p>下面的命令将a.txt文件中的多行内容变成一行输出到b.txt文件中，其中<code>&lt;</code>表示从a.txt中读取输入，<code>&gt;</code>表示将命令的执行结果输出到b.txt中。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# xargs &lt; a.txt &gt; b.txt</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这个命令就像上面演示的那样常在管道（实现进程间通信的一种方式）和重定向（重新指定输入输出的位置）操作中用到，后面的内容中会讲到管道操作和输入输出重定向操作。</p>\n</blockquote>\n</li>\n<li><p>显示文件或目录 - <strong>basename</strong> / <strong>dirname</strong>。</p>\n</li>\n<li><p>其他相关工具。</p>\n<ul>\n<li><strong>sort</strong> - 对内容排序</li>\n<li><strong>uniq</strong> - 去掉相邻重复内容</li>\n<li><strong>tr</strong> - 替换指定内容为新内容</li>\n<li><strong>cut</strong> / <strong>paste</strong> - 剪切/黏贴内容</li>\n<li><strong>split</strong> - 拆分文件</li>\n<li><strong>file</strong> - 判断文件类型</li>\n<li><strong>wc</strong> - 统计文件行数、单词数、字节数</li>\n<li><strong>iconv</strong> - 编码转换</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat foo.txt</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">[root ~]# cat bar.txt</span><br><span class=\"line\">100</span><br><span class=\"line\">200</span><br><span class=\"line\">300</span><br><span class=\"line\">400</span><br><span class=\"line\">[root ~]# paste foo.txt bar.txt</span><br><span class=\"line\">grape   100</span><br><span class=\"line\">apple   200</span><br><span class=\"line\">pitaya  300</span><br><span class=\"line\">        400</span><br><span class=\"line\">[root ~]# paste foo.txt bar.txt &gt; hello.txt</span><br><span class=\"line\">[root ~]# cut -b 4-8 hello.txt</span><br><span class=\"line\">pe      10</span><br><span class=\"line\">le      20</span><br><span class=\"line\">aya     3</span><br><span class=\"line\">0</span><br><span class=\"line\">[root ~]# cat hello.txt | tr '\\t' ','</span><br><span class=\"line\">grape,100</span><br><span class=\"line\">apple,200</span><br><span class=\"line\">pitaya,300</span><br><span class=\"line\">,400</span><br><span class=\"line\">[root ~]# split -l 100 sohu.html hello</span><br><span class=\"line\">[root ~]# wget https://www.baidu.com/img/bd_logo1.png</span><br><span class=\"line\">[root ~]# file bd_logo1.png</span><br><span class=\"line\">bd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced</span><br><span class=\"line\">[root ~]# wc sohu.html</span><br><span class=\"line\">  2979   6355 212527 sohu.html</span><br><span class=\"line\">[root ~]# wc -l sohu.html</span><br><span class=\"line\">2979 sohu.html</span><br><span class=\"line\">[root ~]# wget http://www.qq.com -O qq.html</span><br><span class=\"line\">[root ~]# iconv -f gb2312 -t utf-8 qq.html</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"管道和重定向\"><a href=\"#管道和重定向\" class=\"headerlink\" title=\"管道和重定向\"></a>管道和重定向</h4><ol>\n<li><p>管道的使用 - <strong>|</strong>。</p>\n<p>例子：查找当前目录下文件个数。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# find ./ | wc -l</span><br><span class=\"line\">6152</span><br></pre></td></tr></table></figure>\n\n<p>例子：列出当前路径下的文件和文件夹，给每一项加一个编号。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls | cat -n</span><br><span class=\"line\">     1  dump.rdb</span><br><span class=\"line\">     2  mongodb-3.6.5</span><br><span class=\"line\">     3  Python-3.6.5</span><br><span class=\"line\">     4  redis-3.2.11</span><br><span class=\"line\">     5  redis.conf</span><br></pre></td></tr></table></figure>\n\n<p>例子：查找record.log中包含AAA，但不包含BBB的记录的总数</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat record.log | grep AAA | grep -v BBB | wc -l</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>输出重定向和错误重定向 - <strong>&gt;</strong> / <strong>&gt;&gt;</strong> / <strong>2&gt;</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat readme.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">apple</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">grape</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">pear</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">[root ~]# cat readme.txt | sort | uniq &gt; result.txt</span><br><span class=\"line\">[root ~]# cat result.txt</span><br><span class=\"line\">apple</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">pear</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">watermelon</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>输入重定向 - <strong>&lt;</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# echo 'hello, world!' &gt; hello.txt</span><br><span class=\"line\">[root ~]# wall &lt; hello.txt</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Wed Jun 20 19:43:05 2018):</span><br><span class=\"line\">hello, world!</span><br><span class=\"line\">[root ~]# echo 'I will show you some code.' &gt;&gt; hello.txt</span><br><span class=\"line\">[root ~]# wall &lt; hello.txt</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Wed Jun 20 19:43:55 2018):</span><br><span class=\"line\">hello, world!</span><br><span class=\"line\">I will show you some code.</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>多重定向 - <strong>tee</strong>。</p>\n<p>下面的命令除了在终端显示命令<code>ls</code>的结果之外，还会追加输出到<code>ls.txt</code>文件中。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls | tee -a ls.txt</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"别名\"><a href=\"#别名\" class=\"headerlink\" title=\"别名\"></a>别名</h4><ol>\n<li><p><strong>alias</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# alias ll='ls -l'</span><br><span class=\"line\">[root ~]# alias frm='rm -rf'</span><br><span class=\"line\">[root ~]# ll</span><br><span class=\"line\">...</span><br><span class=\"line\">drwxr-xr-x  2 root       root   4096 Jun 20 12:52 abc</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# frm abc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>unalias</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# unalias frm</span><br><span class=\"line\">[root ~]# frm sohu.html</span><br><span class=\"line\">-bash: frm: command not found</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"文本处理\"><a href=\"#文本处理\" class=\"headerlink\" title=\"文本处理\"></a>文本处理</h4><ol>\n<li><p>字符流编辑器 - <strong>sed</strong>。</p>\n<p>sed是操作、过滤和转换文本内容的工具。假设有一个名为fruit.txt的文件，内容如下所示。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat -n fruit.txt</span><br><span class=\"line\">     1  banana</span><br><span class=\"line\">     2  grape</span><br><span class=\"line\">     3  apple</span><br><span class=\"line\">     4  watermelon</span><br><span class=\"line\">     5  orange</span><br></pre></td></tr></table></figure>\n\n<p>接下来，我们在第2行后面添加一个pitaya。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2a pitaya' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：刚才的命令和之前我们讲过的很多命令一样并没有改变fruit.txt文件，而是将添加了新行的内容输出到终端中，如果想保存到fruit.txt中，可以使用输出重定向操作。</p>\n</blockquote>\n<p>在第2行前面插入一个waxberry。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2i waxberry' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">waxberry</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>删除第3行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '3d' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>删除第2行到第4行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2,4d' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>将文本中的字符a替换为@。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed 's#a#@#' fruit.txt</span><br><span class=\"line\">b@nana</span><br><span class=\"line\">gr@pe</span><br><span class=\"line\">@pple</span><br><span class=\"line\">w@termelon</span><br><span class=\"line\">or@nge</span><br></pre></td></tr></table></figure>\n\n<p>将文本中的字符a替换为@，使用全局模式。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed 's#a#@#g' fruit.txt</span><br><span class=\"line\">b@n@n@</span><br><span class=\"line\">gr@pe</span><br><span class=\"line\">@pple</span><br><span class=\"line\">w@termelon</span><br><span class=\"line\">or@nge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>模式匹配和处理语言 - <strong>awk</strong>。</p>\n<p>awk是一种编程语言，也是Linux系统中处理文本最为强大的工具，它的作者之一和现在的维护者就是之前提到过的Brian Kernighan（ken和dmr最亲密的伙伴）。通过该命令可以从文本中提取出指定的列、用正则表达式从文本中取出我们想要的内容、显示指定的行以及进行统计和运算，总之它非常强大。</p>\n<p>假设有一个名为fruit2.txt的文件，内容如下所示。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat fruit2.txt</span><br><span class=\"line\">1       banana      120</span><br><span class=\"line\">2       grape       500</span><br><span class=\"line\">3       apple       1230</span><br><span class=\"line\">4       watermelon  80</span><br><span class=\"line\">5       orange      400</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的第3行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk 'NR==3' fruit2.txt</span><br><span class=\"line\">3       apple       1230</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的第2列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;print $2&#125;' fruit2.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的最后一列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;print $NF&#125;' fruit2.txt</span><br><span class=\"line\">120</span><br><span class=\"line\">500</span><br><span class=\"line\">1230</span><br><span class=\"line\">80</span><br><span class=\"line\">400</span><br></pre></td></tr></table></figure>\n\n<p>输出末尾数字大于等于300的行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;if($3 &gt;= 300) &#123;print $0&#125;&#125;' fruit2.txt</span><br><span class=\"line\">2       grape       500</span><br><span class=\"line\">3       apple       1230</span><br><span class=\"line\">5       orange      400</span><br></pre></td></tr></table></figure>\n\n<p>上面展示的只是awk命令的冰山一角，更多的内容留给读者自己在实践中去探索。</p>\n</li>\n</ol>\n<h3 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h3><ol>\n<li><p>创建和删除用户 - <strong>useradd</strong> / <strong>userdel</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root home]# useradd hellokitty</span><br><span class=\"line\">[root home]# userdel hellokitty</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-d</code> - 创建用户时为用户指定用户主目录</li>\n<li><code>-g</code> - 创建用户时指定用户所属的用户组</li>\n</ul>\n</li>\n<li><p>创建和删除用户组 - <strong>groupadd</strong> / <strong>groupdel</strong>。</p>\n<blockquote>\n<p>说明：用户组主要是为了方便对一个组里面所有用户的管理。</p>\n</blockquote>\n</li>\n<li><p>修改密码 - <strong>passwd</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# passwd hellokitty</span><br><span class=\"line\">New password:</span><br><span class=\"line\">Retype new password:</span><br><span class=\"line\">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：输入密码和确认密码没有回显且必须一气呵成的输入完成（不能使用退格键），密码和确认密码需要一致。如果使用<code>passwd</code>命令时没有指定命令作用的对象，则表示要修改当前用户的密码。如果想批量修改用户密码，可以使用<code>chpasswd</code>命令。</p>\n</blockquote>\n<ul>\n<li><code>-l</code> / <code>-u</code> - 锁定/解锁用户。</li>\n<li><code>-d</code> - 清除用户密码。</li>\n<li><code>-e</code> - 设置密码立即过期，用户登录时会强制要求修改密码。</li>\n<li><code>-i</code> - 设置密码过期多少天以后禁用该用户。</li>\n</ul>\n</li>\n<li><p>查看和修改密码有效期 - <strong>chage</strong>。</p>\n<p>设置hellokitty用户100天后必须修改密码，过期前15天通知该用户，过期后15天禁用该用户。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chage -M 100 -W 15 -I 15 hellokitty</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>切换用户 - <strong>su</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# su hellokitty</span><br><span class=\"line\">[hellokitty root]$</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>以管理员身份执行命令 - <strong>sudo</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$ ls /root</span><br><span class=\"line\">ls: cannot open directory /root: Permission denied</span><br><span class=\"line\">[hellokitty ~]$ sudo ls /root</span><br><span class=\"line\">[sudo] password for hellokitty:</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>说明</strong>：如果希望用户能够以管理员身份执行命令，用户必须要出现在sudoers名单中，sudoers文件在 <code>/etc</code>目录下，如果希望直接编辑该文件也可以使用下面的命令。</p>\n</blockquote>\n</li>\n<li><p>编辑sudoers文件 - <strong>visudo</strong>。</p>\n<p>这里使用的编辑器是vi，关于vi的知识在后面有讲解。该文件的部分内容如下所示：</p>\n<figure class=\"highlight vhdl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## Allow root <span class=\"keyword\">to</span> run any commands anywhere</span><br><span class=\"line\">root    <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the <span class=\"symbol\">'sys</span>' <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> run networking, software,</span><br><span class=\"line\">## service management apps <span class=\"keyword\">and</span> more.</span><br><span class=\"line\"># %sys <span class=\"keyword\">ALL</span> = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS</span><br><span class=\"line\">## Allows people <span class=\"keyword\">in</span> <span class=\"keyword\">group</span> wheel <span class=\"keyword\">to</span> run <span class=\"keyword\">all</span> commands</span><br><span class=\"line\">%wheel  <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Same thing without a password</span><br><span class=\"line\"># %wheel    <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   NOPASSWD: <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the users <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> mount <span class=\"keyword\">and</span> unmount the</span><br><span class=\"line\">## cdrom as root</span><br><span class=\"line\"># %users  <span class=\"keyword\">ALL</span>=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom</span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the users <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> shutdown this system</span><br><span class=\"line\"># %users  localhost=/sbin/shutdown -h now</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示用户与用户组的信息 - <strong>id</strong>。</p>\n</li>\n<li><p>给其他用户发消息 -<strong>write</strong> / <strong>wall</strong>。</p>\n<p>发送方：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# write hellokitty</span><br><span class=\"line\">Dinner is on me.</span><br><span class=\"line\">Call me at 6pm.</span><br></pre></td></tr></table></figure>\n\n<p>接收方：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$</span><br><span class=\"line\">Message from root on pts/0 at 17:41 ...</span><br><span class=\"line\">Dinner is on me.</span><br><span class=\"line\">Call me at 6pm.</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看/设置是否接收其他用户发送的消息 - <strong>mesg</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$ mesg</span><br><span class=\"line\">is y</span><br><span class=\"line\">[hellokitty ~]$ mesg n</span><br><span class=\"line\">[hellokitty ~]$ mesg</span><br><span class=\"line\">is n</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"文件系统\"><a href=\"#文件系统\" class=\"headerlink\" title=\"文件系统\"></a>文件系统</h3><h4 id=\"文件和路径\"><a href=\"#文件和路径\" class=\"headerlink\" title=\"文件和路径\"></a>文件和路径</h4><ol>\n<li>命名规则：文件名的最大长度与文件系统类型有关，一般情况下，文件名不应该超过255个字符，虽然绝大多数的字符都可以用于文件名，但是最好使用英文大小写字母、数字、下划线、点这样的符号。文件名中虽然可以使用空格，但应该尽可能避免使用空格，否则在输入文件名时需要用将文件名放在双引号中或者通过<code>\\</code>对空格进行转义。</li>\n<li>扩展名：在Linux系统下文件的扩展名是可选的，但是使用扩展名有助于对文件内容的理解。有些应用程序要通过扩展名来识别文件，但是更多的应用程序并不依赖文件的扩展名，就像<code>file</code>命令在识别文件时并不是依据扩展名来判定文件的类型。</li>\n<li>隐藏文件：以点开头的文件在Linux系统中是隐藏文件（不可见文件）。</li>\n</ol>\n<h4 id=\"目录结构\"><a href=\"#目录结构\" class=\"headerlink\" title=\"目录结构\"></a>目录结构</h4><ol>\n<li>/bin - 基本命令的二进制文件。</li>\n<li>/boot - 引导加载程序的静态文件。</li>\n<li>/dev - 设备文件。</li>\n<li><strong>/etc</strong> - 配置文件。</li>\n<li>/home - 普通用户主目录的父目录。</li>\n<li>/lib - 共享库文件。</li>\n<li>/lib64 - 共享64位库文件。</li>\n<li>/lost+found - 存放未链接文件。</li>\n<li>/media - 自动识别设备的挂载目录。</li>\n<li>/mnt - 临时挂载文件系统的挂载点。</li>\n<li>/opt - 可选插件软件包安装位置。</li>\n<li>/proc -  内核和进程信息。</li>\n<li><strong>/root</strong> - 超级管理员用户主目录。</li>\n<li>/run - 存放系统运行时需要的东西。</li>\n<li>/sbin - 超级用户的二进制文件。</li>\n<li>/sys - 设备的伪文件系统。</li>\n<li>/tmp - 临时文件夹。</li>\n<li><strong>/usr</strong> - 用户应用目录。</li>\n<li>/var - 变量数据目录。</li>\n</ol>\n<h4 id=\"访问权限\"><a href=\"#访问权限\" class=\"headerlink\" title=\"访问权限\"></a>访问权限</h4><ol>\n<li><p><strong>chmod</strong> - 改变文件模式比特。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chmod g+w,o+w sohu.html</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-rw-rw-  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chmod 644 sohu.html</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：通过上面的例子可以看出，用<code>chmod</code>改变文件模式比特有两种方式：一种是字符设定法，另一种是数字设定法。除了<code>chmod</code>之外，可以通过<code>umask</code>来设定哪些权限将在新文件的默认权限中被删除。</p>\n</blockquote>\n<p>长格式查看目录或文件时显示结果及其对应权限的数值如下表所示。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-14.png\" alt=\"upload successful\"></p>\n<ol start=\"2\">\n<li><p><strong>chown</strong> - 改变文件所有者。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root root     54 Jun 20 10:06 readme.txt</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chown hellokitty readme.txt</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 hellokitty root     54 Jun 20 10:06 readme.txt</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>chgrp</strong> - 改变用户组。</p>\n</li>\n</ol>\n<h4 id=\"磁盘管理\"><a href=\"#磁盘管理\" class=\"headerlink\" title=\"磁盘管理\"></a>磁盘管理</h4><ol>\n<li><p>列出文件系统的磁盘使用状况 - <strong>df</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# df -h</span><br><span class=\"line\">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class=\"line\">/dev/vda1        40G  5.0G   33G  14% /</span><br><span class=\"line\">devtmpfs        486M     0  486M   0% /dev</span><br><span class=\"line\">tmpfs           497M     0  497M   0% /dev/shm</span><br><span class=\"line\">tmpfs           497M  356K  496M   1% /run</span><br><span class=\"line\">tmpfs           497M     0  497M   0% /sys/fs/cgroup</span><br><span class=\"line\">tmpfs           100M     0  100M   0% /run/user/0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>磁盘分区表操作 - <strong>fdisk</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# fdisk -l</span><br><span class=\"line\">Disk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors</span><br><span class=\"line\">Units = sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class=\"line\">Disk label type: dos</span><br><span class=\"line\">Disk identifier: 0x000a42f4</span><br><span class=\"line\">   Device Boot      Start         End      Blocks   Id  System</span><br><span class=\"line\">/dev/vda1   *        2048    83884031    41940992   83  Linux</span><br><span class=\"line\">Disk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class=\"line\">Units = sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>磁盘分区工具 - <strong>parted</strong>。</p>\n</li>\n<li><p>格式化文件系统 - <strong>mkfs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkfs -t ext4 -v /dev/sdb</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-t</code> - 指定文件系统的类型。</li>\n<li><code>-c</code> - 创建文件系统时检查磁盘损坏情况。</li>\n<li><code>-v</code> - 显示详细信息。</li>\n</ul>\n</li>\n<li><p>文件系统检查 - <strong>fsck</strong>。</p>\n</li>\n<li><p>转换或拷贝文件 - <strong>dd</strong>。</p>\n</li>\n<li><p>挂载/卸载 - <strong>mount</strong> / <strong>umount</strong>。</p>\n</li>\n<li><p>创建/激活/关闭交换分区 - <strong>mkswap</strong> / <strong>swapon</strong> / <strong>swapoff</strong>。</p>\n</li>\n</ol>\n<blockquote>\n<p>说明：执行上面这些命令会带有一定的风险，如果不清楚这些命令的用法，最好不用随意使用，在使用的过程中，最好对照参考资料进行操作，并在操作前确认是否要这么做。</p>\n</blockquote>\n<h3 id=\"编辑器-vim\"><a href=\"#编辑器-vim\" class=\"headerlink\" title=\"编辑器 - vim\"></a>编辑器 - vim</h3><ol>\n<li><p>启动vim。可以通过<code>vi</code>或<code>vim</code>命令来启动vim，启动时可以指定文件名来打开一个文件，如果没有指定文件名，也可以在保存的时候指定文件名。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim guess.py</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>命令模式、编辑模式和末行模式：启动vim进入的是命令模式（也称为Normal模式），在命令模式下输入英文字母<code>i</code>会进入编辑模式（Insert模式），屏幕下方出现<code>-- INSERT --</code>提示；在编辑模式下按下<code>Esc</code>会回到命令模式，此时如果输入英文<code>:</code>会进入末行模式，在末行模式下输入<code>q!</code>可以在不保存当前工作的情况下强行退出vim；在命令模式下输入<code>v</code>会进入可视模式（Visual模式），可以用光标选择一个区域再完成对应的操作。</p>\n</li>\n<li><p>保存和退出vim：在命令模式下输入<code>:</code> 进入末行模式，输入<code>wq</code>可以实现保存退出；如果想放弃编辑的内容输入<code>q!</code>强行退出，这一点刚才已经提到过了；在命令模式下也可以直接输入<code>ZZ</code>实现保存退出。如果只想保存文件不退出，那么可以在末行模式下输入<code>w</code>；可以在<code>w</code>后面输入空格再指定要保存的文件名。</p>\n</li>\n<li><p>光标操作。</p>\n<ul>\n<li>在命令模式下可以通过<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>来控制光标向左、下、上、右的方向移动，可以在字母前输入数字来表示移动的距离，例如：<code>10h</code>表示向左移动10个字符。</li>\n<li>在命令模式下可以通过<code>Ctrl+y</code>和<code>Ctrl+e</code>来实现向上、向下滚动一行文本的操作，可以通过<code>Ctrl+f</code>和<code>Ctrl+b</code>来实现向前和向后翻页的操作。</li>\n<li>在命令模式下可以通过输入英文字母<code>G</code>将光标移到文件的末尾，可以通过<code>gg</code>将光标移到文件的开始，也可以通过在<code>G</code>前输入数字来将光标移动到指定的行。</li>\n</ul>\n</li>\n<li><p>文本操作。</p>\n<ul>\n<li>删除：在命令模式下可以用<code>dd</code>来删除整行；可以在<code>dd</code>前加数字来指定删除的行数；可以用<code>d$</code>来实现删除从光标处删到行尾的操作，也可以通过<code>d0</code>来实现从光标处删到行首的操作；如果想删除一个单词，可以使用<code>dw</code>；如果要删除全文，可以在输入<code>:%d</code>（其中<code>:</code>用来从命令模式进入末行模式）。</li>\n<li>复制和粘贴：在命令模式下可以用<code>yy</code>来复制整行；可以在<code>yy</code>前加数字来指定复制的行数；可以通过<code>p</code>将复制的内容粘贴到光标所在的地方。</li>\n<li>撤销和恢复：在命令模式下输入<code>u</code>可以撤销之前的操作；通过<code>Ctrl+r</code>可以恢复被撤销的操作。</li>\n<li>对内容进行排序：在命令模式下输入<code>%!sort</code>。</li>\n</ul>\n</li>\n<li><p>查找和替换。</p>\n<ul>\n<li>查找操作需要输入<code>/</code>进入末行模式并提供正则表达式来匹配与之对应的内容，例如：<code>/doc.*\\.</code>，输入<code>n</code>来向前搜索，也可以输入<code>N</code>来向后搜索。</li>\n<li>替换操作需要输入<code>:</code>进入末行模式并指定搜索的范围、正则表达式以及替换后的内容和匹配选项，例如：<code>:1,$s/doc.*/hello/gice</code>，其中：<ul>\n<li><code>g</code> - global：全局匹配。</li>\n<li><code>i</code> - ignore case：忽略大小写匹配。</li>\n<li><code>c</code> - confirm：替换时需要确认。</li>\n<li><code>e</code> - error：忽略错误。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>参数设定：在输入<code>:</code>进入末行模式后可以对vim进行设定。</p>\n<ul>\n<li><p>设置Tab键的空格数：<code>set ts=4</code></p>\n</li>\n<li><p>设置显示/不显示行号：<code>set nu</code> / <code>set nonu</code></p>\n</li>\n<li><p>设置启用/关闭高亮语法：<code>syntax on</code> / <code>syntax off</code></p>\n</li>\n<li><p>设置显示标尺（光标所在的行和列）： <code>set ruler</code></p>\n</li>\n<li><p>设置启用/关闭搜索结果高亮：<code>set hls</code> / <code>set nohls</code></p>\n<blockquote>\n<p>说明：如果希望上面的这些设定在每次启动vim时都能自动生效，需要将这些设定写到用户主目录下的.vimrc文件中。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>高级技巧</p>\n<ul>\n<li><p>比较多个文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim -d foo.txt bar.txt</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"/images/pasted-15.png\" alt=\"upload successful\"></p>\n<ul>\n<li><p>打开多个文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim foo.txt bar.txt hello.txt</span><br></pre></td></tr></table></figure>\n\n<p>启动vim后只有一个窗口显示的是foo.txt，可以在末行模式中输入<code>ls</code>查看到打开的三个文件，也可以在末行模式中输入<code>b &lt;num&gt;</code>来显示另一个文件，例如可以用<code>:b 2</code>将bar.txt显示出来，可以用<code>:b 3</code>将hello.txt显示出来。</p>\n</li>\n<li><p>拆分和切换窗口。</p>\n<p>可以在末行模式中输入<code>sp</code>或<code>vs</code>来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次<code>Ctrl+w</code>就可以实现编辑窗口的切换，在一个窗口中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。</p>\n</li>\n</ul>\n<p><img src=\"/images/pasted-12.png\" alt=\"upload successful\"></p>\n<ul>\n<li><p>映射快捷键：在vim下可以将一些常用操作映射为快捷键来提升工作效率。</p>\n<ul>\n<li><p>例子1：在命令模式下输入<code>F4</code>执行从第一行开始删除10000行代码的操作。</p>\n<p><code>:map &lt;F4&gt; gg10000dd</code>。</p>\n<p>例子2：在编辑模式下输入<code>__main</code>直接补全为<code>if __name__ == &#39;__main__&#39;:</code>。</p>\n<p><code>:inoremap __main if __name__ == &#39;__main__&#39;:</code></p>\n</li>\n</ul>\n<blockquote>\n<p>说明：上面例子2的<code>inoremap</code>中的<code>i</code>表示映射的键在编辑模式使用， <code>nore</code>表示不要递归，这一点非常重要，否则如果键对应的内容中又出现键本身，就会引发递归（相当于进入了死循环）。如果希望映射的快捷键每次启动vim时都能生效，需要将映射写到用户主目录下的.vimrc文件中。</p>\n</blockquote>\n</li>\n<li><p>录制宏。</p>\n<ul>\n<li><p>在命令模式下输入<code>qa</code>开始录制宏（其中<code>a</code>是寄存器的名字，也可以是其他英文字母或0-9的数字）。</p>\n</li>\n<li><p>执行你的操作（光标操作、编辑操作等），这些操作都会被录制下来。</p>\n</li>\n<li><p>如果录制的操作已经完成了，按<code>q</code>结束录制。</p>\n</li>\n<li><p>通过<code>@a</code>（<code>a</code>是刚才使用的寄存器的名字）播放宏，如果要多次执行宏可以在前面加数字，例如<code>100@a</code>表示将宏播放100次。</p>\n</li>\n<li><p>可以试一试下面的例子来体验录制宏的操作，该例子来源于<a href=\"https://harttle.land/tags.html#Vim\" target=\"_blank\" rel=\"noopener\">Harttle Land网站</a>，该网站上提供了很多关于vim的使用技巧，有兴趣的可以了解一下。</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/pasted-13.png\" alt=\"upload successful\"></p>\n<h3 id=\"软件安装和配置\"><a href=\"#软件安装和配置\" class=\"headerlink\" title=\"软件安装和配置\"></a>软件安装和配置</h3><h4 id=\"使用包管理工具\"><a href=\"#使用包管理工具\" class=\"headerlink\" title=\"使用包管理工具\"></a>使用包管理工具</h4><ol>\n<li><strong>yum</strong> - Yellowdog Updater Modified。<ul>\n<li><code>yum search</code>：搜索软件包，例如<code>yum search nginx</code>。</li>\n<li><code>yum list installed</code>：列出已经安装的软件包，例如<code>yum list installed | grep zlib</code>。</li>\n<li><code>yum install</code>：安装软件包，例如<code>yum install nginx</code>。</li>\n<li><code>yum remove</code>：删除软件包，例如<code>yum remove nginx</code>。</li>\n<li><code>yum update</code>：更新软件包，例如<code>yum update</code>可以更新所有软件包，而<code>yum update tar</code>只会更新tar。</li>\n<li><code>yum check-update</code>：检查有哪些可以更新的软件包。</li>\n<li><code>yum info</code>：显示软件包的相关信息，例如<code>yum info nginx</code>。</li>\n</ul>\n</li>\n<li><strong>rpm</strong> - Redhat Package Manager。<ul>\n<li>安装软件包：<code>rpm -ivh &lt;packagename&gt;.rpm</code>。</li>\n<li>移除软件包：<code>rpm -e &lt;packagename&gt;</code>。</li>\n<li>查询软件包：<code>rpm -qa</code>，例如可以用<code>rpm -qa | grep mysql</code>来检查是否安装了MySQL相关的软件包。</li>\n</ul>\n</li>\n</ol>\n<p>下面以Nginx为例，演示如何使用yum安装软件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum -y install nginx</span><br><span class=\"line\">...</span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  nginx.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">Dependency Installed:</span><br><span class=\"line\">  nginx-all-modules.noarch 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-mail.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-stream.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">Complete!</span><br><span class=\"line\">[root ~]# yum info nginx</span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\">Installed Packages</span><br><span class=\"line\">Name        : nginx</span><br><span class=\"line\">Arch        : x86_64</span><br><span class=\"line\">Epoch       : 1</span><br><span class=\"line\">Version     : 1.12.2</span><br><span class=\"line\">Release     : 2.el7</span><br><span class=\"line\">Size        : 1.5 M</span><br><span class=\"line\">Repo        : installed</span><br><span class=\"line\">From repo   : epel</span><br><span class=\"line\">Summary     : A high performance web server and reverse proxy server</span><br><span class=\"line\">URL         : http://nginx.org/</span><br><span class=\"line\">License     : BSD</span><br><span class=\"line\">Description : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and</span><br><span class=\"line\">            : IMAP protocols, with a strong focus on high concurrency, performance and low</span><br><span class=\"line\">            : memory usage.</span><br><span class=\"line\">[root ~]# nginx -v</span><br><span class=\"line\">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure>\n\n<p>移除Nginx。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum -y remove nginx</span><br></pre></td></tr></table></figure>\n\n<p>下面以MySQL为例，演示如何使用rpm安装软件。要安装MySQL需要先到<a href=\"https://www.mysql.com/\" target=\"_blank\" rel=\"noopener\">MySQL官方网站</a>下载对应的<a href=\"https://dev.mysql.com/downloads/mysql/\" target=\"_blank\" rel=\"noopener\">RPM文件</a>，当然要选择和你使用的Linux系统对应的版本。MySQL现在是Oracle公司旗下的产品，在MySQL被收购后，MySQL的作者重新制作了一个MySQL的分支MariaDB，可以通过yum进行安装。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root mysql]# ls</span><br><span class=\"line\">mysql-community-client-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-common-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-libs-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-server-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">[root mysql]# yum -y remove mariadb-libs</span><br><span class=\"line\">[root mysql]# yum -y install libaio</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：由于MySQL和<a href=\"https://mariadb.org/\" target=\"_blank\" rel=\"noopener\">MariaDB</a>的底层依赖库是有冲突的，所以上面我们首先用<code>yum</code>移除了名为mariadb-libs的依赖库并安装了名为libaio支持异步I/O操作的依赖库。关于MySQL和MariaDB之间的关系，可以阅读<a href=\"https://zh.wikipedia.org/wiki/MariaDB\" target=\"_blank\" rel=\"noopener\">维基百科</a>上关于MariaDB的介绍。</p>\n</blockquote>\n<p>移除安装的MySQL。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# rpm -qa | grep mysql | xargs rpm -e</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"下载解压配置环境变量\"><a href=\"#下载解压配置环境变量\" class=\"headerlink\" title=\"下载解压配置环境变量\"></a>下载解压配置环境变量</h4><p>下面以安装MongoDB为例，演示这类软件应该如何安装。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">--2018-06-21 18:32:53--  https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">Resolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...</span><br><span class=\"line\">Connecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 100564462 (96M) [application/x-gzip]</span><br><span class=\"line\">Saving to: ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 100,564,462  630KB/s   <span class=\"keyword\">in</span> 2m 9s</span></span><br><span class=\"line\">2018-06-21 18:35:04 (760 KB/s) - ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’ saved [100564462/100564462]</span><br><span class=\"line\">[root ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">[root ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tar</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/README</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICES</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/MPL-2</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongodump</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestore</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexport</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimport</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongostat</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongotop</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/bsondump</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongofiles</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplay</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperf</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongod</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongos</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongo</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass</span><br><span class=\"line\">[root ~]# vim .bash_profile</span><br><span class=\"line\">...</span><br><span class=\"line\">PATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/bin</span><br><span class=\"line\">export PATH</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# source .bash_profile</span><br><span class=\"line\">[root ~]# mongod --version</span><br><span class=\"line\">db version v3.6.5</span><br><span class=\"line\">git version: a20ecd3e3a174162052ff99913bc2ca9a839d618</span><br><span class=\"line\">OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013</span><br><span class=\"line\">allocator: tcmalloc</span><br><span class=\"line\">modules: none</span><br><span class=\"line\">build environment:</span><br><span class=\"line\">    distmod: rhel70</span><br><span class=\"line\">    distarch: x86_64</span><br><span class=\"line\">    target_arch: x86_64</span><br><span class=\"line\">[root ~]# mongo --version</span><br><span class=\"line\">MongoDB shell version v3.6.5</span><br><span class=\"line\">git version: a20ecd3e3a174162052ff99913bc2ca9a839d618</span><br><span class=\"line\">OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013</span><br><span class=\"line\">allocator: tcmalloc</span><br><span class=\"line\">modules: none</span><br><span class=\"line\">build environment:</span><br><span class=\"line\">    distmod: rhel70</span><br><span class=\"line\">    distarch: x86_64</span><br><span class=\"line\">    target_arch: x86_64</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：当然也可以通过yum来安装MongoDB，具体可以参照<a href=\"https://docs.mongodb.com/master/administration/install-on-linux/\" target=\"_blank\" rel=\"noopener\">官方网站</a>上给出的说明。</p>\n</blockquote>\n<h4 id=\"源代码构建安装\"><a href=\"#源代码构建安装\" class=\"headerlink\" title=\"源代码构建安装\"></a>源代码构建安装</h4><ol>\n<li><p>安装Python 3.6。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum install gcc</span><br><span class=\"line\">[root ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz</span><br><span class=\"line\">[root ~]# gunzip Python-3.6.5.tgz</span><br><span class=\"line\">[root ~]# tar -xvf Python-3.6.5.tar</span><br><span class=\"line\">[root ~]# cd Python-3.6.5</span><br><span class=\"line\">[root ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations</span><br><span class=\"line\">[root ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</span><br><span class=\"line\">[root ~]# make &amp;&amp; make install</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3</span><br><span class=\"line\">[root ~]# python3 --version</span><br><span class=\"line\">Python 3.6.5</span><br><span class=\"line\">[root ~]# python3 -m pip install -U pip</span><br><span class=\"line\">[root ~]# pip3 --version</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：上面在安装好Python之后还需要注册PATH环境变量，将Python安装路径下bin文件夹的绝对路径注册到PATH环境变量中。注册环境变量可以修改用户主目录下的.bash_profile或者/etc目录下的profile文件，二者的区别在于前者相当于是用户环境变量，而后者相当于是系统环境变量。</p>\n</blockquote>\n</li>\n<li><p>安装Redis-3.2.12。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz</span><br><span class=\"line\">[root ~]# gunzip redis-3.2.12.tar.gz</span><br><span class=\"line\">[root ~]# tar -xvf redis-3.2.12.tar</span><br><span class=\"line\">[root ~]# cd redis-3.2.12</span><br><span class=\"line\">[root ~]# make &amp;&amp; make install</span><br><span class=\"line\">[root ~]# redis-server --version</span><br><span class=\"line\">Redis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6</span><br><span class=\"line\">[root ~]# redis-cli --version</span><br><span class=\"line\">redis-cli 3.2.12</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"配置服务\"><a href=\"#配置服务\" class=\"headerlink\" title=\"配置服务\"></a>配置服务</h3><p>我们可以Linux系统下安装和配置各种服务，也就是说我们可以把Linux系统打造成数据库服务器、Web服务器、缓存服务器、文件服务器、消息队列服务器等等。Linux下的大多数服务都被设置为守护进程（驻留在系统后台运行，但不会因为服务还在运行而导致Linux无法停止运行），所以我们安装的服务通常名字后面都有一个字母<code>d</code>，它是英文单词<code>daemon</code>的缩写，例如：防火墙服务叫firewalld，我们之前安装的MySQL服务叫mysqld，Apache服务器叫httpd等。在安装好服务之后，可以使用<code>systemctl</code>命令或<code>service</code>命令来完成对服务的启动、停止等操作，具体操作如下所示。</p>\n<ol>\n<li><p>启动防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl start firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>终止防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl stop firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl restart firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看防火墙服务状态。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl status firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置/禁用防火墙服务开机自启。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl enable firewalld</span><br><span class=\"line\">Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.</span><br><span class=\"line\">Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.</span><br><span class=\"line\">[root ~]# systemctl disable firewalld</span><br><span class=\"line\">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class=\"line\">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"计划任务\"><a href=\"#计划任务\" class=\"headerlink\" title=\"计划任务\"></a>计划任务</h3><ol>\n<li><p>在指定的时间执行命令</p>\n<ul>\n<li><strong>at</strong> - 将任务排队，在指定的时间执行。</li>\n<li><strong>atq</strong> - 查看待执行的任务队列。</li>\n<li><strong>atrm</strong> - 从队列中删除待执行的任务。</li>\n</ul>\n<p>指定3天以后下午5点要执行的任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# at 5pm+3days</span><br><span class=\"line\"><span class=\"meta\">at&gt;</span><span class=\"bash\"> rm -f /root/*.html</span></span><br><span class=\"line\"><span class=\"meta\">at&gt;</span><span class=\"bash\"> &lt;EOT&gt;</span></span><br><span class=\"line\">job 9 at Wed Jun  5 17:00:00 2019</span><br></pre></td></tr></table></figure>\n\n<p>查看待执行的任务队列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# atq</span><br><span class=\"line\">9       Wed Jun  5 17:00:00 2019 a root</span><br></pre></td></tr></table></figure>\n\n<p>从队列中删除指定的任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ atrm 9</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>计划任务表 - <strong>crontab</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# crontab -e</span><br><span class=\"line\">* * * * * echo \"hello, world!\" &gt;&gt; /root/hello.txt</span><br><span class=\"line\">59 23 * * * rm -f /root/*.log</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：输入<code>crontab -e</code>命令会打开vim来编辑Cron表达式并指定触发的任务，上面我们定制了两个计划任务，一个是每分钟向/root目录下的hello.txt中追加输出<code>hello, world!</code>；另一个是每天23时59分执行删除/root目录下以log为后缀名的文件。如果不知道Cron表达式如何书写，可以参照/etc/crontab文件中的提示（下面会讲到）或者用搜索引擎找一下“Cron表达式在线生成器”来生成Cron表达式。</p>\n</blockquote>\n<p>和crontab相关的文件在<code>/etc</code>目录下，通过修改<code>/etc</code>目录下的crontab文件也能够定制计划任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cd /etc</span><br><span class=\"line\">[root etc]# ls -l | grep cron</span><br><span class=\"line\">-rw-------.  1 root root      541 Aug  3  2017 anacrontab</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:56 cron.d</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:51 cron.daily</span><br><span class=\"line\">-rw-------.  1 root root        0 Aug  3  2017 cron.deny</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:50 cron.hourly</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.monthly</span><br><span class=\"line\">-rw-r--r--   1 root root      493 Jun 23 15:09 crontab</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.weekly</span><br><span class=\"line\">[root etc]# vim crontab</span><br><span class=\"line\">  1 SHELL=/bin/bash</span><br><span class=\"line\">  2 PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class=\"line\">  3 MAILTO=root</span><br><span class=\"line\">  4</span><br><span class=\"line\">  5 # For details see man 4 crontabs</span><br><span class=\"line\">  6</span><br><span class=\"line\">  7 # Example of job definition:</span><br><span class=\"line\">  8 # .---------------- minute (0 - 59)</span><br><span class=\"line\">  9 # |  .------------- hour (0 - 23)</span><br><span class=\"line\"> 10 # |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> 11 # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> 12 # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> 13 # |  |  |  |  |</span><br><span class=\"line\"> 14 # *  *  *  *  * user-name  command to be executed</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"网络访问和管理\"><a href=\"#网络访问和管理\" class=\"headerlink\" title=\"网络访问和管理\"></a>网络访问和管理</h3><ol>\n<li><p>安全远程连接 - <strong>ssh</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ ssh root@120.77.222.217</span><br><span class=\"line\">The authenticity of host '120.77.222.217 (120.77.222.217)' can't be established.</span><br><span class=\"line\">ECDSA key fingerprint is SHA256:BhUhykv+FvnIL03I9cLRpWpaCxI91m9n7zBWrcXRa8w.</span><br><span class=\"line\">ECDSA key fingerprint is MD5:cc:85:e9:f0:d7:07:1a:26:41:92:77:6b:7f:a0:92:65.</span><br><span class=\"line\">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class=\"line\">Warning: Permanently added '120.77.222.217' (ECDSA) to the list of known hosts.</span><br><span class=\"line\">root@120.77.222.217's password:</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过网络获取资源 - <strong>wget</strong>。</p>\n<ul>\n<li>-b 后台下载模式</li>\n<li>-O 下载到指定的目录</li>\n<li>-r 递归下载</li>\n</ul>\n</li>\n<li><p>发送和接收邮件 - <strong>mail</strong>。</p>\n</li>\n<li><p>网络配置工具（旧） - <strong>ifconfig</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ifconfig eth0</span><br><span class=\"line\">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class=\"line\">        inet 172.18.61.250  netmask 255.255.240.0  broadcast 172.18.63.255</span><br><span class=\"line\">        ether 00:16:3e:02:b6:46  txqueuelen 1000  (Ethernet)</span><br><span class=\"line\">        RX packets 1067841  bytes 1296732947 (1.2 GiB)</span><br><span class=\"line\">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class=\"line\">        TX packets 409912  bytes 43569163 (41.5 MiB)</span><br><span class=\"line\">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络配置工具（新） - <strong>ip</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ip address</span><br><span class=\"line\">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1</span><br><span class=\"line\">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class=\"line\">    inet 127.0.0.1/8 scope host lo</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class=\"line\">    link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络可达性检查 - <strong>ping</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ping www.baidu.com -c 3</span><br><span class=\"line\">PING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms</span><br><span class=\"line\">--- www.a.shifen.com ping statistics ---</span><br><span class=\"line\">3 packets transmitted, 3 received, 0% packet loss, time 2002ms</span><br><span class=\"line\">rtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示或管理路由表 - <strong>route</strong>。</p>\n</li>\n<li><p>查看网络服务和端口 - <strong>netstat</strong> / <strong>ss</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# netstat -nap | grep nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络监听抓包 - <strong>tcpdump</strong>。</p>\n</li>\n<li><p>安全文件拷贝 - <strong>scp</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>文件同步工具 - <strong>rsync</strong>。</p>\n<blockquote>\n<p>说明：使用<code>rsync</code>可以实现文件的自动同步，这个对于文件服务器来说相当重要。关于这个命令的用法，我们在后面讲项目部署的时候为大家详细说明。</p>\n</blockquote>\n</li>\n<li><p>安全文件传输 - <strong>sftp</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sftp root@1.2.3.4</span><br><span class=\"line\">root@1.2.3.4's password:</span><br><span class=\"line\">Connected to 1.2.3.4.</span><br><span class=\"line\"><span class=\"meta\">sftp&gt;</span><span class=\"bash\"></span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>help</code>：显示帮助信息。</p>\n</li>\n<li><p><code>ls</code>/<code>lls</code>：显示远端/本地目录列表。</p>\n</li>\n<li><p><code>cd</code>/<code>lcd</code>：切换远端/本地路径。</p>\n</li>\n<li><p><code>mkdir</code>/<code>lmkdir</code>：创建远端/本地目录。</p>\n</li>\n<li><p><code>pwd</code>/<code>lpwd</code>：显示远端/本地当前工作目录。</p>\n</li>\n<li><p><code>get</code>：下载文件。</p>\n</li>\n<li><p><code>put</code>：上传文件。</p>\n</li>\n<li><p><code>rm</code>：删除远端文件。</p>\n</li>\n<li><p><code>bye</code>/<code>exit</code>/<code>quit</code>：退出sftp。</p>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h3><ol>\n<li><p>查看进程 - <strong>ps</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ps -ef</span><br><span class=\"line\">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class=\"line\">root         1     0  0 Jun23 ?        00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21</span><br><span class=\"line\">root         2     0  0 Jun23 ?        00:00:00 [kthreadd]</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# ps -ef | grep mysqld</span><br><span class=\"line\">root      4943  4581  0 22:45 pts/0    00:00:00 grep --color=auto mysqld</span><br><span class=\"line\">mysql    25257     1  0 Jun25 ?        00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示进程状态树 - <strong>pstree</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pstree</span><br><span class=\"line\">systemd─┬─AliYunDun───18*[&#123;AliYunDun&#125;]</span><br><span class=\"line\">        ├─AliYunDunUpdate───3*[&#123;AliYunDunUpdate&#125;]</span><br><span class=\"line\">        ├─2*[agetty]</span><br><span class=\"line\">        ├─aliyun-service───2*[&#123;aliyun-service&#125;]</span><br><span class=\"line\">        ├─atd</span><br><span class=\"line\">        ├─auditd───&#123;auditd&#125;</span><br><span class=\"line\">        ├─dbus-daemon</span><br><span class=\"line\">        ├─dhclient</span><br><span class=\"line\">        ├─irqbalance</span><br><span class=\"line\">        ├─lvmetad</span><br><span class=\"line\">        ├─mysqld───28*[&#123;mysqld&#125;]</span><br><span class=\"line\">        ├─nginx───2*[nginx]</span><br><span class=\"line\">        ├─ntpd</span><br><span class=\"line\">        ├─polkitd───6*[&#123;polkitd&#125;]</span><br><span class=\"line\">        ├─rsyslogd───2*[&#123;rsyslogd&#125;]</span><br><span class=\"line\">        ├─sshd───sshd───bash───pstree</span><br><span class=\"line\">        ├─systemd-journal</span><br><span class=\"line\">        ├─systemd-logind</span><br><span class=\"line\">        ├─systemd-udevd</span><br><span class=\"line\">        └─tuned───4*[&#123;tuned&#125;]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查找与指定条件匹配的进程 - <strong>pgrep</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ pgrep mysqld</span><br><span class=\"line\">3584</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过进程号终止进程 - <strong>kill</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ kill -l</span><br><span class=\"line\"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP</span><br><span class=\"line\"> 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1</span><br><span class=\"line\">11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM</span><br><span class=\"line\">16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP</span><br><span class=\"line\">21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ</span><br><span class=\"line\">26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR</span><br><span class=\"line\">31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3</span><br><span class=\"line\">38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8</span><br><span class=\"line\">43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span><br><span class=\"line\">48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span><br><span class=\"line\">53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7</span><br><span class=\"line\">58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2</span><br><span class=\"line\">63) SIGRTMAX-1  64) SIGRTMAX</span><br><span class=\"line\">[root ~]# kill 1234</span><br><span class=\"line\">[root ~]# kill -9 1234</span><br></pre></td></tr></table></figure>\n\n<p>例子：用一条命令强制终止正在运行的Redis进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef | grep redis | grep -v grep | awk '&#123;print $2&#125;' | xargs kill</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过进程名终止进程 - <strong>killall</strong> / <strong>pkill</strong>。</p>\n<p> 结束名为mysqld的进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pkill mysqld</span><br></pre></td></tr></table></figure>\n\n<p> 结束hellokitty用户的所有进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pkill -u hellokitty</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这样的操作会让hellokitty用户和服务器断开连接。</p>\n</blockquote>\n</li>\n<li><p>将进程置于后台运行。</p>\n<ul>\n<li><code>Ctrl+Z</code> - 快捷键，用于停止进程并置于后台。</li>\n<li><code>&amp;</code> - 将进程置于后台运行。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mongod &amp;</span><br><span class=\"line\">[root ~]# redis-server</span><br><span class=\"line\">...</span><br><span class=\"line\">^Z</span><br><span class=\"line\">[4]+  Stopped                 redis-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查询后台进程 - <strong>jobs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# jobs</span><br><span class=\"line\">[2]   Running                 mongod &amp;</span><br><span class=\"line\">[3]-  Stopped                 cat</span><br><span class=\"line\">[4]+  Stopped                 redis-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>让进程在后台继续运行 - <strong>bg</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# bg %4</span><br><span class=\"line\">[4]+ redis-server &amp;</span><br><span class=\"line\">[root ~]# jobs</span><br><span class=\"line\">[2]   Running                 mongod &amp;</span><br><span class=\"line\">[3]+  Stopped                 cat</span><br><span class=\"line\">[4]-  Running                 redis-server &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>将后台进程置于前台 - <strong>fg</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# fg %4</span><br><span class=\"line\">redis-server</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：置于前台的进程可以使用<code>Ctrl+C</code>来终止它。</p>\n</blockquote>\n</li>\n<li><p>调整程序/进程运行时优先级 - <strong>nice</strong> / <strong>renice</strong>。</p>\n</li>\n<li><p>用户登出后进程继续工作 - <strong>nohup</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# nohup ping www.baidu.com &gt; result.txt &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>跟踪进程系统调用情况 - <strong>strace</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pgrep mysqld</span><br><span class=\"line\">8803</span><br><span class=\"line\">[root ~]# strace -c -p 8803</span><br><span class=\"line\">strace: Process 8803 attached</span><br><span class=\"line\">^Cstrace: Process 8803 detached</span><br><span class=\"line\"><span class=\"meta\">%</span><span class=\"bash\"> time     seconds  usecs/call     calls    errors syscall</span></span><br><span class=\"line\">------ ----------- ----------- --------- --------- ----------------</span><br><span class=\"line\"> 99.18    0.005719        5719         1           restart_syscall</span><br><span class=\"line\">  0.49    0.000028          28         1           mprotect</span><br><span class=\"line\">  0.24    0.000014          14         1           clone</span><br><span class=\"line\">  0.05    0.000003           3         1           mmap</span><br><span class=\"line\">  0.03    0.000002           2         1           accept</span><br><span class=\"line\">------ ----------- ----------- --------- --------- ----------------</span><br><span class=\"line\">100.00    0.005766                     5           total</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这个命令的用法和参数都比较复杂，建议大家在真正用到这个命令的时候再根据实际需要进行了解。</p>\n</blockquote>\n</li>\n<li><p>查看当前运行级别 - <strong>runlevel</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# runlevel</span><br><span class=\"line\">N 3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>实时监控进程占用资源状况 - <strong>top</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# top</span><br><span class=\"line\">top - 23:04:23 up 3 days, 14:10,  1 user,  load average: 0.00, 0.01, 0.05</span><br><span class=\"line\">Tasks:  65 total,   1 running,  64 sleeping,   0 stopped,   0 zombie</span><br><span class=\"line\"><span class=\"meta\">%</span><span class=\"bash\">Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span><br><span class=\"line\">KiB Mem :  1016168 total,   191060 free,   324700 used,   500408 buff/cache</span><br><span class=\"line\">KiB Swap:        0 total,        0 free,        0 used.   530944 avail Mem</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-c</code> - 显示进程的整个路径。</li>\n<li><code>-d</code> - 指定两次刷屏之间的间隔时间（秒为单位）。</li>\n<li><code>-i</code> - 不显示闲置进程或僵尸进程。</li>\n<li><code>-p</code> - 显示指定进程的信息。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"系统诊断\"><a href=\"#系统诊断\" class=\"headerlink\" title=\"系统诊断\"></a>系统诊断</h3><ol>\n<li><p>系统启动异常诊断 - <strong>dmesg</strong>。</p>\n</li>\n<li><p>查看系统活动信息 - <strong>sar</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sar -u -r 5 10</span><br><span class=\"line\">Linux 3.10.0-957.10.1.el7.x86_64 (izwz97tbgo9lkabnat2lo8z)      06/02/2019      _x86_64_        (2 CPU)</span><br><span class=\"line\"></span><br><span class=\"line\">06:48:30 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle</span><br><span class=\"line\">06:48:35 PM     all      0.10      0.00      0.10      0.00      0.00     99.80</span><br><span class=\"line\"></span><br><span class=\"line\">06:48:30 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br><span class=\"line\">06:48:35 PM   1772012   2108392     54.33    102816   1634528    784940     20.23    793328   1164704         0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-A</code> - 显示所有设备（CPU、内存、磁盘）的运行状况。</li>\n<li><code>-u</code> - 显示所有CPU的负载情况。</li>\n<li><code>-d</code> - 显示所有磁盘的使用情况。</li>\n<li><code>-r</code> - 显示内存的使用情况。</li>\n<li><code>-n</code> - 显示网络运行状态。</li>\n</ul>\n</li>\n<li><p>查看内存使用情况 - <strong>free</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# free</span><br><span class=\"line\">              total        used        free      shared  buff/cache   available</span><br><span class=\"line\">Mem:        1016168      323924      190452         356      501792      531800</span><br><span class=\"line\">Swap:             0           0           0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>虚拟内存统计 - <strong>vmstat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vmstat</span><br><span class=\"line\">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class=\"line\"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class=\"line\"> 2  0      0 204020  79036 667532    0    0     5    18  101   58  1  0 99  0  0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>CPU信息统计 - <strong>mpstat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mpstat</span><br><span class=\"line\">Linux 3.10.0-957.5.1.el7.x86_64 (iZ8vba0s66jjlfmo601w4xZ)       05/30/2019      _x86_64_        (1 CPU)</span><br><span class=\"line\"></span><br><span class=\"line\">01:51:54 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle</span><br><span class=\"line\">01:51:54 AM  all    0.71    0.00    0.17    0.04    0.00    0.00    0.00    0.00    0.00   99.07</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看进程使用内存状况 - <strong>pmap</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ps</span><br><span class=\"line\">  PID TTY          TIME CMD</span><br><span class=\"line\"> 4581 pts/0    00:00:00 bash</span><br><span class=\"line\"> 5664 pts/0    00:00:00 ps</span><br><span class=\"line\">[root ~]# pmap 4581</span><br><span class=\"line\">4581:   -bash</span><br><span class=\"line\">0000000000400000    884K r-x-- bash</span><br><span class=\"line\">00000000006dc000      4K r---- bash</span><br><span class=\"line\">00000000006dd000     36K rw--- bash</span><br><span class=\"line\">00000000006e6000     24K rw---   [ anon ]</span><br><span class=\"line\">0000000001de0000    400K rw---   [ anon ]</span><br><span class=\"line\">00007f82fe805000     48K r-x-- libnss_files-2.17.so</span><br><span class=\"line\">00007f82fe811000   2044K ----- libnss_files-2.17.so</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>报告设备CPU和I/O统计信息 - <strong>iostat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# iostat</span><br><span class=\"line\">Linux 3.10.0-693.11.1.el7.x86_64 (iZwz97tbgo9lkabnat2lo8Z)      06/26/2018      _x86_64_       (1 CPU)</span><br><span class=\"line\">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class=\"line\">           0.79    0.00    0.20    0.04    0.00   98.97</span><br><span class=\"line\">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class=\"line\">vda               0.85         6.78        21.32    2106565    6623024</span><br><span class=\"line\">vdb               0.00         0.01         0.00       2088          0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示所有PCI设备 - <strong>lspci</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# lspci</span><br><span class=\"line\">00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)</span><br><span class=\"line\">00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II]</span><br><span class=\"line\">00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]</span><br><span class=\"line\">00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01)</span><br><span class=\"line\">00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03)</span><br><span class=\"line\">00:02.0 VGA compatible controller: Cirrus Logic GD 5446</span><br><span class=\"line\">00:03.0 Ethernet controller: Red Hat, Inc. Virtio network device</span><br><span class=\"line\">00:04.0 Communication controller: Red Hat, Inc. Virtio console</span><br><span class=\"line\">00:05.0 SCSI storage controller: Red Hat, Inc. Virtio block device</span><br><span class=\"line\">00:06.0 SCSI storage controller: Red Hat, Inc. Virtio block device</span><br><span class=\"line\">00:07.0 Unclassified device [00ff]: Red Hat, Inc. Virtio memory balloon</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示进程间通信设施的状态 - <strong>ipcs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ipcs</span><br><span class=\"line\"></span><br><span class=\"line\">------ Message Queues --------</span><br><span class=\"line\">key        msqid      owner      perms      used-bytes   messages</span><br><span class=\"line\"></span><br><span class=\"line\">------ Shared Memory Segments --------</span><br><span class=\"line\">key        shmid      owner      perms      bytes      nattch     status</span><br><span class=\"line\"></span><br><span class=\"line\">------ Semaphore Arrays --------</span><br><span class=\"line\">key        semid      owner      perms      nsems</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"Shell编程\"><a href=\"#Shell编程\" class=\"headerlink\" title=\"Shell编程\"></a>Shell编程</h3><p>之前我们提到过，Shell是一个连接用户和操作系统的应用程序，它提供了人机交互的界面（接口），用户通过这个界面访问操作系统内核的服务。Shell脚本是一种为Shell编写的脚本程序，我们可以通过Shell脚本来进行系统管理，同时也可以通过它进行文件操作。总之，编写Shell脚本对于使用Linux系统的人来说，应该是一项标配技能。</p>\n<p>互联网上有大量关于Shell脚本的相关知识，我不打算再此对Shell脚本做一个全面系统的讲解，我们通过下面的代码来感性的认识下Shell脚本就行了。</p>\n<p>例子1：输入两个整数m和n，计算从m到n的整数求和的结果。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">printf 'm = '</span><br><span class=\"line\">read m</span><br><span class=\"line\">printf 'n = '</span><br><span class=\"line\">read n</span><br><span class=\"line\">a=$m</span><br><span class=\"line\">sum=0</span><br><span class=\"line\">while [ $a -le $n ]</span><br><span class=\"line\">do</span><br><span class=\"line\">    sum=$[ sum + a ]</span><br><span class=\"line\">    a=$[ a + 1 ]</span><br><span class=\"line\">done</span><br><span class=\"line\">echo '结果: '$sum</span><br></pre></td></tr></table></figure>\n\n<p>例子2：自动创建文件夹和指定数量的文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">printf '输入文件名: '</span><br><span class=\"line\">read file</span><br><span class=\"line\">printf '输入文件数量(&lt;1000): '</span><br><span class=\"line\">read num</span><br><span class=\"line\">if [ $num -ge 1000 ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    echo '文件数量不能超过1000'</span><br><span class=\"line\">else</span><br><span class=\"line\">    if [ -e $dir -a -d $dir ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        rm -rf $dir</span><br><span class=\"line\">    else</span><br><span class=\"line\">        if [ -e $dir -a -f $dir ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            rm -f $dir</span><br><span class=\"line\">        fi</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    mkdir -p $dir</span><br><span class=\"line\">    index=1</span><br><span class=\"line\">    while [ $index -le $num ]</span><br><span class=\"line\">    do</span><br><span class=\"line\">        if [ $index -lt 10 ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            pre='00'</span><br><span class=\"line\">        elif [ $index -lt 100 ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            pre='0'</span><br><span class=\"line\">        else</span><br><span class=\"line\">            pre=''</span><br><span class=\"line\">        fi</span><br><span class=\"line\">        touch $dir'/'$file'_'$pre$index</span><br><span class=\"line\">        index=$[ index + 1 ]</span><br><span class=\"line\">    done</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n\n<p>例子3：自动安装指定版本的Redis。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">install_redis() &#123;</span><br><span class=\"line\">    if ! which redis-server &gt; /dev/null</span><br><span class=\"line\">    then</span><br><span class=\"line\">        cd /root</span><br><span class=\"line\">        wget $1$2'.tar.gz' &gt;&gt; install.log</span><br><span class=\"line\">        gunzip /root/$2'.tar.gz'</span><br><span class=\"line\">        tar -xf /root/$2'.tar'</span><br><span class=\"line\">        cd /root/$2</span><br><span class=\"line\">        make &gt;&gt; install.log</span><br><span class=\"line\">        make install &gt;&gt; install.log</span><br><span class=\"line\">        echo '安装完成'</span><br><span class=\"line\">    else</span><br><span class=\"line\">        echo '已经安装过Redis'</span><br><span class=\"line\">    fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">install_redis 'http://download.redis.io/releases/' $1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"相关资源\"><a href=\"#相关资源\" class=\"headerlink\" title=\"相关资源\"></a>相关资源</h3><ol>\n<li><p>Linux命令行常用快捷键</p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>tab</td>\n<td>自动补全命令或路径</td>\n</tr>\n<tr>\n<td>Ctrl+a</td>\n<td>将光标移动到命令行行首</td>\n</tr>\n<tr>\n<td>Ctrl+e</td>\n<td>将光标移动到命令行行尾</td>\n</tr>\n<tr>\n<td>Ctrl+f</td>\n<td>将光标向右移动一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+b</td>\n<td>将光标向左移动一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+k</td>\n<td>剪切从光标到行尾的字符</td>\n</tr>\n<tr>\n<td>Ctrl+u</td>\n<td>剪切从光标到行首的字符</td>\n</tr>\n<tr>\n<td>Ctrl+w</td>\n<td>剪切光标前面的一个单词</td>\n</tr>\n<tr>\n<td>Ctrl+y</td>\n<td>复制剪切命名剪切的内容</td>\n</tr>\n<tr>\n<td>Ctrl+c</td>\n<td>中断正在执行的任务</td>\n</tr>\n<tr>\n<td>Ctrl+h</td>\n<td>删除光标前面的一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+d</td>\n<td>退出当前命令行</td>\n</tr>\n<tr>\n<td>Ctrl+r</td>\n<td>搜索历史命令</td>\n</tr>\n<tr>\n<td>Ctrl+g</td>\n<td>退出历史命令搜索</td>\n</tr>\n<tr>\n<td>Ctrl+l</td>\n<td>清除屏幕上所有内容在屏幕的最上方开启一个新行</td>\n</tr>\n<tr>\n<td>Ctrl+s</td>\n<td>锁定终端使之暂时无法输入内容</td>\n</tr>\n<tr>\n<td>Ctrl+q</td>\n<td>退出终端锁定</td>\n</tr>\n<tr>\n<td>Ctrl+z</td>\n<td>将正在终端执行的任务停下来放到后台</td>\n</tr>\n<tr>\n<td>!!</td>\n<td>执行上一条命令</td>\n</tr>\n<tr>\n<td>!数字</td>\n<td>执行数字对应的历史命令</td>\n</tr>\n<tr>\n<td>!字母</td>\n<td>执行最近的以字母打头的命令</td>\n</tr>\n<tr>\n<td>!$ / Esc+.</td>\n<td>获得上一条命令最后一个参数</td>\n</tr>\n<tr>\n<td>Esc+b</td>\n<td>移动到当前单词的开头</td>\n</tr>\n<tr>\n<td>Esc+f</td>\n<td>移动到当前单词的结尾</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>man查阅命令手册的内容说明</p>\n<table>\n<thead>\n<tr>\n<th>手册中的标题</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>NAME</td>\n<td>命令的说明和介绍</td>\n</tr>\n<tr>\n<td>SYNOPSIS</td>\n<td>使用该命令的基本语法</td>\n</tr>\n<tr>\n<td>DESCRIPTION</td>\n<td>使用该命令的详细描述，各个参数的作用，有时候这些信息会出现在OPTIONS中</td>\n</tr>\n<tr>\n<td>OPTIONS</td>\n<td>命令相关参数选项的说明</td>\n</tr>\n<tr>\n<td>EXAMPLES</td>\n<td>使用该命令的参考例子</td>\n</tr>\n<tr>\n<td>EXIT STATUS</td>\n<td>命令结束的退出状态码，通常0表示成功执行</td>\n</tr>\n<tr>\n<td>SEE ALSO</td>\n<td>和命令相关的其他命令或信息</td>\n</tr>\n<tr>\n<td>BUGS</td>\n<td>和命令相关的缺陷的描述</td>\n</tr>\n<tr>\n<td>AUTHOR</td>\n<td>该命令的作者介绍</td>\n</tr>\n</tbody></table>\n<p> 本文非原创：内容转至 <a href=\"https://github.com/jackfrued/Python-100-Days/blob/master/Day31-35/31-35.玩转Linux操作系统.md\" target=\"_blank\" rel=\"noopener\">原文链接</a></p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>说明：本文中对Linux命令的讲解都是基于名为CentOS的Linux发行版本，我自己使用的是阿里云服务器，系统版本为CentOS Linux release 7.6.1810。不同的Linux发行版本在Shell命令和工具程序上会有一些差别，但是这些差别是很小的。</p>\n</blockquote>\n<h3 id=\"操作系统发展史\"><a href=\"#操作系统发展史\" class=\"headerlink\" title=\"操作系统发展史\"></a>操作系统发展史</h3><p>只有硬件没有软件的计算机系统被称之为“裸机”，我们很难用“裸机”来完成计算机日常的工作（如存储和运算），所以必须用特定的软件来控制硬件的工作。最靠近计算机硬件的软件是系统软件，其中最为重要的就是“操作系统”。“操作系统”是控制和管理整个计算机硬件和软件资源、实现资源分配和任务调配、为系统用户以及其他软件提供接口和环境的程序的集合。</p>","more":"<h4 id=\"没有操作系统（手工操作）\"><a href=\"#没有操作系统（手工操作）\" class=\"headerlink\" title=\"没有操作系统（手工操作）\"></a>没有操作系统（手工操作）</h4><p>在计算机诞生之初没有操作系统的年代，人们先把程序纸带（或卡片）装上计算机，然后启动输入机把程序送入计算机，接着通过控制台开关启动程序运行。当程序执行完毕，打印机输出计算的结果，用户卸下并取走纸带（或卡片）。第二个用户上机，重复同样的步骤。在整个过程中用户独占机器，CPU等待手工操作，资源利用率极低。</p>\n<h4 id=\"批处理系统\"><a href=\"#批处理系统\" class=\"headerlink\" title=\"批处理系统\"></a>批处理系统</h4><p>首先启动计算机上的一个监督程序，在监督程序的控制下，计算机能够自动的、成批的处理一个或多个用户的作业。完成一批作业后，监督程度又从输入机读取作业存入磁带机。按照上面的步骤重复处理任务。监督程序不停的处理各个作业，实现了作业的自动转接，减少了作业的建立时间和手工操作时间，提高了计算机资源的利用率。 批处理系统又可以分为单道批处理系统、多道批处理系统、联机批处理系统、脱机批处理系统。</p>\n<h4 id=\"分时系统和实时系统\"><a href=\"#分时系统和实时系统\" class=\"headerlink\" title=\"分时系统和实时系统\"></a>分时系统和实时系统</h4><p>分时系统是把处理器的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。 若某个作业在分配给它的时间片内不能完成其计算，则该作业暂时中断，把处理机让给另一作业使用，等待下一轮调度时再继续其运行。由于计算机速度很快，作业运行轮转得很快，给每个用户的感觉是他独占了一台计算机。而每个用户可以通过自己的终端向系统发出各种操作控制命令，在充分的人机交互情况下，完成作业的运行。为了解决分时系统不能及时响应用户指令的情况，又出现了能够在在严格的时间范围内完成事件处理，及时响应随机外部事件的实时系统。</p>\n<h4 id=\"通用操作系统\"><a href=\"#通用操作系统\" class=\"headerlink\" title=\"通用操作系统\"></a>通用操作系统</h4><ol>\n<li><p>1960s：IBM的System/360系列的机器有了统一的操作系统OS/360。</p>\n</li>\n<li><p>1965年：AT&amp;T的贝尔实验室加入GE和MIT的合作计划开始开发MULTICS。</p>\n</li>\n<li><p>1969年：MULTICS项目失败，Ken Tompson赋闲在家，为了玩“Space Travel”游戏用汇编语言在当时已经被淘汰的PDP-7上开发了Unics。</p>\n<blockquote>\n<p>注：很难想象，Unix这么伟大的系统，居然是一个赋闲在家的程序员（关键是老婆回娘家还带上了孩子）在一台被淘汰的设备上为了玩游戏开发出来的。</p>\n</blockquote>\n</li>\n<li><p>1970年~1971年：Ken Tompson和Dennis Ritchie用B语言在PDP-11上重写了Unics，并在Brian Kernighan的建议下将其更名为Unix。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-8.png\" alt=\"upload successful\"></p>\n<ol start=\"5\">\n<li><p>1972年~1973年：Dennis Ritchie发明了C语言来取代可移植性较差的B语言，并开启了用C语言重写Unix的工作。</p>\n</li>\n<li><p>1974年：Unix推出了里程碑意义的第5版，几乎完全用C语言来实现。</p>\n</li>\n<li><p>1979年：从Unix第7版开始，AT&amp;T发布新的使用条款，将Unix私有化。</p>\n</li>\n<li><p>1987年：Andrew S. Tanenbaum教授为了能在课堂上为学生讲解操作系统运作的细节，决定在不使用任何AT&amp;T的源代码前提下，自行开发与Unix兼容的操作系统以避免版权上的争议，该系统被命名为Minix。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-9.png\" alt=\"upload successful\"></p>\n<ol start=\"9\">\n<li>1991年：Linus Torvalds就读于芬兰赫尔辛基大学期间，尝试在Minix上做一些开发工作，但因为Minix只是作为教学用途的操作系统，功能并不强大，为了方便在学校的新闻组和邮件系统中读写和下载文件，Linus编写了磁盘驱动程序和文件系统，这些东西形成了Linux系统内核的雏形。</li>\n</ol>\n<p><img src=\"/images/pasted-10.png\" alt=\"upload successful\"></p>\n<p>下图是Unix操作系统家族的图谱。</p>\n<p><img src=\"/images/pasted-11.png\" alt=\"upload successful\"></p>\n<h3 id=\"Linux概述\"><a href=\"#Linux概述\" class=\"headerlink\" title=\"Linux概述\"></a>Linux概述</h3><p>Linux是一个通用操作系统。一个操作系统要负责任务调度、内存分配、处理外围设备I/O等操作。操作系统通常由内核（运行其他程序，管理像磁盘、打印机等硬件设备的核心程序）和系统程序（设备驱动、底层库、shell、服务程序等）两部分组成。</p>\n<p>Linux内核是芬兰人Linus Torvalds开发的，于1991年9月发布。而Linux操作系统作为Internet时代的产物，它是由全世界许多开发者共同合作开发的，是一个自由的操作系统（注意自由和免费并不是同一个概念，想了解二者的差别可以<a href=\"https://www.debian.org/intro/free\" target=\"_blank\" rel=\"noopener\">点击这里</a>）。</p>\n<h3 id=\"Linux系统优点\"><a href=\"#Linux系统优点\" class=\"headerlink\" title=\"Linux系统优点\"></a>Linux系统优点</h3><ol>\n<li>通用操作系统，不跟特定的硬件绑定。</li>\n<li>用C语言编写，可移植性强，有内核编程接口。</li>\n<li>支持多用户和多任务，支持安全的分层文件系统。</li>\n<li>大量的实用程序，完善的网络功能以及强大的支持文档。</li>\n<li>可靠的安全性和良好的稳定性，对开发者更友好。</li>\n</ol>\n<h3 id=\"Linux系统发行版本\"><a href=\"#Linux系统发行版本\" class=\"headerlink\" title=\"Linux系统发行版本\"></a>Linux系统发行版本</h3><ol>\n<li><a href=\"https://www.redhat.com/en\" target=\"_blank\" rel=\"noopener\">Redhat</a></li>\n<li><a href=\"https://www.ubuntu.com/\" target=\"_blank\" rel=\"noopener\">Ubuntu</a></li>\n<li><a href=\"https://www.centos.org/\" target=\"_blank\" rel=\"noopener\">CentOS</a></li>\n<li><a href=\"https://getfedora.org/\" target=\"_blank\" rel=\"noopener\">Fedora</a></li>\n<li><a href=\"https://www.debian.org/\" target=\"_blank\" rel=\"noopener\">Debian</a></li>\n<li><a href=\"https://www.opensuse.org/\" target=\"_blank\" rel=\"noopener\">openSUSE</a></li>\n</ol>\n<h3 id=\"基础命令\"><a href=\"#基础命令\" class=\"headerlink\" title=\"基础命令\"></a>基础命令</h3><p>Linux系统的命令通常都是如下所示的格式：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">命令名称 [命名参数] [命令对象]</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><p>获取登录信息 - <strong>w</strong> / <strong>who</strong> / <strong>last</strong>/ <strong>lastb</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# w</span><br><span class=\"line\"> 23:31:16 up 12:16,  2 users,  load average: 0.00, 0.01, 0.05</span><br><span class=\"line\">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class=\"line\">root     pts/0    182.139.66.250   23:03    4.00s  0.02s  0.00s w</span><br><span class=\"line\">jackfrue pts/1    182.139.66.250   23:26    3:56   0.00s  0.00s -bash</span><br><span class=\"line\">[root ~]# who</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">jackfrued pts/1        2018-04-12 23:26 (182.139.66.250)</span><br><span class=\"line\">[root ~]# who am i</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">[root ~]# who mom likes</span><br><span class=\"line\">root     pts/0        2018-04-12 23:03 (182.139.66.250)</span><br><span class=\"line\">[root ~]# last</span><br><span class=\"line\">root     pts/0        117.136.63.184   Sun May 26 18:57   still logged in</span><br><span class=\"line\">reboot   system boot  3.10.0-957.10.1. Mon May 27 02:52 - 19:10  (-7:-42)</span><br><span class=\"line\">root     pts/4        117.136.63.184   Sun May 26 18:51 - crash  (08:01)</span><br><span class=\"line\">root     pts/4        117.136.63.184   Sun May 26 18:49 - 18:49  (00:00)</span><br><span class=\"line\">root     pts/3        117.136.63.183   Sun May 26 18:35 - crash  (08:17)</span><br><span class=\"line\">root     pts/2        117.136.63.183   Sun May 26 18:34 - crash  (08:17)</span><br><span class=\"line\">root     pts/0        117.136.63.183   Sun May 26 18:10 - crash  (08:42)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看自己使用的Shell - <strong>ps</strong>。</p>\n<p>Shell也被称为“壳”或“壳程序”，它是用户与操作系统内核交流的翻译官，简单的说就是人与计算机交互的界面和接口。目前很多Linux系统默认的Shell都是bash（<u>B</u>ourne <u>A</u>gain <u>SH</u>ell），因为它可以使用tab键进行命令和路径补全、可以保存历史命令、可以方便的配置环境变量以及执行批处理操作。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# ps</span><br><span class=\"line\">  PID TTY          TIME CMD</span><br><span class=\"line\"> 3531 pts/0    00:00:00 bash</span><br><span class=\"line\"> 3553 pts/0    00:00:00 ps</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看命令的说明和位置 - <strong>whatis</strong> / <strong>which</strong> / <strong>whereis</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# whatis ps</span><br><span class=\"line\">ps (1)        - report a snapshot of the current processes.</span><br><span class=\"line\">[root ~]# whatis python</span><br><span class=\"line\">python (1)    - an interpreted, interactive, object-oriented programming language</span><br><span class=\"line\">[root ~]# whereis ps</span><br><span class=\"line\">ps: /usr/bin/ps /usr/share/man/man1/ps.1.gz</span><br><span class=\"line\">[root ~]# whereis python</span><br><span class=\"line\">python: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz</span><br><span class=\"line\">[root ~]# which ps</span><br><span class=\"line\">/usr/bin/ps</span><br><span class=\"line\">[root ~]# which python</span><br><span class=\"line\">/usr/bin/python</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>清除屏幕上显示的内容 - <strong>clear</strong>。</p>\n</li>\n<li><p>查看帮助文档 - <strong>man</strong> / <strong>info</strong> / <strong>help</strong> / <strong>apropos</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# ps --help</span><br><span class=\"line\">Usage:</span><br><span class=\"line\"> ps [options]</span><br><span class=\"line\"> Try 'ps --help &lt;simple|list|output|threads|misc|all&gt;'</span><br><span class=\"line\">  or 'ps --help &lt;s|l|o|t|m|a&gt;'</span><br><span class=\"line\"> for additional help text.</span><br><span class=\"line\">For more details see ps(1).</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# man ps</span><br><span class=\"line\">PS(1)                                User Commands                                PS(1)</span><br><span class=\"line\">NAME</span><br><span class=\"line\">       ps - report a snapshot of the current processes.</span><br><span class=\"line\">SYNOPSIS</span><br><span class=\"line\">       ps [options]</span><br><span class=\"line\">DESCRIPTION</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看系统和主机名 - <strong>uname</strong> / <strong>hostname</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# uname</span><br><span class=\"line\">Linux</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# hostname</span><br><span class=\"line\">izwz97tbgo9lkabnat2lo8z</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release</span><br><span class=\"line\">CentOS Linux release 7.6.1810 (Core)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：<code>cat</code>是连接文件内容并打印到标准输出的命令，后面会讲到该命令；<code>/etc</code>是Linux系统上的一个非常重要的目录，它保存了很多的配置文件；<code>centos-release</code>是该目录下的一个文件，因为我自己使用的Linux发行版本是CentOS 7.6，因此这里会有一个这样的文件。</p>\n</blockquote>\n</li>\n<li><p>时间和日期 - <strong>date</strong> / <strong>cal</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# date</span><br><span class=\"line\">Wed Jun 20 12:53:19 CST 2018</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal</span><br><span class=\"line\">      June 2018</span><br><span class=\"line\">Su Mo Tu We Th Fr Sa</span><br><span class=\"line\">                1  2</span><br><span class=\"line\"> 3  4  5  6  7  8  9</span><br><span class=\"line\">10 11 12 13 14 15 16</span><br><span class=\"line\">17 18 19 20 21 22 23</span><br><span class=\"line\">24 25 26 27 28 29 30</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal 5 2017</span><br><span class=\"line\">      May 2017</span><br><span class=\"line\">Su Mo Tu We Th Fr Sa</span><br><span class=\"line\">    1  2  3  4  5  6</span><br><span class=\"line\"> 7  8  9 10 11 12 13</span><br><span class=\"line\">14 15 16 17 18 19 20</span><br><span class=\"line\">21 22 23 24 25 26 27</span><br><span class=\"line\">28 29 30 31</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启和关机 - <strong>reboot</strong> / <strong>shutdown</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# shutdown -h +5</span><br><span class=\"line\">Shutdown scheduled for Sun 2019-05-26 19:34:27 CST, use 'shutdown -c' to cancel.</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:29:27 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system is going down for power-off at Sun 2019-05-26 19:34:27 CST!</span><br><span class=\"line\">[root ~]# shutdown -c</span><br><span class=\"line\"></span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:30:22 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system shutdown has been cancelled at Sun 2019-05-26 19:31:22 CST!</span><br><span class=\"line\">[root ~]# shutdown -r 23:58</span><br><span class=\"line\">Shutdown scheduled for Sun 2019-05-26 23:58:00 CST, use 'shutdown -c' to cancel.</span><br><span class=\"line\">[root ~]# shutdown -c</span><br><span class=\"line\"></span><br><span class=\"line\">Broadcast message from root (Sun 2019-05-26 19:31:06 CST):</span><br><span class=\"line\"></span><br><span class=\"line\">The system shutdown has been cancelled at Sun 2019-05-26 19:32:06 CST!</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：在执行<code>shutdown</code>命令时会向登录系统的用户发出警告，可以在命令后面跟上警告消息来替换默认的警告消息，也可以在<code>-h</code>参数后通过<code>now</code>来表示立刻关机。</p>\n</blockquote>\n</li>\n<li><p>退出登录 -  <strong>exit</strong> / <strong>logout</strong>。</p>\n</li>\n<li><p>查看历史命令 - <strong>history</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# history</span><br><span class=\"line\">...</span><br><span class=\"line\">452  ls</span><br><span class=\"line\">453  cd Python-3.6.5/</span><br><span class=\"line\">454  clear</span><br><span class=\"line\">455  history</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# !454</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：查看到历史命令之后，可以用<code>!历史命令编号</code>来重新执行该命令；通过<code>history -c</code>可以清除历史命令。</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"实用程序\"><a href=\"#实用程序\" class=\"headerlink\" title=\"实用程序\"></a>实用程序</h3><h4 id=\"文件和文件夹操作\"><a href=\"#文件和文件夹操作\" class=\"headerlink\" title=\"文件和文件夹操作\"></a>文件和文件夹操作</h4><ol>\n<li><p>创建/删除空目录 - <strong>mkdir</strong> / <strong>rmdir</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkdir abc</span><br><span class=\"line\">[root ~]# mkdir -p xyz/abc</span><br><span class=\"line\">[root ~]# rmdir abc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建/删除文件 - <strong>touch</strong> / <strong>rm</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# touch readme.txt</span><br><span class=\"line\">[root ~]# touch error.txt</span><br><span class=\"line\">[root ~]# rm error.txt</span><br><span class=\"line\">rm: remove regular empty file ‘error.txt’? y</span><br><span class=\"line\">[root ~]# rm -rf xyz</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>touch</code>命令用于创建空白文件或修改文件时间。在Linux系统中一个文件有三种时间：<ul>\n<li>更改内容的时间 - mtime。</li>\n<li>更改权限的时间 - ctime。</li>\n<li>最后访问时间 - atime。</li>\n</ul>\n</li>\n<li><code>rm</code>的几个重要参数：<ul>\n<li><code>-i</code>：交互式删除，每个删除项都会进行询问。</li>\n<li><code>-r</code>：删除目录并递归的删除目录中的文件和目录。</li>\n<li><code>-f</code>：强制删除，忽略不存在的文件，没有任何提示。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>切换和查看当前工作目录 - <strong>cd</strong> / <strong>pwd</strong>。</p>\n<blockquote>\n<p>说明：<code>cd</code>命令后面可以跟相对路径（以当前路径作为参照）或绝对路径（以<code>/</code>开头）来切换到指定的目录，也可以用<code>cd ..</code>来返回上一级目录。请大家想一想，如果要返回到上上一级目录应该给<code>cd</code>命令加上什么样的参数呢？</p>\n</blockquote>\n</li>\n<li><p>查看目录内容 - <strong>ls</strong>。</p>\n<ul>\n<li><code>-l</code>：以长格式查看文件和目录。</li>\n<li><code>-a</code>：显示以点开头的文件和目录（隐藏文件）。</li>\n<li><code>-R</code>：遇到目录要进行递归展开（继续列出目录下面的文件和目录）。</li>\n<li><code>-d</code>：只列出目录，不列出其他内容。</li>\n<li><code>-S</code> / <code>-t</code>：按大小/时间排序。</li>\n</ul>\n</li>\n<li><p>查看文件内容 - <strong>cat</strong> / <strong>tac</strong> / <strong>head</strong> / <strong>tail</strong> / <strong>more</strong> / <strong>less</strong> / <strong>rev</strong> / <strong>od</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget http://www.sohu.com/ -O sohu.html</span><br><span class=\"line\">--2018-06-20 18:42:34--  http://www.sohu.com/</span><br><span class=\"line\">Resolving www.sohu.com (www.sohu.com)... 14.18.240.6</span><br><span class=\"line\">Connecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 212527 (208K) [text/html]</span><br><span class=\"line\">Saving to: ‘sohu.html’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 212,527     --.-K/s   <span class=\"keyword\">in</span> 0.03s</span></span><br><span class=\"line\">2018-06-20 18:42:34 (7.48 MB/s) - ‘sohu.html’ saved [212527/212527]</span><br><span class=\"line\">[root ~]# cat sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# head -10 sohu.html</span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;搜狐&lt;/title&gt;</span><br><span class=\"line\">&lt;meta name=\"Keywords\" content=\"搜狐,门户网站,新媒体,网络媒体,新闻,财经,体育,娱乐,时尚,汽车,房产,科技,图片,论坛,微博,博客,视频,电影,电视剧\"/&gt;</span><br><span class=\"line\">&lt;meta name=\"Description\" content=\"搜狐网为用户提供24小时不间断的最新资讯，及搜索、邮件等网络服务。内容包括全球热点事件、突发新闻、时事评论、热播影视剧、体育赛事、行业动态、生活服务信息，以及论坛、博客、微博、我的搜狐等互动空间。\" /&gt;</span><br><span class=\"line\">&lt;meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\"&gt;</span><br><span class=\"line\">&lt;meta charset=\"utf-8\"/&gt;</span><br><span class=\"line\">&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/&gt;</span><br><span class=\"line\">[root ~]# tail -2 sohu.html</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\">[root ~]# less sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# cat -n sohu.html | more</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：上面用到了一个名为<code>wget</code>的命令，它是一个网络下载器程序，可以从指定的URL下载资源。</p>\n</blockquote>\n</li>\n<li><p>拷贝/移动文件 - <strong>cp</strong> / <strong>mv</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkdir backup</span><br><span class=\"line\">[root ~]# cp sohu.html backup/</span><br><span class=\"line\">[root ~]# cd backup</span><br><span class=\"line\">[root backup]# ls</span><br><span class=\"line\">sohu.html</span><br><span class=\"line\">[root backup]# mv sohu.html sohu_index.html</span><br><span class=\"line\">[root backup]# ls</span><br><span class=\"line\">sohu_index.html</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>文件重命名 - <strong>rename</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# rename .htm .html *.htm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查找文件和查找内容 - <strong>find</strong> / <strong>grep</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# find / -name \"*.html\"</span><br><span class=\"line\">/root/sohu.html</span><br><span class=\"line\">/root/backup/sohu_index.html</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -atime 7 -type f -print</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -size +2k</span><br><span class=\"line\">[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -name \"*.swp\" -delete</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep \"&lt;script&gt;\" sohu.html -n</span><br><span class=\"line\">20:&lt;script&gt;</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep -E \\&lt;\\/?script.*\\&gt; sohu.html -n</span><br><span class=\"line\">20:&lt;script&gt;</span><br><span class=\"line\">22:&lt;/script&gt;</span><br><span class=\"line\">24:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">25:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">26:&lt;script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"&gt;&lt;/script&gt;</span><br><span class=\"line\">29:&lt;script type=\"text/javascript\"&gt;</span><br><span class=\"line\">52:&lt;/script&gt;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：<code>grep</code>在搜索字符串时可以使用正则表达式，如果需要使用正则表达式可以用<code>grep -E</code>或者直接使用<code>egrep</code>。</p>\n</blockquote>\n</li>\n<li><p>创建链接和查看链接 - <strong>ln</strong> / <strong>readlink</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup2</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html</span><br><span class=\"line\">-rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /etc/centos-release sysinfo</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sysinfo</span><br><span class=\"line\">lrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -&gt; /etc/centos-release</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sysinfo</span><br><span class=\"line\">CentOS Linux release 7.4.1708 (Core)</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release</span><br><span class=\"line\">CentOS Linux release 7.4.1708 (Core)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：链接可以分为硬链接和软链接（符号链接）。硬链接可以认为是一个指向文件数据的指针，就像Python中对象的引用计数，每添加一个硬链接，文件的对应链接数就增加1，只有当文件的链接数为0时，文件所对应的存储空间才有可能被其他文件覆盖。我们平常删除文件时其实并没有删除硬盘上的数据，我们删除的只是一个指针，或者说是数据的一条使用记录，所以类似于“文件粉碎机”之类的软件在“粉碎”文件时除了删除文件指针，还会在文件对应的存储区域填入数据来保证文件无法再恢复。软链接类似于Windows系统下的快捷方式，当软链接链接的文件被删除时，软链接也就失效了。</p>\n</blockquote>\n</li>\n<li><p>压缩/解压缩和归档/解归档 - <strong>gzip</strong> / <strong>gunzip</strong> / <strong>xz</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz</span><br><span class=\"line\">--2018-06-20 19:29:59--  http://download.redis.io/releases/redis-4.0.10.tar.gz</span><br><span class=\"line\">Resolving download.redis.io (download.redis.io)... 109.74.203.151</span><br><span class=\"line\">Connecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 1738465 (1.7M) [application/x-gzip]</span><br><span class=\"line\">Saving to: ‘redis-4.0.10.tar.gz’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 1,738,465   70.1KB/s   <span class=\"keyword\">in</span> 74s</span></span><br><span class=\"line\">2018-06-20 19:31:14 (22.9 KB/s) - ‘redis-4.0.10.tar.gz’ saved [1738465/1738465]</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class=\"line\">redis-4.0.10.tar.gz</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-4.0.10.tar.gz</span><br><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class=\"line\">redis-4.0.10.tar</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>归档和解归档 - <strong>tar</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-4.0.10.tar</span><br><span class=\"line\">redis-4.0.10/</span><br><span class=\"line\">redis-4.0.10/.gitignore</span><br><span class=\"line\">redis-4.0.10/00-RELEASENOTES</span><br><span class=\"line\">redis-4.0.10/BUGS</span><br><span class=\"line\">redis-4.0.10/CONTRIBUTING</span><br><span class=\"line\">redis-4.0.10/COPYING</span><br><span class=\"line\">redis-4.0.10/INSTALL</span><br><span class=\"line\">redis-4.0.10/MANIFESTO</span><br><span class=\"line\">redis-4.0.10/Makefile</span><br><span class=\"line\">redis-4.0.10/README.md</span><br><span class=\"line\">redis-4.0.10/deps/</span><br><span class=\"line\">redis-4.0.10/deps/Makefile</span><br><span class=\"line\">redis-4.0.10/deps/README.md</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：归档（也称为创建归档）和解归档都使用<code>tar</code>命令，通常创建归档需要<code>-cvf</code>三个参数，其中<code>c</code>表示创建（create），<code>v</code>表示显示创建归档详情（verbose），<code>f</code>表示指定归档的文件（file）；解归档需要加上<code>-xvf</code>参数，其中<code>x</code>表示抽取（extract），其他两个参数跟创建归档相同。</p>\n</blockquote>\n</li>\n<li><p>将标准输入转成命令行参数 - <strong>xargs</strong>。</p>\n<p>下面的命令会将查找当前路径下的html文件，然后通过<code>xargs</code>将这些文件作为参数传给<code>rm</code>命令，实现查找并删除文件的操作。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -type f -name \"*.html\" | xargs rm -f</span><br></pre></td></tr></table></figure>\n\n<p>下面的命令将a.txt文件中的多行内容变成一行输出到b.txt文件中，其中<code>&lt;</code>表示从a.txt中读取输入，<code>&gt;</code>表示将命令的执行结果输出到b.txt中。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@iZwz97tbgo9lkabnat2lo8Z ~]# xargs &lt; a.txt &gt; b.txt</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这个命令就像上面演示的那样常在管道（实现进程间通信的一种方式）和重定向（重新指定输入输出的位置）操作中用到，后面的内容中会讲到管道操作和输入输出重定向操作。</p>\n</blockquote>\n</li>\n<li><p>显示文件或目录 - <strong>basename</strong> / <strong>dirname</strong>。</p>\n</li>\n<li><p>其他相关工具。</p>\n<ul>\n<li><strong>sort</strong> - 对内容排序</li>\n<li><strong>uniq</strong> - 去掉相邻重复内容</li>\n<li><strong>tr</strong> - 替换指定内容为新内容</li>\n<li><strong>cut</strong> / <strong>paste</strong> - 剪切/黏贴内容</li>\n<li><strong>split</strong> - 拆分文件</li>\n<li><strong>file</strong> - 判断文件类型</li>\n<li><strong>wc</strong> - 统计文件行数、单词数、字节数</li>\n<li><strong>iconv</strong> - 编码转换</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat foo.txt</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">[root ~]# cat bar.txt</span><br><span class=\"line\">100</span><br><span class=\"line\">200</span><br><span class=\"line\">300</span><br><span class=\"line\">400</span><br><span class=\"line\">[root ~]# paste foo.txt bar.txt</span><br><span class=\"line\">grape   100</span><br><span class=\"line\">apple   200</span><br><span class=\"line\">pitaya  300</span><br><span class=\"line\">        400</span><br><span class=\"line\">[root ~]# paste foo.txt bar.txt &gt; hello.txt</span><br><span class=\"line\">[root ~]# cut -b 4-8 hello.txt</span><br><span class=\"line\">pe      10</span><br><span class=\"line\">le      20</span><br><span class=\"line\">aya     3</span><br><span class=\"line\">0</span><br><span class=\"line\">[root ~]# cat hello.txt | tr '\\t' ','</span><br><span class=\"line\">grape,100</span><br><span class=\"line\">apple,200</span><br><span class=\"line\">pitaya,300</span><br><span class=\"line\">,400</span><br><span class=\"line\">[root ~]# split -l 100 sohu.html hello</span><br><span class=\"line\">[root ~]# wget https://www.baidu.com/img/bd_logo1.png</span><br><span class=\"line\">[root ~]# file bd_logo1.png</span><br><span class=\"line\">bd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced</span><br><span class=\"line\">[root ~]# wc sohu.html</span><br><span class=\"line\">  2979   6355 212527 sohu.html</span><br><span class=\"line\">[root ~]# wc -l sohu.html</span><br><span class=\"line\">2979 sohu.html</span><br><span class=\"line\">[root ~]# wget http://www.qq.com -O qq.html</span><br><span class=\"line\">[root ~]# iconv -f gb2312 -t utf-8 qq.html</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"管道和重定向\"><a href=\"#管道和重定向\" class=\"headerlink\" title=\"管道和重定向\"></a>管道和重定向</h4><ol>\n<li><p>管道的使用 - <strong>|</strong>。</p>\n<p>例子：查找当前目录下文件个数。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# find ./ | wc -l</span><br><span class=\"line\">6152</span><br></pre></td></tr></table></figure>\n\n<p>例子：列出当前路径下的文件和文件夹，给每一项加一个编号。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls | cat -n</span><br><span class=\"line\">     1  dump.rdb</span><br><span class=\"line\">     2  mongodb-3.6.5</span><br><span class=\"line\">     3  Python-3.6.5</span><br><span class=\"line\">     4  redis-3.2.11</span><br><span class=\"line\">     5  redis.conf</span><br></pre></td></tr></table></figure>\n\n<p>例子：查找record.log中包含AAA，但不包含BBB的记录的总数</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat record.log | grep AAA | grep -v BBB | wc -l</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>输出重定向和错误重定向 - <strong>&gt;</strong> / <strong>&gt;&gt;</strong> / <strong>2&gt;</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat readme.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">apple</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">grape</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">pear</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">[root ~]# cat readme.txt | sort | uniq &gt; result.txt</span><br><span class=\"line\">[root ~]# cat result.txt</span><br><span class=\"line\">apple</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">pear</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">watermelon</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>输入重定向 - <strong>&lt;</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# echo 'hello, world!' &gt; hello.txt</span><br><span class=\"line\">[root ~]# wall &lt; hello.txt</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Wed Jun 20 19:43:05 2018):</span><br><span class=\"line\">hello, world!</span><br><span class=\"line\">[root ~]# echo 'I will show you some code.' &gt;&gt; hello.txt</span><br><span class=\"line\">[root ~]# wall &lt; hello.txt</span><br><span class=\"line\">[root ~]#</span><br><span class=\"line\">Broadcast message from root (Wed Jun 20 19:43:55 2018):</span><br><span class=\"line\">hello, world!</span><br><span class=\"line\">I will show you some code.</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>多重定向 - <strong>tee</strong>。</p>\n<p>下面的命令除了在终端显示命令<code>ls</code>的结果之外，还会追加输出到<code>ls.txt</code>文件中。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls | tee -a ls.txt</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"别名\"><a href=\"#别名\" class=\"headerlink\" title=\"别名\"></a>别名</h4><ol>\n<li><p><strong>alias</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# alias ll='ls -l'</span><br><span class=\"line\">[root ~]# alias frm='rm -rf'</span><br><span class=\"line\">[root ~]# ll</span><br><span class=\"line\">...</span><br><span class=\"line\">drwxr-xr-x  2 root       root   4096 Jun 20 12:52 abc</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# frm abc</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>unalias</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# unalias frm</span><br><span class=\"line\">[root ~]# frm sohu.html</span><br><span class=\"line\">-bash: frm: command not found</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h4 id=\"文本处理\"><a href=\"#文本处理\" class=\"headerlink\" title=\"文本处理\"></a>文本处理</h4><ol>\n<li><p>字符流编辑器 - <strong>sed</strong>。</p>\n<p>sed是操作、过滤和转换文本内容的工具。假设有一个名为fruit.txt的文件，内容如下所示。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat -n fruit.txt</span><br><span class=\"line\">     1  banana</span><br><span class=\"line\">     2  grape</span><br><span class=\"line\">     3  apple</span><br><span class=\"line\">     4  watermelon</span><br><span class=\"line\">     5  orange</span><br></pre></td></tr></table></figure>\n\n<p>接下来，我们在第2行后面添加一个pitaya。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2a pitaya' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">pitaya</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：刚才的命令和之前我们讲过的很多命令一样并没有改变fruit.txt文件，而是将添加了新行的内容输出到终端中，如果想保存到fruit.txt中，可以使用输出重定向操作。</p>\n</blockquote>\n<p>在第2行前面插入一个waxberry。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2i waxberry' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">waxberry</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>删除第3行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '3d' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>删除第2行到第4行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed '2,4d' fruit.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>将文本中的字符a替换为@。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed 's#a#@#' fruit.txt</span><br><span class=\"line\">b@nana</span><br><span class=\"line\">gr@pe</span><br><span class=\"line\">@pple</span><br><span class=\"line\">w@termelon</span><br><span class=\"line\">or@nge</span><br></pre></td></tr></table></figure>\n\n<p>将文本中的字符a替换为@，使用全局模式。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sed 's#a#@#g' fruit.txt</span><br><span class=\"line\">b@n@n@</span><br><span class=\"line\">gr@pe</span><br><span class=\"line\">@pple</span><br><span class=\"line\">w@termelon</span><br><span class=\"line\">or@nge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>模式匹配和处理语言 - <strong>awk</strong>。</p>\n<p>awk是一种编程语言，也是Linux系统中处理文本最为强大的工具，它的作者之一和现在的维护者就是之前提到过的Brian Kernighan（ken和dmr最亲密的伙伴）。通过该命令可以从文本中提取出指定的列、用正则表达式从文本中取出我们想要的内容、显示指定的行以及进行统计和运算，总之它非常强大。</p>\n<p>假设有一个名为fruit2.txt的文件，内容如下所示。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cat fruit2.txt</span><br><span class=\"line\">1       banana      120</span><br><span class=\"line\">2       grape       500</span><br><span class=\"line\">3       apple       1230</span><br><span class=\"line\">4       watermelon  80</span><br><span class=\"line\">5       orange      400</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的第3行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk 'NR==3' fruit2.txt</span><br><span class=\"line\">3       apple       1230</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的第2列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;print $2&#125;' fruit2.txt</span><br><span class=\"line\">banana</span><br><span class=\"line\">grape</span><br><span class=\"line\">apple</span><br><span class=\"line\">watermelon</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n\n<p>显示文件的最后一列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;print $NF&#125;' fruit2.txt</span><br><span class=\"line\">120</span><br><span class=\"line\">500</span><br><span class=\"line\">1230</span><br><span class=\"line\">80</span><br><span class=\"line\">400</span><br></pre></td></tr></table></figure>\n\n<p>输出末尾数字大于等于300的行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# awk '&#123;if($3 &gt;= 300) &#123;print $0&#125;&#125;' fruit2.txt</span><br><span class=\"line\">2       grape       500</span><br><span class=\"line\">3       apple       1230</span><br><span class=\"line\">5       orange      400</span><br></pre></td></tr></table></figure>\n\n<p>上面展示的只是awk命令的冰山一角，更多的内容留给读者自己在实践中去探索。</p>\n</li>\n</ol>\n<h3 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h3><ol>\n<li><p>创建和删除用户 - <strong>useradd</strong> / <strong>userdel</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root home]# useradd hellokitty</span><br><span class=\"line\">[root home]# userdel hellokitty</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-d</code> - 创建用户时为用户指定用户主目录</li>\n<li><code>-g</code> - 创建用户时指定用户所属的用户组</li>\n</ul>\n</li>\n<li><p>创建和删除用户组 - <strong>groupadd</strong> / <strong>groupdel</strong>。</p>\n<blockquote>\n<p>说明：用户组主要是为了方便对一个组里面所有用户的管理。</p>\n</blockquote>\n</li>\n<li><p>修改密码 - <strong>passwd</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# passwd hellokitty</span><br><span class=\"line\">New password:</span><br><span class=\"line\">Retype new password:</span><br><span class=\"line\">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：输入密码和确认密码没有回显且必须一气呵成的输入完成（不能使用退格键），密码和确认密码需要一致。如果使用<code>passwd</code>命令时没有指定命令作用的对象，则表示要修改当前用户的密码。如果想批量修改用户密码，可以使用<code>chpasswd</code>命令。</p>\n</blockquote>\n<ul>\n<li><code>-l</code> / <code>-u</code> - 锁定/解锁用户。</li>\n<li><code>-d</code> - 清除用户密码。</li>\n<li><code>-e</code> - 设置密码立即过期，用户登录时会强制要求修改密码。</li>\n<li><code>-i</code> - 设置密码过期多少天以后禁用该用户。</li>\n</ul>\n</li>\n<li><p>查看和修改密码有效期 - <strong>chage</strong>。</p>\n<p>设置hellokitty用户100天后必须修改密码，过期前15天通知该用户，过期后15天禁用该用户。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chage -M 100 -W 15 -I 15 hellokitty</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>切换用户 - <strong>su</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# su hellokitty</span><br><span class=\"line\">[hellokitty root]$</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>以管理员身份执行命令 - <strong>sudo</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$ ls /root</span><br><span class=\"line\">ls: cannot open directory /root: Permission denied</span><br><span class=\"line\">[hellokitty ~]$ sudo ls /root</span><br><span class=\"line\">[sudo] password for hellokitty:</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>说明</strong>：如果希望用户能够以管理员身份执行命令，用户必须要出现在sudoers名单中，sudoers文件在 <code>/etc</code>目录下，如果希望直接编辑该文件也可以使用下面的命令。</p>\n</blockquote>\n</li>\n<li><p>编辑sudoers文件 - <strong>visudo</strong>。</p>\n<p>这里使用的编辑器是vi，关于vi的知识在后面有讲解。该文件的部分内容如下所示：</p>\n<figure class=\"highlight vhdl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## Allow root <span class=\"keyword\">to</span> run any commands anywhere</span><br><span class=\"line\">root    <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the <span class=\"symbol\">'sys</span>' <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> run networking, software,</span><br><span class=\"line\">## service management apps <span class=\"keyword\">and</span> more.</span><br><span class=\"line\"># %sys <span class=\"keyword\">ALL</span> = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS</span><br><span class=\"line\">## Allows people <span class=\"keyword\">in</span> <span class=\"keyword\">group</span> wheel <span class=\"keyword\">to</span> run <span class=\"keyword\">all</span> commands</span><br><span class=\"line\">%wheel  <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Same thing without a password</span><br><span class=\"line\"># %wheel    <span class=\"keyword\">ALL</span>=(<span class=\"keyword\">ALL</span>)   NOPASSWD: <span class=\"keyword\">ALL</span></span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the users <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> mount <span class=\"keyword\">and</span> unmount the</span><br><span class=\"line\">## cdrom as root</span><br><span class=\"line\"># %users  <span class=\"keyword\">ALL</span>=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom</span><br><span class=\"line\"></span><br><span class=\"line\">## Allows members <span class=\"keyword\">of</span> the users <span class=\"keyword\">group</span> <span class=\"keyword\">to</span> shutdown this system</span><br><span class=\"line\"># %users  localhost=/sbin/shutdown -h now</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示用户与用户组的信息 - <strong>id</strong>。</p>\n</li>\n<li><p>给其他用户发消息 -<strong>write</strong> / <strong>wall</strong>。</p>\n<p>发送方：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# write hellokitty</span><br><span class=\"line\">Dinner is on me.</span><br><span class=\"line\">Call me at 6pm.</span><br></pre></td></tr></table></figure>\n\n<p>接收方：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$</span><br><span class=\"line\">Message from root on pts/0 at 17:41 ...</span><br><span class=\"line\">Dinner is on me.</span><br><span class=\"line\">Call me at 6pm.</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看/设置是否接收其他用户发送的消息 - <strong>mesg</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[hellokitty ~]$ mesg</span><br><span class=\"line\">is y</span><br><span class=\"line\">[hellokitty ~]$ mesg n</span><br><span class=\"line\">[hellokitty ~]$ mesg</span><br><span class=\"line\">is n</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"文件系统\"><a href=\"#文件系统\" class=\"headerlink\" title=\"文件系统\"></a>文件系统</h3><h4 id=\"文件和路径\"><a href=\"#文件和路径\" class=\"headerlink\" title=\"文件和路径\"></a>文件和路径</h4><ol>\n<li>命名规则：文件名的最大长度与文件系统类型有关，一般情况下，文件名不应该超过255个字符，虽然绝大多数的字符都可以用于文件名，但是最好使用英文大小写字母、数字、下划线、点这样的符号。文件名中虽然可以使用空格，但应该尽可能避免使用空格，否则在输入文件名时需要用将文件名放在双引号中或者通过<code>\\</code>对空格进行转义。</li>\n<li>扩展名：在Linux系统下文件的扩展名是可选的，但是使用扩展名有助于对文件内容的理解。有些应用程序要通过扩展名来识别文件，但是更多的应用程序并不依赖文件的扩展名，就像<code>file</code>命令在识别文件时并不是依据扩展名来判定文件的类型。</li>\n<li>隐藏文件：以点开头的文件在Linux系统中是隐藏文件（不可见文件）。</li>\n</ol>\n<h4 id=\"目录结构\"><a href=\"#目录结构\" class=\"headerlink\" title=\"目录结构\"></a>目录结构</h4><ol>\n<li>/bin - 基本命令的二进制文件。</li>\n<li>/boot - 引导加载程序的静态文件。</li>\n<li>/dev - 设备文件。</li>\n<li><strong>/etc</strong> - 配置文件。</li>\n<li>/home - 普通用户主目录的父目录。</li>\n<li>/lib - 共享库文件。</li>\n<li>/lib64 - 共享64位库文件。</li>\n<li>/lost+found - 存放未链接文件。</li>\n<li>/media - 自动识别设备的挂载目录。</li>\n<li>/mnt - 临时挂载文件系统的挂载点。</li>\n<li>/opt - 可选插件软件包安装位置。</li>\n<li>/proc -  内核和进程信息。</li>\n<li><strong>/root</strong> - 超级管理员用户主目录。</li>\n<li>/run - 存放系统运行时需要的东西。</li>\n<li>/sbin - 超级用户的二进制文件。</li>\n<li>/sys - 设备的伪文件系统。</li>\n<li>/tmp - 临时文件夹。</li>\n<li><strong>/usr</strong> - 用户应用目录。</li>\n<li>/var - 变量数据目录。</li>\n</ol>\n<h4 id=\"访问权限\"><a href=\"#访问权限\" class=\"headerlink\" title=\"访问权限\"></a>访问权限</h4><ol>\n<li><p><strong>chmod</strong> - 改变文件模式比特。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chmod g+w,o+w sohu.html</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-rw-rw-  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chmod 644 sohu.html</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：通过上面的例子可以看出，用<code>chmod</code>改变文件模式比特有两种方式：一种是字符设定法，另一种是数字设定法。除了<code>chmod</code>之外，可以通过<code>umask</code>来设定哪些权限将在新文件的默认权限中被删除。</p>\n</blockquote>\n<p>长格式查看目录或文件时显示结果及其对应权限的数值如下表所示。</p>\n</li>\n</ol>\n<p><img src=\"/images/pasted-14.png\" alt=\"upload successful\"></p>\n<ol start=\"2\">\n<li><p><strong>chown</strong> - 改变文件所有者。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 root root     54 Jun 20 10:06 readme.txt</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# chown hellokitty readme.txt</span><br><span class=\"line\">[root ~]# ls -l</span><br><span class=\"line\">...</span><br><span class=\"line\">-rw-r--r--  1 hellokitty root     54 Jun 20 10:06 readme.txt</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>chgrp</strong> - 改变用户组。</p>\n</li>\n</ol>\n<h4 id=\"磁盘管理\"><a href=\"#磁盘管理\" class=\"headerlink\" title=\"磁盘管理\"></a>磁盘管理</h4><ol>\n<li><p>列出文件系统的磁盘使用状况 - <strong>df</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# df -h</span><br><span class=\"line\">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class=\"line\">/dev/vda1        40G  5.0G   33G  14% /</span><br><span class=\"line\">devtmpfs        486M     0  486M   0% /dev</span><br><span class=\"line\">tmpfs           497M     0  497M   0% /dev/shm</span><br><span class=\"line\">tmpfs           497M  356K  496M   1% /run</span><br><span class=\"line\">tmpfs           497M     0  497M   0% /sys/fs/cgroup</span><br><span class=\"line\">tmpfs           100M     0  100M   0% /run/user/0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>磁盘分区表操作 - <strong>fdisk</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# fdisk -l</span><br><span class=\"line\">Disk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors</span><br><span class=\"line\">Units = sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class=\"line\">Disk label type: dos</span><br><span class=\"line\">Disk identifier: 0x000a42f4</span><br><span class=\"line\">   Device Boot      Start         End      Blocks   Id  System</span><br><span class=\"line\">/dev/vda1   *        2048    83884031    41940992   83  Linux</span><br><span class=\"line\">Disk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class=\"line\">Units = sectors of 1 * 512 = 512 bytes</span><br><span class=\"line\">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class=\"line\">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>磁盘分区工具 - <strong>parted</strong>。</p>\n</li>\n<li><p>格式化文件系统 - <strong>mkfs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mkfs -t ext4 -v /dev/sdb</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-t</code> - 指定文件系统的类型。</li>\n<li><code>-c</code> - 创建文件系统时检查磁盘损坏情况。</li>\n<li><code>-v</code> - 显示详细信息。</li>\n</ul>\n</li>\n<li><p>文件系统检查 - <strong>fsck</strong>。</p>\n</li>\n<li><p>转换或拷贝文件 - <strong>dd</strong>。</p>\n</li>\n<li><p>挂载/卸载 - <strong>mount</strong> / <strong>umount</strong>。</p>\n</li>\n<li><p>创建/激活/关闭交换分区 - <strong>mkswap</strong> / <strong>swapon</strong> / <strong>swapoff</strong>。</p>\n</li>\n</ol>\n<blockquote>\n<p>说明：执行上面这些命令会带有一定的风险，如果不清楚这些命令的用法，最好不用随意使用，在使用的过程中，最好对照参考资料进行操作，并在操作前确认是否要这么做。</p>\n</blockquote>\n<h3 id=\"编辑器-vim\"><a href=\"#编辑器-vim\" class=\"headerlink\" title=\"编辑器 - vim\"></a>编辑器 - vim</h3><ol>\n<li><p>启动vim。可以通过<code>vi</code>或<code>vim</code>命令来启动vim，启动时可以指定文件名来打开一个文件，如果没有指定文件名，也可以在保存的时候指定文件名。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim guess.py</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>命令模式、编辑模式和末行模式：启动vim进入的是命令模式（也称为Normal模式），在命令模式下输入英文字母<code>i</code>会进入编辑模式（Insert模式），屏幕下方出现<code>-- INSERT --</code>提示；在编辑模式下按下<code>Esc</code>会回到命令模式，此时如果输入英文<code>:</code>会进入末行模式，在末行模式下输入<code>q!</code>可以在不保存当前工作的情况下强行退出vim；在命令模式下输入<code>v</code>会进入可视模式（Visual模式），可以用光标选择一个区域再完成对应的操作。</p>\n</li>\n<li><p>保存和退出vim：在命令模式下输入<code>:</code> 进入末行模式，输入<code>wq</code>可以实现保存退出；如果想放弃编辑的内容输入<code>q!</code>强行退出，这一点刚才已经提到过了；在命令模式下也可以直接输入<code>ZZ</code>实现保存退出。如果只想保存文件不退出，那么可以在末行模式下输入<code>w</code>；可以在<code>w</code>后面输入空格再指定要保存的文件名。</p>\n</li>\n<li><p>光标操作。</p>\n<ul>\n<li>在命令模式下可以通过<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>来控制光标向左、下、上、右的方向移动，可以在字母前输入数字来表示移动的距离，例如：<code>10h</code>表示向左移动10个字符。</li>\n<li>在命令模式下可以通过<code>Ctrl+y</code>和<code>Ctrl+e</code>来实现向上、向下滚动一行文本的操作，可以通过<code>Ctrl+f</code>和<code>Ctrl+b</code>来实现向前和向后翻页的操作。</li>\n<li>在命令模式下可以通过输入英文字母<code>G</code>将光标移到文件的末尾，可以通过<code>gg</code>将光标移到文件的开始，也可以通过在<code>G</code>前输入数字来将光标移动到指定的行。</li>\n</ul>\n</li>\n<li><p>文本操作。</p>\n<ul>\n<li>删除：在命令模式下可以用<code>dd</code>来删除整行；可以在<code>dd</code>前加数字来指定删除的行数；可以用<code>d$</code>来实现删除从光标处删到行尾的操作，也可以通过<code>d0</code>来实现从光标处删到行首的操作；如果想删除一个单词，可以使用<code>dw</code>；如果要删除全文，可以在输入<code>:%d</code>（其中<code>:</code>用来从命令模式进入末行模式）。</li>\n<li>复制和粘贴：在命令模式下可以用<code>yy</code>来复制整行；可以在<code>yy</code>前加数字来指定复制的行数；可以通过<code>p</code>将复制的内容粘贴到光标所在的地方。</li>\n<li>撤销和恢复：在命令模式下输入<code>u</code>可以撤销之前的操作；通过<code>Ctrl+r</code>可以恢复被撤销的操作。</li>\n<li>对内容进行排序：在命令模式下输入<code>%!sort</code>。</li>\n</ul>\n</li>\n<li><p>查找和替换。</p>\n<ul>\n<li>查找操作需要输入<code>/</code>进入末行模式并提供正则表达式来匹配与之对应的内容，例如：<code>/doc.*\\.</code>，输入<code>n</code>来向前搜索，也可以输入<code>N</code>来向后搜索。</li>\n<li>替换操作需要输入<code>:</code>进入末行模式并指定搜索的范围、正则表达式以及替换后的内容和匹配选项，例如：<code>:1,$s/doc.*/hello/gice</code>，其中：<ul>\n<li><code>g</code> - global：全局匹配。</li>\n<li><code>i</code> - ignore case：忽略大小写匹配。</li>\n<li><code>c</code> - confirm：替换时需要确认。</li>\n<li><code>e</code> - error：忽略错误。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>参数设定：在输入<code>:</code>进入末行模式后可以对vim进行设定。</p>\n<ul>\n<li><p>设置Tab键的空格数：<code>set ts=4</code></p>\n</li>\n<li><p>设置显示/不显示行号：<code>set nu</code> / <code>set nonu</code></p>\n</li>\n<li><p>设置启用/关闭高亮语法：<code>syntax on</code> / <code>syntax off</code></p>\n</li>\n<li><p>设置显示标尺（光标所在的行和列）： <code>set ruler</code></p>\n</li>\n<li><p>设置启用/关闭搜索结果高亮：<code>set hls</code> / <code>set nohls</code></p>\n<blockquote>\n<p>说明：如果希望上面的这些设定在每次启动vim时都能自动生效，需要将这些设定写到用户主目录下的.vimrc文件中。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p>高级技巧</p>\n<ul>\n<li><p>比较多个文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim -d foo.txt bar.txt</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"/images/pasted-15.png\" alt=\"upload successful\"></p>\n<ul>\n<li><p>打开多个文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vim foo.txt bar.txt hello.txt</span><br></pre></td></tr></table></figure>\n\n<p>启动vim后只有一个窗口显示的是foo.txt，可以在末行模式中输入<code>ls</code>查看到打开的三个文件，也可以在末行模式中输入<code>b &lt;num&gt;</code>来显示另一个文件，例如可以用<code>:b 2</code>将bar.txt显示出来，可以用<code>:b 3</code>将hello.txt显示出来。</p>\n</li>\n<li><p>拆分和切换窗口。</p>\n<p>可以在末行模式中输入<code>sp</code>或<code>vs</code>来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次<code>Ctrl+w</code>就可以实现编辑窗口的切换，在一个窗口中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。</p>\n</li>\n</ul>\n<p><img src=\"/images/pasted-12.png\" alt=\"upload successful\"></p>\n<ul>\n<li><p>映射快捷键：在vim下可以将一些常用操作映射为快捷键来提升工作效率。</p>\n<ul>\n<li><p>例子1：在命令模式下输入<code>F4</code>执行从第一行开始删除10000行代码的操作。</p>\n<p><code>:map &lt;F4&gt; gg10000dd</code>。</p>\n<p>例子2：在编辑模式下输入<code>__main</code>直接补全为<code>if __name__ == &#39;__main__&#39;:</code>。</p>\n<p><code>:inoremap __main if __name__ == &#39;__main__&#39;:</code></p>\n</li>\n</ul>\n<blockquote>\n<p>说明：上面例子2的<code>inoremap</code>中的<code>i</code>表示映射的键在编辑模式使用， <code>nore</code>表示不要递归，这一点非常重要，否则如果键对应的内容中又出现键本身，就会引发递归（相当于进入了死循环）。如果希望映射的快捷键每次启动vim时都能生效，需要将映射写到用户主目录下的.vimrc文件中。</p>\n</blockquote>\n</li>\n<li><p>录制宏。</p>\n<ul>\n<li><p>在命令模式下输入<code>qa</code>开始录制宏（其中<code>a</code>是寄存器的名字，也可以是其他英文字母或0-9的数字）。</p>\n</li>\n<li><p>执行你的操作（光标操作、编辑操作等），这些操作都会被录制下来。</p>\n</li>\n<li><p>如果录制的操作已经完成了，按<code>q</code>结束录制。</p>\n</li>\n<li><p>通过<code>@a</code>（<code>a</code>是刚才使用的寄存器的名字）播放宏，如果要多次执行宏可以在前面加数字，例如<code>100@a</code>表示将宏播放100次。</p>\n</li>\n<li><p>可以试一试下面的例子来体验录制宏的操作，该例子来源于<a href=\"https://harttle.land/tags.html#Vim\" target=\"_blank\" rel=\"noopener\">Harttle Land网站</a>，该网站上提供了很多关于vim的使用技巧，有兴趣的可以了解一下。</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/pasted-13.png\" alt=\"upload successful\"></p>\n<h3 id=\"软件安装和配置\"><a href=\"#软件安装和配置\" class=\"headerlink\" title=\"软件安装和配置\"></a>软件安装和配置</h3><h4 id=\"使用包管理工具\"><a href=\"#使用包管理工具\" class=\"headerlink\" title=\"使用包管理工具\"></a>使用包管理工具</h4><ol>\n<li><strong>yum</strong> - Yellowdog Updater Modified。<ul>\n<li><code>yum search</code>：搜索软件包，例如<code>yum search nginx</code>。</li>\n<li><code>yum list installed</code>：列出已经安装的软件包，例如<code>yum list installed | grep zlib</code>。</li>\n<li><code>yum install</code>：安装软件包，例如<code>yum install nginx</code>。</li>\n<li><code>yum remove</code>：删除软件包，例如<code>yum remove nginx</code>。</li>\n<li><code>yum update</code>：更新软件包，例如<code>yum update</code>可以更新所有软件包，而<code>yum update tar</code>只会更新tar。</li>\n<li><code>yum check-update</code>：检查有哪些可以更新的软件包。</li>\n<li><code>yum info</code>：显示软件包的相关信息，例如<code>yum info nginx</code>。</li>\n</ul>\n</li>\n<li><strong>rpm</strong> - Redhat Package Manager。<ul>\n<li>安装软件包：<code>rpm -ivh &lt;packagename&gt;.rpm</code>。</li>\n<li>移除软件包：<code>rpm -e &lt;packagename&gt;</code>。</li>\n<li>查询软件包：<code>rpm -qa</code>，例如可以用<code>rpm -qa | grep mysql</code>来检查是否安装了MySQL相关的软件包。</li>\n</ul>\n</li>\n</ol>\n<p>下面以Nginx为例，演示如何使用yum安装软件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum -y install nginx</span><br><span class=\"line\">...</span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  nginx.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">Dependency Installed:</span><br><span class=\"line\">  nginx-all-modules.noarch 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-mail.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">  nginx-mod-stream.x86_64 1:1.12.2-2.el7</span><br><span class=\"line\">Complete!</span><br><span class=\"line\">[root ~]# yum info nginx</span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\">Installed Packages</span><br><span class=\"line\">Name        : nginx</span><br><span class=\"line\">Arch        : x86_64</span><br><span class=\"line\">Epoch       : 1</span><br><span class=\"line\">Version     : 1.12.2</span><br><span class=\"line\">Release     : 2.el7</span><br><span class=\"line\">Size        : 1.5 M</span><br><span class=\"line\">Repo        : installed</span><br><span class=\"line\">From repo   : epel</span><br><span class=\"line\">Summary     : A high performance web server and reverse proxy server</span><br><span class=\"line\">URL         : http://nginx.org/</span><br><span class=\"line\">License     : BSD</span><br><span class=\"line\">Description : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and</span><br><span class=\"line\">            : IMAP protocols, with a strong focus on high concurrency, performance and low</span><br><span class=\"line\">            : memory usage.</span><br><span class=\"line\">[root ~]# nginx -v</span><br><span class=\"line\">nginx version: nginx/1.12.2</span><br></pre></td></tr></table></figure>\n\n<p>移除Nginx。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum -y remove nginx</span><br></pre></td></tr></table></figure>\n\n<p>下面以MySQL为例，演示如何使用rpm安装软件。要安装MySQL需要先到<a href=\"https://www.mysql.com/\" target=\"_blank\" rel=\"noopener\">MySQL官方网站</a>下载对应的<a href=\"https://dev.mysql.com/downloads/mysql/\" target=\"_blank\" rel=\"noopener\">RPM文件</a>，当然要选择和你使用的Linux系统对应的版本。MySQL现在是Oracle公司旗下的产品，在MySQL被收购后，MySQL的作者重新制作了一个MySQL的分支MariaDB，可以通过yum进行安装。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root mysql]# ls</span><br><span class=\"line\">mysql-community-client-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-common-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-libs-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">mysql-community-server-5.7.22-1.el7.x86_64.rpm</span><br><span class=\"line\">[root mysql]# yum -y remove mariadb-libs</span><br><span class=\"line\">[root mysql]# yum -y install libaio</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br><span class=\"line\">[root mysql]#rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：由于MySQL和<a href=\"https://mariadb.org/\" target=\"_blank\" rel=\"noopener\">MariaDB</a>的底层依赖库是有冲突的，所以上面我们首先用<code>yum</code>移除了名为mariadb-libs的依赖库并安装了名为libaio支持异步I/O操作的依赖库。关于MySQL和MariaDB之间的关系，可以阅读<a href=\"https://zh.wikipedia.org/wiki/MariaDB\" target=\"_blank\" rel=\"noopener\">维基百科</a>上关于MariaDB的介绍。</p>\n</blockquote>\n<p>移除安装的MySQL。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# rpm -qa | grep mysql | xargs rpm -e</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"下载解压配置环境变量\"><a href=\"#下载解压配置环境变量\" class=\"headerlink\" title=\"下载解压配置环境变量\"></a>下载解压配置环境变量</h4><p>下面以安装MongoDB为例，演示这类软件应该如何安装。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">--2018-06-21 18:32:53--  https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">Resolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...</span><br><span class=\"line\">Connecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.</span><br><span class=\"line\">HTTP request sent, awaiting response... 200 OK</span><br><span class=\"line\">Length: 100564462 (96M) [application/x-gzip]</span><br><span class=\"line\">Saving to: ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’</span><br><span class=\"line\"><span class=\"meta\">100%</span><span class=\"bash\">[==================================================&gt;] 100,564,462  630KB/s   <span class=\"keyword\">in</span> 2m 9s</span></span><br><span class=\"line\">2018-06-21 18:35:04 (760 KB/s) - ‘mongodb-linux-x86_64-rhel70-3.6.5.tgz’ saved [100564462/100564462]</span><br><span class=\"line\">[root ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz</span><br><span class=\"line\">[root ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tar</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/README</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICES</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/MPL-2</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongodump</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestore</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexport</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimport</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongostat</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongotop</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/bsondump</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongofiles</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplay</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperf</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongod</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongos</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/mongo</span><br><span class=\"line\">mongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass</span><br><span class=\"line\">[root ~]# vim .bash_profile</span><br><span class=\"line\">...</span><br><span class=\"line\">PATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/bin</span><br><span class=\"line\">export PATH</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# source .bash_profile</span><br><span class=\"line\">[root ~]# mongod --version</span><br><span class=\"line\">db version v3.6.5</span><br><span class=\"line\">git version: a20ecd3e3a174162052ff99913bc2ca9a839d618</span><br><span class=\"line\">OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013</span><br><span class=\"line\">allocator: tcmalloc</span><br><span class=\"line\">modules: none</span><br><span class=\"line\">build environment:</span><br><span class=\"line\">    distmod: rhel70</span><br><span class=\"line\">    distarch: x86_64</span><br><span class=\"line\">    target_arch: x86_64</span><br><span class=\"line\">[root ~]# mongo --version</span><br><span class=\"line\">MongoDB shell version v3.6.5</span><br><span class=\"line\">git version: a20ecd3e3a174162052ff99913bc2ca9a839d618</span><br><span class=\"line\">OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013</span><br><span class=\"line\">allocator: tcmalloc</span><br><span class=\"line\">modules: none</span><br><span class=\"line\">build environment:</span><br><span class=\"line\">    distmod: rhel70</span><br><span class=\"line\">    distarch: x86_64</span><br><span class=\"line\">    target_arch: x86_64</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：当然也可以通过yum来安装MongoDB，具体可以参照<a href=\"https://docs.mongodb.com/master/administration/install-on-linux/\" target=\"_blank\" rel=\"noopener\">官方网站</a>上给出的说明。</p>\n</blockquote>\n<h4 id=\"源代码构建安装\"><a href=\"#源代码构建安装\" class=\"headerlink\" title=\"源代码构建安装\"></a>源代码构建安装</h4><ol>\n<li><p>安装Python 3.6。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# yum install gcc</span><br><span class=\"line\">[root ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz</span><br><span class=\"line\">[root ~]# gunzip Python-3.6.5.tgz</span><br><span class=\"line\">[root ~]# tar -xvf Python-3.6.5.tar</span><br><span class=\"line\">[root ~]# cd Python-3.6.5</span><br><span class=\"line\">[root ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations</span><br><span class=\"line\">[root ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</span><br><span class=\"line\">[root ~]# make &amp;&amp; make install</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3</span><br><span class=\"line\">[root ~]# python3 --version</span><br><span class=\"line\">Python 3.6.5</span><br><span class=\"line\">[root ~]# python3 -m pip install -U pip</span><br><span class=\"line\">[root ~]# pip3 --version</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：上面在安装好Python之后还需要注册PATH环境变量，将Python安装路径下bin文件夹的绝对路径注册到PATH环境变量中。注册环境变量可以修改用户主目录下的.bash_profile或者/etc目录下的profile文件，二者的区别在于前者相当于是用户环境变量，而后者相当于是系统环境变量。</p>\n</blockquote>\n</li>\n<li><p>安装Redis-3.2.12。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz</span><br><span class=\"line\">[root ~]# gunzip redis-3.2.12.tar.gz</span><br><span class=\"line\">[root ~]# tar -xvf redis-3.2.12.tar</span><br><span class=\"line\">[root ~]# cd redis-3.2.12</span><br><span class=\"line\">[root ~]# make &amp;&amp; make install</span><br><span class=\"line\">[root ~]# redis-server --version</span><br><span class=\"line\">Redis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6</span><br><span class=\"line\">[root ~]# redis-cli --version</span><br><span class=\"line\">redis-cli 3.2.12</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"配置服务\"><a href=\"#配置服务\" class=\"headerlink\" title=\"配置服务\"></a>配置服务</h3><p>我们可以Linux系统下安装和配置各种服务，也就是说我们可以把Linux系统打造成数据库服务器、Web服务器、缓存服务器、文件服务器、消息队列服务器等等。Linux下的大多数服务都被设置为守护进程（驻留在系统后台运行，但不会因为服务还在运行而导致Linux无法停止运行），所以我们安装的服务通常名字后面都有一个字母<code>d</code>，它是英文单词<code>daemon</code>的缩写，例如：防火墙服务叫firewalld，我们之前安装的MySQL服务叫mysqld，Apache服务器叫httpd等。在安装好服务之后，可以使用<code>systemctl</code>命令或<code>service</code>命令来完成对服务的启动、停止等操作，具体操作如下所示。</p>\n<ol>\n<li><p>启动防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl start firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>终止防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl stop firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启防火墙服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl restart firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看防火墙服务状态。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl status firewalld</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置/禁用防火墙服务开机自启。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# systemctl enable firewalld</span><br><span class=\"line\">Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.</span><br><span class=\"line\">Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.</span><br><span class=\"line\">[root ~]# systemctl disable firewalld</span><br><span class=\"line\">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class=\"line\">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"计划任务\"><a href=\"#计划任务\" class=\"headerlink\" title=\"计划任务\"></a>计划任务</h3><ol>\n<li><p>在指定的时间执行命令</p>\n<ul>\n<li><strong>at</strong> - 将任务排队，在指定的时间执行。</li>\n<li><strong>atq</strong> - 查看待执行的任务队列。</li>\n<li><strong>atrm</strong> - 从队列中删除待执行的任务。</li>\n</ul>\n<p>指定3天以后下午5点要执行的任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# at 5pm+3days</span><br><span class=\"line\"><span class=\"meta\">at&gt;</span><span class=\"bash\"> rm -f /root/*.html</span></span><br><span class=\"line\"><span class=\"meta\">at&gt;</span><span class=\"bash\"> &lt;EOT&gt;</span></span><br><span class=\"line\">job 9 at Wed Jun  5 17:00:00 2019</span><br></pre></td></tr></table></figure>\n\n<p>查看待执行的任务队列。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# atq</span><br><span class=\"line\">9       Wed Jun  5 17:00:00 2019 a root</span><br></pre></td></tr></table></figure>\n\n<p>从队列中删除指定的任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ atrm 9</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>计划任务表 - <strong>crontab</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# crontab -e</span><br><span class=\"line\">* * * * * echo \"hello, world!\" &gt;&gt; /root/hello.txt</span><br><span class=\"line\">59 23 * * * rm -f /root/*.log</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：输入<code>crontab -e</code>命令会打开vim来编辑Cron表达式并指定触发的任务，上面我们定制了两个计划任务，一个是每分钟向/root目录下的hello.txt中追加输出<code>hello, world!</code>；另一个是每天23时59分执行删除/root目录下以log为后缀名的文件。如果不知道Cron表达式如何书写，可以参照/etc/crontab文件中的提示（下面会讲到）或者用搜索引擎找一下“Cron表达式在线生成器”来生成Cron表达式。</p>\n</blockquote>\n<p>和crontab相关的文件在<code>/etc</code>目录下，通过修改<code>/etc</code>目录下的crontab文件也能够定制计划任务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# cd /etc</span><br><span class=\"line\">[root etc]# ls -l | grep cron</span><br><span class=\"line\">-rw-------.  1 root root      541 Aug  3  2017 anacrontab</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:56 cron.d</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:51 cron.daily</span><br><span class=\"line\">-rw-------.  1 root root        0 Aug  3  2017 cron.deny</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Mar 27 11:50 cron.hourly</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.monthly</span><br><span class=\"line\">-rw-r--r--   1 root root      493 Jun 23 15:09 crontab</span><br><span class=\"line\">drwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.weekly</span><br><span class=\"line\">[root etc]# vim crontab</span><br><span class=\"line\">  1 SHELL=/bin/bash</span><br><span class=\"line\">  2 PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class=\"line\">  3 MAILTO=root</span><br><span class=\"line\">  4</span><br><span class=\"line\">  5 # For details see man 4 crontabs</span><br><span class=\"line\">  6</span><br><span class=\"line\">  7 # Example of job definition:</span><br><span class=\"line\">  8 # .---------------- minute (0 - 59)</span><br><span class=\"line\">  9 # |  .------------- hour (0 - 23)</span><br><span class=\"line\"> 10 # |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> 11 # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> 12 # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> 13 # |  |  |  |  |</span><br><span class=\"line\"> 14 # *  *  *  *  * user-name  command to be executed</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"网络访问和管理\"><a href=\"#网络访问和管理\" class=\"headerlink\" title=\"网络访问和管理\"></a>网络访问和管理</h3><ol>\n<li><p>安全远程连接 - <strong>ssh</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ ssh root@120.77.222.217</span><br><span class=\"line\">The authenticity of host '120.77.222.217 (120.77.222.217)' can't be established.</span><br><span class=\"line\">ECDSA key fingerprint is SHA256:BhUhykv+FvnIL03I9cLRpWpaCxI91m9n7zBWrcXRa8w.</span><br><span class=\"line\">ECDSA key fingerprint is MD5:cc:85:e9:f0:d7:07:1a:26:41:92:77:6b:7f:a0:92:65.</span><br><span class=\"line\">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class=\"line\">Warning: Permanently added '120.77.222.217' (ECDSA) to the list of known hosts.</span><br><span class=\"line\">root@120.77.222.217's password:</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过网络获取资源 - <strong>wget</strong>。</p>\n<ul>\n<li>-b 后台下载模式</li>\n<li>-O 下载到指定的目录</li>\n<li>-r 递归下载</li>\n</ul>\n</li>\n<li><p>发送和接收邮件 - <strong>mail</strong>。</p>\n</li>\n<li><p>网络配置工具（旧） - <strong>ifconfig</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ifconfig eth0</span><br><span class=\"line\">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class=\"line\">        inet 172.18.61.250  netmask 255.255.240.0  broadcast 172.18.63.255</span><br><span class=\"line\">        ether 00:16:3e:02:b6:46  txqueuelen 1000  (Ethernet)</span><br><span class=\"line\">        RX packets 1067841  bytes 1296732947 (1.2 GiB)</span><br><span class=\"line\">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class=\"line\">        TX packets 409912  bytes 43569163 (41.5 MiB)</span><br><span class=\"line\">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络配置工具（新） - <strong>ip</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ip address</span><br><span class=\"line\">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1</span><br><span class=\"line\">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class=\"line\">    inet 127.0.0.1/8 scope host lo</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br><span class=\"line\">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class=\"line\">    link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff</span><br><span class=\"line\">    inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0</span><br><span class=\"line\">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络可达性检查 - <strong>ping</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ping www.baidu.com -c 3</span><br><span class=\"line\">PING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms</span><br><span class=\"line\">64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms</span><br><span class=\"line\">--- www.a.shifen.com ping statistics ---</span><br><span class=\"line\">3 packets transmitted, 3 received, 0% packet loss, time 2002ms</span><br><span class=\"line\">rtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示或管理路由表 - <strong>route</strong>。</p>\n</li>\n<li><p>查看网络服务和端口 - <strong>netstat</strong> / <strong>ss</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# netstat -nap | grep nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>网络监听抓包 - <strong>tcpdump</strong>。</p>\n</li>\n<li><p>安全文件拷贝 - <strong>scp</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>文件同步工具 - <strong>rsync</strong>。</p>\n<blockquote>\n<p>说明：使用<code>rsync</code>可以实现文件的自动同步，这个对于文件服务器来说相当重要。关于这个命令的用法，我们在后面讲项目部署的时候为大家详细说明。</p>\n</blockquote>\n</li>\n<li><p>安全文件传输 - <strong>sftp</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sftp root@1.2.3.4</span><br><span class=\"line\">root@1.2.3.4's password:</span><br><span class=\"line\">Connected to 1.2.3.4.</span><br><span class=\"line\"><span class=\"meta\">sftp&gt;</span><span class=\"bash\"></span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>help</code>：显示帮助信息。</p>\n</li>\n<li><p><code>ls</code>/<code>lls</code>：显示远端/本地目录列表。</p>\n</li>\n<li><p><code>cd</code>/<code>lcd</code>：切换远端/本地路径。</p>\n</li>\n<li><p><code>mkdir</code>/<code>lmkdir</code>：创建远端/本地目录。</p>\n</li>\n<li><p><code>pwd</code>/<code>lpwd</code>：显示远端/本地当前工作目录。</p>\n</li>\n<li><p><code>get</code>：下载文件。</p>\n</li>\n<li><p><code>put</code>：上传文件。</p>\n</li>\n<li><p><code>rm</code>：删除远端文件。</p>\n</li>\n<li><p><code>bye</code>/<code>exit</code>/<code>quit</code>：退出sftp。</p>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h3><ol>\n<li><p>查看进程 - <strong>ps</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ps -ef</span><br><span class=\"line\">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class=\"line\">root         1     0  0 Jun23 ?        00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21</span><br><span class=\"line\">root         2     0  0 Jun23 ?        00:00:00 [kthreadd]</span><br><span class=\"line\">...</span><br><span class=\"line\">[root ~]# ps -ef | grep mysqld</span><br><span class=\"line\">root      4943  4581  0 22:45 pts/0    00:00:00 grep --color=auto mysqld</span><br><span class=\"line\">mysql    25257     1  0 Jun25 ?        00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示进程状态树 - <strong>pstree</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pstree</span><br><span class=\"line\">systemd─┬─AliYunDun───18*[&#123;AliYunDun&#125;]</span><br><span class=\"line\">        ├─AliYunDunUpdate───3*[&#123;AliYunDunUpdate&#125;]</span><br><span class=\"line\">        ├─2*[agetty]</span><br><span class=\"line\">        ├─aliyun-service───2*[&#123;aliyun-service&#125;]</span><br><span class=\"line\">        ├─atd</span><br><span class=\"line\">        ├─auditd───&#123;auditd&#125;</span><br><span class=\"line\">        ├─dbus-daemon</span><br><span class=\"line\">        ├─dhclient</span><br><span class=\"line\">        ├─irqbalance</span><br><span class=\"line\">        ├─lvmetad</span><br><span class=\"line\">        ├─mysqld───28*[&#123;mysqld&#125;]</span><br><span class=\"line\">        ├─nginx───2*[nginx]</span><br><span class=\"line\">        ├─ntpd</span><br><span class=\"line\">        ├─polkitd───6*[&#123;polkitd&#125;]</span><br><span class=\"line\">        ├─rsyslogd───2*[&#123;rsyslogd&#125;]</span><br><span class=\"line\">        ├─sshd───sshd───bash───pstree</span><br><span class=\"line\">        ├─systemd-journal</span><br><span class=\"line\">        ├─systemd-logind</span><br><span class=\"line\">        ├─systemd-udevd</span><br><span class=\"line\">        └─tuned───4*[&#123;tuned&#125;]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查找与指定条件匹配的进程 - <strong>pgrep</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ pgrep mysqld</span><br><span class=\"line\">3584</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过进程号终止进程 - <strong>kill</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]$ kill -l</span><br><span class=\"line\"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP</span><br><span class=\"line\"> 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1</span><br><span class=\"line\">11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM</span><br><span class=\"line\">16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP</span><br><span class=\"line\">21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ</span><br><span class=\"line\">26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR</span><br><span class=\"line\">31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3</span><br><span class=\"line\">38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8</span><br><span class=\"line\">43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span><br><span class=\"line\">48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span><br><span class=\"line\">53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7</span><br><span class=\"line\">58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2</span><br><span class=\"line\">63) SIGRTMAX-1  64) SIGRTMAX</span><br><span class=\"line\">[root ~]# kill 1234</span><br><span class=\"line\">[root ~]# kill -9 1234</span><br></pre></td></tr></table></figure>\n\n<p>例子：用一条命令强制终止正在运行的Redis进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef | grep redis | grep -v grep | awk '&#123;print $2&#125;' | xargs kill</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>通过进程名终止进程 - <strong>killall</strong> / <strong>pkill</strong>。</p>\n<p> 结束名为mysqld的进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pkill mysqld</span><br></pre></td></tr></table></figure>\n\n<p> 结束hellokitty用户的所有进程。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pkill -u hellokitty</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这样的操作会让hellokitty用户和服务器断开连接。</p>\n</blockquote>\n</li>\n<li><p>将进程置于后台运行。</p>\n<ul>\n<li><code>Ctrl+Z</code> - 快捷键，用于停止进程并置于后台。</li>\n<li><code>&amp;</code> - 将进程置于后台运行。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mongod &amp;</span><br><span class=\"line\">[root ~]# redis-server</span><br><span class=\"line\">...</span><br><span class=\"line\">^Z</span><br><span class=\"line\">[4]+  Stopped                 redis-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查询后台进程 - <strong>jobs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# jobs</span><br><span class=\"line\">[2]   Running                 mongod &amp;</span><br><span class=\"line\">[3]-  Stopped                 cat</span><br><span class=\"line\">[4]+  Stopped                 redis-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>让进程在后台继续运行 - <strong>bg</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# bg %4</span><br><span class=\"line\">[4]+ redis-server &amp;</span><br><span class=\"line\">[root ~]# jobs</span><br><span class=\"line\">[2]   Running                 mongod &amp;</span><br><span class=\"line\">[3]+  Stopped                 cat</span><br><span class=\"line\">[4]-  Running                 redis-server &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>将后台进程置于前台 - <strong>fg</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# fg %4</span><br><span class=\"line\">redis-server</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：置于前台的进程可以使用<code>Ctrl+C</code>来终止它。</p>\n</blockquote>\n</li>\n<li><p>调整程序/进程运行时优先级 - <strong>nice</strong> / <strong>renice</strong>。</p>\n</li>\n<li><p>用户登出后进程继续工作 - <strong>nohup</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# nohup ping www.baidu.com &gt; result.txt &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>跟踪进程系统调用情况 - <strong>strace</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# pgrep mysqld</span><br><span class=\"line\">8803</span><br><span class=\"line\">[root ~]# strace -c -p 8803</span><br><span class=\"line\">strace: Process 8803 attached</span><br><span class=\"line\">^Cstrace: Process 8803 detached</span><br><span class=\"line\"><span class=\"meta\">%</span><span class=\"bash\"> time     seconds  usecs/call     calls    errors syscall</span></span><br><span class=\"line\">------ ----------- ----------- --------- --------- ----------------</span><br><span class=\"line\"> 99.18    0.005719        5719         1           restart_syscall</span><br><span class=\"line\">  0.49    0.000028          28         1           mprotect</span><br><span class=\"line\">  0.24    0.000014          14         1           clone</span><br><span class=\"line\">  0.05    0.000003           3         1           mmap</span><br><span class=\"line\">  0.03    0.000002           2         1           accept</span><br><span class=\"line\">------ ----------- ----------- --------- --------- ----------------</span><br><span class=\"line\">100.00    0.005766                     5           total</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>说明：这个命令的用法和参数都比较复杂，建议大家在真正用到这个命令的时候再根据实际需要进行了解。</p>\n</blockquote>\n</li>\n<li><p>查看当前运行级别 - <strong>runlevel</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# runlevel</span><br><span class=\"line\">N 3</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>实时监控进程占用资源状况 - <strong>top</strong>。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# top</span><br><span class=\"line\">top - 23:04:23 up 3 days, 14:10,  1 user,  load average: 0.00, 0.01, 0.05</span><br><span class=\"line\">Tasks:  65 total,   1 running,  64 sleeping,   0 stopped,   0 zombie</span><br><span class=\"line\"><span class=\"meta\">%</span><span class=\"bash\">Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span><br><span class=\"line\">KiB Mem :  1016168 total,   191060 free,   324700 used,   500408 buff/cache</span><br><span class=\"line\">KiB Swap:        0 total,        0 free,        0 used.   530944 avail Mem</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-c</code> - 显示进程的整个路径。</li>\n<li><code>-d</code> - 指定两次刷屏之间的间隔时间（秒为单位）。</li>\n<li><code>-i</code> - 不显示闲置进程或僵尸进程。</li>\n<li><code>-p</code> - 显示指定进程的信息。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"系统诊断\"><a href=\"#系统诊断\" class=\"headerlink\" title=\"系统诊断\"></a>系统诊断</h3><ol>\n<li><p>系统启动异常诊断 - <strong>dmesg</strong>。</p>\n</li>\n<li><p>查看系统活动信息 - <strong>sar</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# sar -u -r 5 10</span><br><span class=\"line\">Linux 3.10.0-957.10.1.el7.x86_64 (izwz97tbgo9lkabnat2lo8z)      06/02/2019      _x86_64_        (2 CPU)</span><br><span class=\"line\"></span><br><span class=\"line\">06:48:30 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle</span><br><span class=\"line\">06:48:35 PM     all      0.10      0.00      0.10      0.00      0.00     99.80</span><br><span class=\"line\"></span><br><span class=\"line\">06:48:30 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br><span class=\"line\">06:48:35 PM   1772012   2108392     54.33    102816   1634528    784940     20.23    793328   1164704         0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-A</code> - 显示所有设备（CPU、内存、磁盘）的运行状况。</li>\n<li><code>-u</code> - 显示所有CPU的负载情况。</li>\n<li><code>-d</code> - 显示所有磁盘的使用情况。</li>\n<li><code>-r</code> - 显示内存的使用情况。</li>\n<li><code>-n</code> - 显示网络运行状态。</li>\n</ul>\n</li>\n<li><p>查看内存使用情况 - <strong>free</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# free</span><br><span class=\"line\">              total        used        free      shared  buff/cache   available</span><br><span class=\"line\">Mem:        1016168      323924      190452         356      501792      531800</span><br><span class=\"line\">Swap:             0           0           0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>虚拟内存统计 - <strong>vmstat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# vmstat</span><br><span class=\"line\">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class=\"line\"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class=\"line\"> 2  0      0 204020  79036 667532    0    0     5    18  101   58  1  0 99  0  0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>CPU信息统计 - <strong>mpstat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# mpstat</span><br><span class=\"line\">Linux 3.10.0-957.5.1.el7.x86_64 (iZ8vba0s66jjlfmo601w4xZ)       05/30/2019      _x86_64_        (1 CPU)</span><br><span class=\"line\"></span><br><span class=\"line\">01:51:54 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle</span><br><span class=\"line\">01:51:54 AM  all    0.71    0.00    0.17    0.04    0.00    0.00    0.00    0.00    0.00   99.07</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看进程使用内存状况 - <strong>pmap</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ps</span><br><span class=\"line\">  PID TTY          TIME CMD</span><br><span class=\"line\"> 4581 pts/0    00:00:00 bash</span><br><span class=\"line\"> 5664 pts/0    00:00:00 ps</span><br><span class=\"line\">[root ~]# pmap 4581</span><br><span class=\"line\">4581:   -bash</span><br><span class=\"line\">0000000000400000    884K r-x-- bash</span><br><span class=\"line\">00000000006dc000      4K r---- bash</span><br><span class=\"line\">00000000006dd000     36K rw--- bash</span><br><span class=\"line\">00000000006e6000     24K rw---   [ anon ]</span><br><span class=\"line\">0000000001de0000    400K rw---   [ anon ]</span><br><span class=\"line\">00007f82fe805000     48K r-x-- libnss_files-2.17.so</span><br><span class=\"line\">00007f82fe811000   2044K ----- libnss_files-2.17.so</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>报告设备CPU和I/O统计信息 - <strong>iostat</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# iostat</span><br><span class=\"line\">Linux 3.10.0-693.11.1.el7.x86_64 (iZwz97tbgo9lkabnat2lo8Z)      06/26/2018      _x86_64_       (1 CPU)</span><br><span class=\"line\">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class=\"line\">           0.79    0.00    0.20    0.04    0.00   98.97</span><br><span class=\"line\">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn</span><br><span class=\"line\">vda               0.85         6.78        21.32    2106565    6623024</span><br><span class=\"line\">vdb               0.00         0.01         0.00       2088          0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示所有PCI设备 - <strong>lspci</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# lspci</span><br><span class=\"line\">00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)</span><br><span class=\"line\">00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II]</span><br><span class=\"line\">00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]</span><br><span class=\"line\">00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01)</span><br><span class=\"line\">00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03)</span><br><span class=\"line\">00:02.0 VGA compatible controller: Cirrus Logic GD 5446</span><br><span class=\"line\">00:03.0 Ethernet controller: Red Hat, Inc. Virtio network device</span><br><span class=\"line\">00:04.0 Communication controller: Red Hat, Inc. Virtio console</span><br><span class=\"line\">00:05.0 SCSI storage controller: Red Hat, Inc. Virtio block device</span><br><span class=\"line\">00:06.0 SCSI storage controller: Red Hat, Inc. Virtio block device</span><br><span class=\"line\">00:07.0 Unclassified device [00ff]: Red Hat, Inc. Virtio memory balloon</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>显示进程间通信设施的状态 - <strong>ipcs</strong>。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root ~]# ipcs</span><br><span class=\"line\"></span><br><span class=\"line\">------ Message Queues --------</span><br><span class=\"line\">key        msqid      owner      perms      used-bytes   messages</span><br><span class=\"line\"></span><br><span class=\"line\">------ Shared Memory Segments --------</span><br><span class=\"line\">key        shmid      owner      perms      bytes      nattch     status</span><br><span class=\"line\"></span><br><span class=\"line\">------ Semaphore Arrays --------</span><br><span class=\"line\">key        semid      owner      perms      nsems</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"Shell编程\"><a href=\"#Shell编程\" class=\"headerlink\" title=\"Shell编程\"></a>Shell编程</h3><p>之前我们提到过，Shell是一个连接用户和操作系统的应用程序，它提供了人机交互的界面（接口），用户通过这个界面访问操作系统内核的服务。Shell脚本是一种为Shell编写的脚本程序，我们可以通过Shell脚本来进行系统管理，同时也可以通过它进行文件操作。总之，编写Shell脚本对于使用Linux系统的人来说，应该是一项标配技能。</p>\n<p>互联网上有大量关于Shell脚本的相关知识，我不打算再此对Shell脚本做一个全面系统的讲解，我们通过下面的代码来感性的认识下Shell脚本就行了。</p>\n<p>例子1：输入两个整数m和n，计算从m到n的整数求和的结果。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">printf 'm = '</span><br><span class=\"line\">read m</span><br><span class=\"line\">printf 'n = '</span><br><span class=\"line\">read n</span><br><span class=\"line\">a=$m</span><br><span class=\"line\">sum=0</span><br><span class=\"line\">while [ $a -le $n ]</span><br><span class=\"line\">do</span><br><span class=\"line\">    sum=$[ sum + a ]</span><br><span class=\"line\">    a=$[ a + 1 ]</span><br><span class=\"line\">done</span><br><span class=\"line\">echo '结果: '$sum</span><br></pre></td></tr></table></figure>\n\n<p>例子2：自动创建文件夹和指定数量的文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">printf '输入文件名: '</span><br><span class=\"line\">read file</span><br><span class=\"line\">printf '输入文件数量(&lt;1000): '</span><br><span class=\"line\">read num</span><br><span class=\"line\">if [ $num -ge 1000 ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    echo '文件数量不能超过1000'</span><br><span class=\"line\">else</span><br><span class=\"line\">    if [ -e $dir -a -d $dir ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        rm -rf $dir</span><br><span class=\"line\">    else</span><br><span class=\"line\">        if [ -e $dir -a -f $dir ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            rm -f $dir</span><br><span class=\"line\">        fi</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    mkdir -p $dir</span><br><span class=\"line\">    index=1</span><br><span class=\"line\">    while [ $index -le $num ]</span><br><span class=\"line\">    do</span><br><span class=\"line\">        if [ $index -lt 10 ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            pre='00'</span><br><span class=\"line\">        elif [ $index -lt 100 ]</span><br><span class=\"line\">        then</span><br><span class=\"line\">            pre='0'</span><br><span class=\"line\">        else</span><br><span class=\"line\">            pre=''</span><br><span class=\"line\">        fi</span><br><span class=\"line\">        touch $dir'/'$file'_'$pre$index</span><br><span class=\"line\">        index=$[ index + 1 ]</span><br><span class=\"line\">    done</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n\n<p>例子3：自动安装指定版本的Redis。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/usr/bin/bash</span></span><br><span class=\"line\">install_redis() &#123;</span><br><span class=\"line\">    if ! which redis-server &gt; /dev/null</span><br><span class=\"line\">    then</span><br><span class=\"line\">        cd /root</span><br><span class=\"line\">        wget $1$2'.tar.gz' &gt;&gt; install.log</span><br><span class=\"line\">        gunzip /root/$2'.tar.gz'</span><br><span class=\"line\">        tar -xf /root/$2'.tar'</span><br><span class=\"line\">        cd /root/$2</span><br><span class=\"line\">        make &gt;&gt; install.log</span><br><span class=\"line\">        make install &gt;&gt; install.log</span><br><span class=\"line\">        echo '安装完成'</span><br><span class=\"line\">    else</span><br><span class=\"line\">        echo '已经安装过Redis'</span><br><span class=\"line\">    fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">install_redis 'http://download.redis.io/releases/' $1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"相关资源\"><a href=\"#相关资源\" class=\"headerlink\" title=\"相关资源\"></a>相关资源</h3><ol>\n<li><p>Linux命令行常用快捷键</p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>tab</td>\n<td>自动补全命令或路径</td>\n</tr>\n<tr>\n<td>Ctrl+a</td>\n<td>将光标移动到命令行行首</td>\n</tr>\n<tr>\n<td>Ctrl+e</td>\n<td>将光标移动到命令行行尾</td>\n</tr>\n<tr>\n<td>Ctrl+f</td>\n<td>将光标向右移动一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+b</td>\n<td>将光标向左移动一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+k</td>\n<td>剪切从光标到行尾的字符</td>\n</tr>\n<tr>\n<td>Ctrl+u</td>\n<td>剪切从光标到行首的字符</td>\n</tr>\n<tr>\n<td>Ctrl+w</td>\n<td>剪切光标前面的一个单词</td>\n</tr>\n<tr>\n<td>Ctrl+y</td>\n<td>复制剪切命名剪切的内容</td>\n</tr>\n<tr>\n<td>Ctrl+c</td>\n<td>中断正在执行的任务</td>\n</tr>\n<tr>\n<td>Ctrl+h</td>\n<td>删除光标前面的一个字符</td>\n</tr>\n<tr>\n<td>Ctrl+d</td>\n<td>退出当前命令行</td>\n</tr>\n<tr>\n<td>Ctrl+r</td>\n<td>搜索历史命令</td>\n</tr>\n<tr>\n<td>Ctrl+g</td>\n<td>退出历史命令搜索</td>\n</tr>\n<tr>\n<td>Ctrl+l</td>\n<td>清除屏幕上所有内容在屏幕的最上方开启一个新行</td>\n</tr>\n<tr>\n<td>Ctrl+s</td>\n<td>锁定终端使之暂时无法输入内容</td>\n</tr>\n<tr>\n<td>Ctrl+q</td>\n<td>退出终端锁定</td>\n</tr>\n<tr>\n<td>Ctrl+z</td>\n<td>将正在终端执行的任务停下来放到后台</td>\n</tr>\n<tr>\n<td>!!</td>\n<td>执行上一条命令</td>\n</tr>\n<tr>\n<td>!数字</td>\n<td>执行数字对应的历史命令</td>\n</tr>\n<tr>\n<td>!字母</td>\n<td>执行最近的以字母打头的命令</td>\n</tr>\n<tr>\n<td>!$ / Esc+.</td>\n<td>获得上一条命令最后一个参数</td>\n</tr>\n<tr>\n<td>Esc+b</td>\n<td>移动到当前单词的开头</td>\n</tr>\n<tr>\n<td>Esc+f</td>\n<td>移动到当前单词的结尾</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>man查阅命令手册的内容说明</p>\n<table>\n<thead>\n<tr>\n<th>手册中的标题</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>NAME</td>\n<td>命令的说明和介绍</td>\n</tr>\n<tr>\n<td>SYNOPSIS</td>\n<td>使用该命令的基本语法</td>\n</tr>\n<tr>\n<td>DESCRIPTION</td>\n<td>使用该命令的详细描述，各个参数的作用，有时候这些信息会出现在OPTIONS中</td>\n</tr>\n<tr>\n<td>OPTIONS</td>\n<td>命令相关参数选项的说明</td>\n</tr>\n<tr>\n<td>EXAMPLES</td>\n<td>使用该命令的参考例子</td>\n</tr>\n<tr>\n<td>EXIT STATUS</td>\n<td>命令结束的退出状态码，通常0表示成功执行</td>\n</tr>\n<tr>\n<td>SEE ALSO</td>\n<td>和命令相关的其他命令或信息</td>\n</tr>\n<tr>\n<td>BUGS</td>\n<td>和命令相关的缺陷的描述</td>\n</tr>\n<tr>\n<td>AUTHOR</td>\n<td>该命令的作者介绍</td>\n</tr>\n</tbody></table>\n<p> 本文非原创：内容转至 <a href=\"https://github.com/jackfrued/Python-100-Days/blob/master/Day31-35/31-35.玩转Linux操作系统.md\" target=\"_blank\" rel=\"noopener\">原文链接</a></p>\n</li>\n</ol>","popularPost_tmp_postPath":true,"eyeCatchImage":"/images/pasted-8.png","popularPost_tmp_gaData":{"updated":"Fri Oct 18 2019 16:05:22 GMT+0800 (GMT+08:00)","title":"玩转Linux操作系统","path":"2019/10/11/linux/玩转Linux操作系统/","eyeCatchImage":"/images/pasted-8.png","excerpt":"<blockquote>\n<p>说明：本文中对Linux命令的讲解都是基于名为CentOS的Linux发行版本，我自己使用的是阿里云服务器，系统版本为CentOS Linux release 7.6.1810。不同的Linux发行版本在Shell命令和工具程序上会有一些差别，但是这些差别是很小的。</p>\n</blockquote>\n<h3 id=\"操作系统发展史\"><a href=\"#操作系统发展史\" class=\"headerlink\" title=\"操作系统发展史\"></a>操作系统发展史</h3><p>只有硬件没有软件的计算机系统被称之为“裸机”，我们很难用“裸机”来完成计算机日常的工作（如存储和运算），所以必须用特定的软件来控制硬件的工作。最靠近计算机硬件的软件是系统软件，其中最为重要的就是“操作系统”。“操作系统”是控制和管理整个计算机硬件和软件资源、实现资源分配和任务调配、为系统用户以及其他软件提供接口和环境的程序的集合。</p>","date":"2019-10-11T08:14:40.000Z","pv":0,"totalPV":0,"categories":"Linux","tags":["Linux"],"internalLinks":[],"keywords":[],"keywordsLength":0}}],"PostAsset":[],"PostCategory":[{"post_id":"ck2d318wb0005gooocmae8hl8","category_id":"ck2d318wh0007gooofcb74wz3","_id":"ck2d318wr000hgoooo1ajgrbk"},{"post_id":"ck2d318wg0006gooomxu74nm5","category_id":"ck2d318wo000cgooo85gosdy9","_id":"ck2d318wu000ogooopne0gtek"},{"post_id":"ck2d318wj0009gooogqeosmou","category_id":"ck2d318wo000cgooo85gosdy9","_id":"ck2d318wx000tgooo1rtk9efu"},{"post_id":"ck2d318wl000agoooa4ibv41w","category_id":"ck2d318wo000cgooo85gosdy9","_id":"ck2d318wz000ygooocq7kqt7s"},{"post_id":"ck2d318wp000fgooonxo3v9bw","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318x20015gooo8ws6mdsv"},{"post_id":"ck2d318wq000ggoooi81o5wfs","category_id":"ck2d318wz000zgooouf9600sl","_id":"ck2d318x4001cgooohxhsgzxx"},{"post_id":"ck2d318ws000kgoooqgiy4fie","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318x5001ggooo5qujblbv"},{"post_id":"ck2d318wt000mgoool0a8ukin","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318x6001lgooo6ejgcpf1"},{"post_id":"ck2d318wv000pgooogro95m0b","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318x7001pgooo2zonzmw1"},{"post_id":"ck2d318ww000rgooolxd29495","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318x8001sgooo4iqz2c0r"},{"post_id":"ck2d318wy000ugooo0fwd7ylb","category_id":"ck2d318x7001ogooo9gbcioic","_id":"ck2d318x9001wgooomsp3jfnn"},{"post_id":"ck2d318wz000xgoooiwyx39oi","category_id":"ck2d318x8001tgooovem6c40s","_id":"ck2d318xa0020gooo2hdaammd"},{"post_id":"ck2d318x00011gooo303scjb1","category_id":"ck2d318x9001xgooor8dgtwd3","_id":"ck2d318xb0024gooougck3wkk"},{"post_id":"ck2d318x10014goooo7qqwxvj","category_id":"ck2d318x9001xgooor8dgtwd3","_id":"ck2d318xb0025gooopk87rax7"},{"post_id":"ck2d318x20018goookh9e5g0s","category_id":"ck2d318xb0023goooyzeyvchq","_id":"ck2d318xc0026gooo5r5jr68l"},{"post_id":"ck2d318xu0027gooohxov7dzj","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d318xw0028gooon3j1ienh"},{"post_id":"ck2d3190k0029goooeyo4hr76","category_id":"ck2d318wx000sgoooglnadnyc","_id":"ck2d3190l002bgooof28qc9n1"}],"PostTag":[{"post_id":"ck2d318wb0005gooocmae8hl8","tag_id":"ck2d318wj0008gooonpyvku0h","_id":"ck2d318wp000egooobg2w3t5g"},{"post_id":"ck2d318wg0006gooomxu74nm5","tag_id":"ck2d318wo000dgoooxxtqndwb","_id":"ck2d318wt000lgooop8wir5vs"},{"post_id":"ck2d318ww000rgooolxd29495","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d318wy000wgoookwmzctac"},{"post_id":"ck2d318wp000fgooonxo3v9bw","tag_id":"ck2d318ws000jgooo17v0a267","_id":"ck2d318x00010gooomct9g08i"},{"post_id":"ck2d318wp000fgooonxo3v9bw","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d318x10013goooluui8ivx"},{"post_id":"ck2d318wq000ggoooi81o5wfs","tag_id":"ck2d318wy000vgooov9xmgfi2","_id":"ck2d318x20016gooo6zir5qwn"},{"post_id":"ck2d318ws000kgoooqgiy4fie","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d318x4001agooo95u4o1r7"},{"post_id":"ck2d318wt000mgoool0a8ukin","tag_id":"ck2d318ws000jgooo17v0a267","_id":"ck2d318x5001egooos2dsjrqz"},{"post_id":"ck2d318wt000mgoool0a8ukin","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d318x6001hgoooma01qkqd"},{"post_id":"ck2d318wv000pgooogro95m0b","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d318x6001jgooouhdlv1tt"},{"post_id":"ck2d318wy000ugooo0fwd7ylb","tag_id":"ck2d318x6001igooofpw4p4q2","_id":"ck2d318x7001ngooo9ncmj7cb"},{"post_id":"ck2d318wz000xgoooiwyx39oi","tag_id":"ck2d318x7001mgooogbkip9yb","_id":"ck2d318x8001rgooo5vpw1lzn"},{"post_id":"ck2d318x00011gooo303scjb1","tag_id":"ck2d318x7001qgoooex1kbee4","_id":"ck2d318x9001vgooonrf8zzi0"},{"post_id":"ck2d318x10014goooo7qqwxvj","tag_id":"ck2d318x7001qgoooex1kbee4","_id":"ck2d318xa001zgooo35ryvlbz"},{"post_id":"ck2d318x20018goookh9e5g0s","tag_id":"ck2d318xa001ygooo4eiyvdmb","_id":"ck2d318xb0022gooo6755sn9m"},{"post_id":"ck2d3190k0029goooeyo4hr76","tag_id":"ck2d318wv000qgoootmztgqct","_id":"ck2d3190l002agooolfazoruk"}],"Tag":[{"name":"Git","_id":"ck2d318wj0008gooonpyvku0h"},{"name":"Hexo","_id":"ck2d318wo000dgoooxxtqndwb"},{"name":"Centos","_id":"ck2d318ws000jgooo17v0a267"},{"name":"Linux","_id":"ck2d318wv000qgoootmztgqct"},{"name":"vm","_id":"ck2d318wy000vgooov9xmgfi2"},{"name":"win10","_id":"ck2d318x6001igooofpw4p4q2"},{"name":"vscode","_id":"ck2d318x7001mgooogbkip9yb"},{"name":"shell","_id":"ck2d318x7001qgoooex1kbee4"},{"name":"ssh","_id":"ck2d318xa001ygooo4eiyvdmb"}]}}